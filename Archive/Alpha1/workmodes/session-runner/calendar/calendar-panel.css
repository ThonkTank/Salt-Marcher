/* src/workmodes/session-runner/calendar/calendar-panel.css */
/* Redesigned calendar panel - Compact & Unified layout */

/* ===================================== */
/* Main Panel Container */
/* ===================================== */

/* NOTE: Container styles removed - calendar now renders directly into
   sm-panel-card__body (from sidebar.ts), which provides standard card
   padding, gap, and background. This ensures visual consistency with
   Weather, Audio, and Travel panels. */

/* Section wrappers - no additional styling needed */
.sm-calendar-panel__timestamp-section,
.sm-calendar-panel__controls-section,
.sm-calendar-panel__current-events-section,
.sm-calendar-panel__upcoming-events-section {
  /* Transparent - rely on card body styling */
}

/* ===================================== */
/* Timestamp Display - Large & Centered */
/* ===================================== */

.sm-calendar-timestamp {
  display: flex;
  flex-direction: column;
  gap: 2px;
  padding: 4px;
  text-align: center;
}

.sm-calendar-timestamp__date {
  font-size: var(--sm-font-size-base);
  font-weight: var(--sm-font-weight-semibold);
  color: var(--sm-color-text-primary);
  line-height: var(--sm-line-height-tight);
  letter-spacing: 0.5px;  /* Improved breathing room (was 0.3px) */
}

.sm-calendar-timestamp__time {
  font-size: var(--sm-font-size-sm);
  color: var(--sm-color-text-secondary);
  font-style: normal;  /* Remove italic for better readability (was italic) */
  font-weight: var(--sm-font-weight-normal);
  line-height: var(--sm-line-height-normal);  /* Add consistent line-height */
}

/* Loading state */
.sm-calendar-timestamp.is-loading {
  opacity: 0.6;
  animation: pulse 1.5s ease-in-out infinite;
}

/* Error state */
.sm-calendar-timestamp.has-error .sm-calendar-timestamp__date {
  color: var(--sm-color-danger);
}

/* Empty state */
.sm-calendar-timestamp.is-empty .sm-calendar-timestamp__date {
  color: var(--sm-color-text-secondary);
  font-style: normal;  /* Remove italic (was italic) */
  font-weight: var(--sm-font-weight-normal);
  opacity: 0.7;  /* Use opacity instead of italic */
}

@keyframes pulse {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 1; }
}

/* ===================================== */
/* Time Controls - Inline with Icon Buttons */
/* ===================================== */

.sm-calendar-time-controls {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

/* Single row: [Input] [Dropdown] [‚ñ∂Ô∏è] [üìÖ] */
.sm-calendar-time-controls__advance-row {
  display: flex;
  gap: 2px;
  align-items: center;
}

.sm-calendar-time-controls__amount-input {
  flex: 0 0 45px;
  padding: var(--sm-space-xs) var(--sm-space-xs);
  font-size: var(--sm-font-size-sm);
  border: 1px solid var(--sm-color-border);
  border-radius: var(--sm-cartographer-border-radius-sm);
  background: var(--sm-color-bg-primary);
  color: var(--sm-color-text-primary);
  text-align: center;
  height: 32px;
}

.sm-calendar-time-controls__amount-input:focus {
  outline: none;
  border-color: var(--sm-color-primary);
}

.sm-calendar-time-controls__amount-input.has-error {
  border-color: var(--sm-color-danger);
  animation: shake 0.3s ease;
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-4px); }
  75% { transform: translateX(4px); }
}

.sm-calendar-time-controls__unit-select {
  flex: 1;
  padding: var(--sm-space-xs) var(--sm-space-xs);
  font-size: var(--sm-font-size-sm);
  border: 1px solid var(--sm-color-border);
  border-radius: var(--sm-cartographer-border-radius-sm);
  background: var(--sm-color-bg-primary);
  color: var(--sm-color-text-primary);
  cursor: pointer;
  height: 32px;
}

.sm-calendar-time-controls__unit-select:focus {
  outline: none;
  border-color: var(--sm-color-primary);
}

/* Icon buttons - Primary (advance) vs Secondary (jump) */
.sm-calendar-time-controls__advance-btn {
  flex: 0 0 auto;
  min-width: 32px;
  height: 32px;
  padding: 0 var(--sm-space-xs);
  font-size: var(--sm-font-size-sm);
  font-weight: var(--sm-font-weight-medium);
  background: var(--sm-color-primary);
  color: var(--sm-color-bg-primary);
  border: none;
  border-radius: var(--sm-cartographer-border-radius-sm);
  cursor: pointer;
  transition: all var(--sm-cartographer-transition-fast);
  display: flex;
  align-items: center;
  justify-content: center;
}

.sm-calendar-time-controls__advance-btn:hover:not(:disabled) {
  background: color-mix(in srgb, var(--sm-color-primary) 80%, black);
  transform: translateY(-1px);
  box-shadow: var(--sm-shadow-sm);
}

.sm-calendar-time-controls__advance-btn:active:not(:disabled) {
  transform: translateY(0);
}

.sm-calendar-time-controls__advance-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Jump button - Secondary style (normal background, border) */
.sm-calendar-time-controls__jump-btn {
  flex: 0 0 auto;
  min-width: 32px;
  height: 32px;
  padding: 0 var(--sm-space-xs);
  font-size: var(--sm-font-size-sm);
  font-weight: var(--sm-font-weight-medium);
  background: var(--sm-color-bg-secondary);
  color: var(--sm-color-text-primary);
  border: 1px solid var(--sm-color-border);
  border-radius: var(--sm-cartographer-border-radius-sm);
  cursor: pointer;
  transition: all var(--sm-cartographer-transition-fast);
  display: flex;
  align-items: center;
  justify-content: center;
}

.sm-calendar-time-controls__jump-btn:hover:not(:disabled) {
  background: var(--sm-color-bg-tertiary);
  border-color: var(--sm-color-primary);
}

.sm-calendar-time-controls__jump-btn:active:not(:disabled) {
  transform: translateY(0);
}

.sm-calendar-time-controls__jump-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* ===================================== */
/* Divider System - Horizontal Separators */
/* ===================================== */

.sm-calendar-panel__divider {
  display: flex;
  align-items: center;
  gap: var(--sm-space-xs);
  padding: var(--sm-space-xs) 0;
  border-top: 1px solid color-mix(in srgb, var(--sm-color-border) 40%, transparent);
  margin-top: var(--sm-space-xs);
}

.sm-calendar-panel__divider-text {
  font-size: var(--sm-font-size-xs);
  font-weight: var(--sm-font-weight-semibold);
  color: color-mix(in srgb, var(--sm-color-text-primary) 60%, var(--sm-color-text-secondary) 40%);
  text-transform: uppercase;
  letter-spacing: 0.6px;  /* Slightly tighter for better readability (was 0.8px) */
  white-space: nowrap;
}

.sm-calendar-panel__divider-line {
  flex: 1;
  height: 1px;
  background: color-mix(in srgb, var(--sm-color-border) 40%, transparent);
}

/* ===================================== */
/* Current Events - Compact One-Line Items */
/* ===================================== */

.sm-calendar-current-events {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.sm-calendar-current-events__header {
  display: flex;
  align-items: center;
  gap: var(--sm-space-xs);
  padding: var(--sm-space-xs) 0 var(--sm-space-xs) 0;
  font-size: var(--sm-font-size-xs);
  font-weight: var(--sm-font-weight-semibold);
  color: color-mix(in srgb, var(--sm-color-text-primary) 60%, var(--sm-color-text-secondary) 40%);
  text-transform: uppercase;
  letter-spacing: 0.6px;  /* Better readability (was 0.8px) */
  border-bottom: 1px solid color-mix(in srgb, var(--sm-color-border) 40%, transparent);
}

.sm-calendar-current-events__header-line {
  flex: 1;
  height: 1px;
  background: color-mix(in srgb, var(--sm-color-border) 40%, transparent);
}

.sm-calendar-current-events__list {
  display: flex;
  flex-direction: column;
  gap: 2px;
  max-height: 200px;
  overflow-y: auto;
}

/* Compact one-line items */
.sm-calendar-current-events__item {
  display: flex;
  align-items: center;
  gap: var(--sm-space-xs);
  padding: var(--sm-space-xs);
  background: transparent;
  border-radius: var(--sm-cartographer-border-radius-sm);
  transition: background var(--sm-cartographer-transition-fast);
  font-size: var(--sm-font-size-sm);
  color: var(--sm-color-text-primary);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.sm-calendar-current-events__item.is-clickable {
  cursor: pointer;
}

.sm-calendar-current-events__item.is-clickable:hover {
  background: var(--sm-color-bg-secondary);
}

.sm-calendar-current-events__indicator {
  flex-shrink: 0;
  width: 14px;
  height: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--sm-color-text-primary);
  opacity: 0.7;
}

.sm-calendar-current-events__indicator svg {
  width: 100%;
  height: 100%;
}

.sm-calendar-current-events__content {
  flex: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.sm-calendar-current-events__empty {
  padding: var(--sm-space-xs) 0;
  text-align: center;
  color: var(--sm-color-text-secondary);
  font-size: var(--sm-font-size-sm);
  font-style: normal;  /* Remove italic (was italic) */
  opacity: 0.8;  /* Use opacity instead of italic to indicate empty state */
}

/* ===================================== */
/* Upcoming Events - Very Compact */
/* ===================================== */

.sm-calendar-upcoming-events {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.sm-calendar-upcoming-events__header {
  display: flex;
  align-items: center;
  gap: var(--sm-space-xs);
  padding: var(--sm-space-xs) 0 var(--sm-space-xs) 0;
  font-size: var(--sm-font-size-xs);
  font-weight: var(--sm-font-weight-semibold);
  color: color-mix(in srgb, var(--sm-color-text-primary) 60%, var(--sm-color-text-secondary) 40%);
  text-transform: uppercase;
  letter-spacing: 0.6px;  /* Better readability (was 0.8px) */
  border-bottom: 1px solid color-mix(in srgb, var(--sm-color-border) 40%, transparent);
}

.sm-calendar-upcoming-events__header-line {
  flex: 1;
  height: 1px;
  background: color-mix(in srgb, var(--sm-color-border) 40%, transparent);
}

.sm-calendar-upcoming-events__list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 2px;
  max-height: 250px;
  overflow-y: auto;
}

/* Very compact one-line items */
.sm-calendar-upcoming-events__item {
  display: flex;
  align-items: center;
  gap: var(--sm-space-xs);
  padding: var(--sm-space-xs);
  background: transparent;
  border-radius: var(--sm-cartographer-border-radius-sm);
  transition: background var(--sm-cartographer-transition-fast);
  font-size: var(--sm-font-size-sm);
  color: var(--sm-color-text-primary);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.sm-calendar-upcoming-events__item.is-clickable {
  cursor: pointer;
}

.sm-calendar-upcoming-events__item.is-clickable:hover {
  background: var(--sm-color-bg-secondary);
}

.sm-calendar-upcoming-events__icon {
  flex-shrink: 0;
  width: 14px;
  height: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--sm-color-text-secondary);
  opacity: 0.8;
}

.sm-calendar-upcoming-events__icon svg {
  width: 100%;
  height: 100%;
}

.sm-calendar-upcoming-events__content {
  flex: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.sm-calendar-upcoming-events__empty {
  padding: var(--sm-space-xs) 0;
  text-align: center;
  color: var(--sm-color-text-secondary);
  font-size: var(--sm-font-size-sm);
  font-style: normal;  /* Remove italic (was italic) */
  opacity: 0.8;  /* Use opacity instead of italic to indicate empty state */
}

/* ===================================== */
/* Almanac Link - Centered */
/* ===================================== */

.sm-calendar-panel__link-section {
  padding-top: var(--sm-space-xs);
  border-top: 1px solid color-mix(in srgb, var(--sm-color-border) 40%, transparent);
  display: flex;
  justify-content: center;
}

.sm-calendar-panel__almanac-link {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: var(--sm-space-xs) var(--sm-space-xs);
  background: transparent;
  color: var(--sm-color-primary);
  border: none;
  border-radius: var(--sm-cartographer-border-radius-sm);
  font-size: var(--sm-font-size-sm);
  font-weight: var(--sm-font-weight-medium);
  text-decoration: none;
  cursor: pointer;
  transition: all var(--sm-cartographer-transition-fast);
}

.sm-calendar-panel__almanac-link:hover {
  background: var(--sm-color-bg-secondary);
  color: color-mix(in srgb, var(--sm-color-primary) 80%, black);
}

/* ===================================== */
/* Date Picker Modal (unchanged) */
/* ===================================== */

.sm-date-picker-modal {
  padding: 4px;
}

.sm-date-picker-modal h2 {
  margin: 0 0 var(--sm-space-xs) 0;
  font-size: var(--sm-font-size-lg);
  font-weight: var(--sm-font-weight-semibold);
  color: var(--sm-color-text-primary);
}

.sm-date-picker-modal__description {
  margin: 0 0 var(--sm-space-xs) 0;
  font-size: var(--sm-font-size-sm);
  color: var(--sm-color-text-secondary);
}

.sm-date-picker-modal__form {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.sm-date-picker-modal__row {
  display: flex;
  align-items: center;
  gap: 2px;
}

.sm-date-picker-modal__label {
  flex: 0 0 60px;
  font-size: var(--sm-font-size-sm);
  font-weight: var(--sm-font-weight-medium);
  color: var(--sm-color-text-primary);
}

.sm-date-picker-modal__select {
  flex: 1;
  padding: var(--sm-space-xs);
  font-size: var(--sm-font-size-sm);
  border: 1px solid var(--sm-color-border);
  border-radius: var(--sm-cartographer-border-radius-sm);
  background: var(--sm-color-bg-primary);
  color: var(--sm-color-text-primary);
  cursor: pointer;
}

.sm-date-picker-modal__select:focus {
  outline: none;
  border-color: var(--sm-color-primary);
}

.sm-date-picker-modal__actions {
  display: flex;
  gap: 2px;
  margin-top: 4px;
  justify-content: flex-end;
}

.sm-date-picker-modal__btn {
  padding: var(--sm-space-xs) var(--sm-space-xs);
  font-size: var(--sm-font-size-sm);
  font-weight: var(--sm-font-weight-medium);
  background: var(--sm-color-bg-secondary);
  color: var(--sm-color-text-primary);
  border: 1px solid var(--sm-color-border);
  border-radius: var(--sm-cartographer-border-radius-sm);
  cursor: pointer;
  transition: all var(--sm-cartographer-transition-fast);
}

.sm-date-picker-modal__btn:hover {
  background: var(--sm-color-bg-tertiary);
  border-color: var(--sm-color-primary);
}

.sm-date-picker-modal__btn--primary {
  background: var(--sm-color-primary);
  color: var(--sm-color-bg-primary);
  border-color: var(--sm-color-primary);
}

.sm-date-picker-modal__btn--primary:hover {
  background: color-mix(in srgb, var(--sm-color-primary) 80%, black);
  border-color: color-mix(in srgb, var(--sm-color-primary) 80%, black);
}

/* ===================================== */
/* Dark Mode Adjustments */
/* ===================================== */

/* Design System handles dark mode automatically via .theme-dark variables
   defined in cartographer.css - no manual overrides needed */
