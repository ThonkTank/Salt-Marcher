# Development Roadmap

> **Wird ben√∂tigt von:** Aktueller Task

Implementierungsstrategie und aktueller Status f√ºr Salt Marcher.

---

## Status-Legende

| Status | Bedeutung |
|--------|-----------|
| ‚¨ú | Offen - Noch nicht implementiert |
| ‚úÖ | Implementiert und funktionsf√§hig |
| ‚ö†Ô∏è | Implementiert aber nicht funktionsf√§hig |
| üî∂ | Funktionsf√§hig aber nicht spezifikations-konform |

---

## üìã Tasks

| # | Status | Bereich | Beschreibung | Prio | MVP? | Deps | Spec | Imp. |
|--:|:------:|---------|--------------|:----:|:----:|------|------|------|
| 1 | ‚úÖ | Travel | State-Machine: idle ‚Üí planning ‚Üí traveling ‚Üî paused ‚Üí idle | hoch | Ja | - | [Travel-System.md#state-machine](../features/Travel-System.md#state-machine) | travel-store.ts:setPlanning/setTraveling/setPaused/setResumed/setIdle |
| 2 | ‚úÖ | Travel | Route-Planung mit Waypoints und Pathfinding | hoch | Ja | #1 | [Travel-System.md#prioritaet](../features/Travel-System.md#prioritaet) | travel-service.ts:planRouteInternal/planRouteWithWaypointsInternal/findPathGreedy/buildRoute |
| 3 | ‚úÖ | Travel | Speed-Berechnung: Basis-Speed √ó Terrain-Faktor √ó Weather-Faktor | hoch | Ja | - | [Travel-System.md#speed-berechnung](../features/Travel-System.md#speed-berechnung) | types.ts:calculateHexTraversalTime, travel-service.ts:getBaseSpeed |
| 4 | ‚úÖ | Travel | Transport-Modi: foot, mounted, carriage, boat mit Terrain-Restriktionen | hoch | Ja | #3 | [Travel-System.md#transport-modi](../features/Travel-System.md#transport-modi) | schemas/party.ts:TRANSPORT_BASE_SPEEDS, travel-service.ts:validateTraversable |
| 5 | ‚úÖ | Travel | Terrain-Faktoren aus TerrainDefinition.movementCost lesen | hoch | Ja | #3 | [Travel-System.md#terrain-faktoren](../features/Travel-System.md#terrain-faktoren) | travel-service.ts:calculateSegmentTime (via mapFeature.getMovementCost) |
| 6 | ‚úÖ | Travel | Weather-Faktoren anwenden (clear, rain, storm, etc.) | hoch | Ja | #3, #110 | [Travel-System.md#weather-faktoren](../features/Travel-System.md#weather-faktoren) | travel-service.ts:getWeatherSpeedFactor |
| 7 | ‚úÖ | Travel | Zeit-Integration via time:advance-requested | hoch | Ja | #1 | [Travel-System.md#event-flow](../features/Travel-System.md#event-flow) | travel-service.ts:publishTimeAdvance |
| 8 | ‚úÖ | Travel | Animierte Token-Bewegung auf der Karte | hoch | Ja | #2 | [Travel-System.md#prioritaet](../features/Travel-System.md#prioritaet) | travel-service.ts:processNextTravelTick, travel-store.ts:advanceMinutesElapsed |
| 9 | ‚úÖ | Travel | Encounter-Checks pro Stunde (12.5% Basis-Chance) | hoch | Ja | #1, #7, #215 | [Travel-System.md#encounter-checks-waehrend-reisen](../features/Travel-System.md#encounter-checks-waehrend-reisen) | travel-service.ts:checkForEncounter, encounter-chance.ts:calculateEncounterChance/rollEncounter |
| 10 | ‚úÖ | Travel | Population-Modifikator f√ºr Encounter-Chance | hoch | Ja | #9 | [Travel-System.md#population-modifikator](../features/Travel-System.md#population-modifikator) | encounter-chance.ts:getPopulationFactor, travel-service.ts:getPopulationAt |
| 11 | ‚úÖ | Travel | Pause/Resume Funktionalit√§t | hoch | Ja | #1 | [Travel-System.md#state-machine](../features/Travel-System.md#state-machine) | travel-service.ts:pauseTravelInternal/resumeTravelInternal, travel-store.ts:setPaused/setResumed |
| 12 | ‚úÖ | Travel | Event-Flow: travel:plan-requested ‚Üí route-planned ‚Üí start-requested ‚Üí started ‚Üí position-changed ‚Üí completed | hoch | Ja | #1, #2 | [Travel-System.md#event-flow](../features/Travel-System.md#event-flow) | travel-service.ts:publishRoutePlanned/publishTravelStarted/publishPositionChanged/publishTravelCompleted/publishStateChanged |
| 13 | ‚úÖ | Travel | Position-Ownership: Party als Single Source of Truth | hoch | Ja | - | [Travel-System.md#position-ownership](../features/Travel-System.md#position-ownership) | party-service.ts:setPosition (aufgerufen von travel-service.ts) |
| 14 | ‚¨ú | Travel | Transport-Invariante: activeTransport muss in availableTransports sein | hoch | Ja | #4 | [Travel-System.md#transport-mode-invarianten](../features/Travel-System.md#transport-mode-invarianten) | travel-service.ts:validateTransportAvailable [neu], party-service.ts:setActiveTransport [√§ndern] |
| 15 | üî∂ | Travel | Validation bei travel:plan-requested - Terrain OK, Transport-Invariante (#14) fehlt | hoch | Ja | #14 | [Travel-System.md#validation-zeitpunkte](../features/Travel-System.md#validation-zeitpunkte) | travel-service.ts:validateTraversable, planRouteInternal [√§ndern] |
| 16 | ‚ö†Ô∏è | Travel | Fehlerbehandlung: travel:failed - Fehler nur geloggt, keine Events publiziert | hoch | Ja | #15 | [Travel-System.md#fehlerbehandlung](../features/Travel-System.md#fehlerbehandlung) | travel-service.ts:publishTravelFailed [neu], setupEventHandlers [√§ndern] |
| 17 | ‚¨ú | Travel | Pfad-Integration: Direktionsabh√§ngiger Speed-Multiplikator | mittel | Nein | #3 | [Travel-System.md#pfad-modifikation-post-mvp](../features/Travel-System.md#pfad-modifikation-post-mvp) | travel-service.ts:getPathMultiplier [neu], calculateSegmentTime [√§ndern] |
| 18 | ‚¨ú | Travel | Pfad-Barrieren: blocksMovement und requiresTransport | mittel | Nein | #17 | [Travel-System.md#pfad-modifikation-post-mvp](../features/Travel-System.md#pfad-modifikation-post-mvp) | travel-service.ts:getPathMultiplier [√§ndern], validateTraversable [√§ndern] |
| 19 | ‚¨ú | Travel | Pfad-Str√∂mung: Flussabw√§rts schneller | niedrig | Nein | #17, #18 | [Travel-System.md#pfad-modifikation-post-mvp](../features/Travel-System.md#pfad-modifikation-post-mvp) | travel-service.ts:getPathMultiplier [√§ndern] |
| 20 | ‚¨ú | Travel | Resource-Tracking: Rationen-Verbrauch bei Reisen | mittel | Nein | #7 | [Travel-System.md#tagesreise-berechnung](../features/Travel-System.md#tagesreise-berechnung) | party-service.ts:consumeRations [neu], travel-service.ts:processNextTravelTick [√§ndern] |
| 21 | ‚¨ú | Travel | Forced March: 10h/Tag mit Ersch√∂pfungsrisiko | niedrig | Nein | #7, #20 | [Travel-System.md#standard-reisestunden](../features/Travel-System.md#standard-reisestunden) | party-service.ts:addExhaustion [neu], travel-service.ts:checkForcedMarch [neu] |
| 101 | ‚úÖ | Weather | WeatherParams: Basis-Parameter-Interface (Temperatur, Wind, Niederschlag) | hoch | Ja | - | [Weather-System.md#parameter](../features/Weather-System.md#parameter) | src/core/schemas/weather.ts:weatherParamsSchema, src/features/weather/types.ts:WeatherFeaturePort |
| 102 | ‚úÖ | Weather | Temperatur-Kategorisierung (freezing, cold, cool, mild, warm, hot) mit mechanischen Effekten | hoch | Ja | #101 | [Weather-System.md#temperatur](../features/Weather-System.md#temperatur) | src/core/schemas/weather.ts:temperatureCategorySchema+TEMPERATURE_THRESHOLDS, src/features/weather/weather-utils.ts:classifyTemperature() |
| 103 | ‚úÖ | Weather | Wind-Kategorisierung (calm, light, moderate, strong, gale) mit Effekten | hoch | Ja | #101 | [Weather-System.md#wind](../features/Weather-System.md#wind) | src/core/schemas/weather.ts:windCategorySchema+WIND_THRESHOLDS, src/features/weather/weather-utils.ts:classifyWind() |
| 104 | ‚úÖ | Weather | Niederschlag-Kategorisierung (none, drizzle, rain, heavy_rain, snow, blizzard, fog) | hoch | Ja | #101 | [Weather-System.md#niederschlag](../features/Weather-System.md#niederschlag) | src/core/schemas/weather.ts:precipitationTypeSchema+PRECIPITATION_THRESHOLDS, src/features/weather/weather-utils.ts:classifyPrecipitation() |
| 105 | ‚úÖ | Weather | TerrainWeatherRanges: Terrain-basierte Wetter-Kurven (min/average/max) | hoch | Ja | #101 | [Weather-System.md#tile-basierte-wetter-ranges](../features/Weather-System.md#tile-basierte-wetter-ranges) | src/core/schemas/weather.ts:terrainWeatherRangesSchema+DEFAULT_WEATHER_RANGES, src/core/schemas/terrain.ts:TerrainDefinition.weatherRanges, presets/terrains/base-terrains.json |
| 106 | ‚úÖ | Weather | Weather-Generierung aus Ranges (Gaussian-√§hnliche Verteilung) | hoch | Ja | #105 | [Weather-System.md#generierungs-mechanik](../features/Weather-System.md#generierungs-mechanik) | src/features/weather/weather-utils.ts:generateWeatherFromRanges()+generateFromRange() |
| 107 | ‚úÖ | Weather | Area-Averaging: Gewichteter Wetter-Durchschnitt √ºber Radius=5 | hoch | Ja | #106 | [Weather-System.md#area-averaging](../features/Weather-System.md#area-averaging) | src/features/weather/weather-utils.ts:calculateAreaWeather(), src/features/weather/weather-service.ts:getTileWeatherRanges() |
| 108 | ‚úÖ | Weather | Time-Segment-Modifikatoren (6 Segmente mit Temperatur-Offset) | hoch | Ja | #101 | [Weather-System.md#time-segment-berechnung](../features/Weather-System.md#time-segment-berechnung) | src/core/schemas/weather.ts:SEGMENT_TEMPERATURE_MODIFIERS, src/features/weather/weather-utils.ts:generateWeatherFromRanges() |
| 109 | ‚úÖ | Weather | √úbergangs-Logik: Gradueller Wetter-Wechsel (TRANSITION_SPEED=0.3) | hoch | Ja | #108 | [Weather-System.md#uebergangs-logik](../features/Weather-System.md#uebergangs-logik) | src/features/weather/weather-utils.ts:transitionWeather(), src/features/weather/weather-service.ts:calculateNewWeather() |
| 110 | ‚úÖ | Weather | Event-Flow: time:segment-changed ‚Üí environment:weather-changed | hoch | Ja | #109, #910 | [Weather-System.md#event-flow](../features/Weather-System.md#event-flow) | src/features/weather/weather-service.ts:setupEventHandlers()+publishWeatherChanged() |
| 111 | ‚úÖ | Weather | Weather-Persistierung: currentWeather als Map Property | hoch | Ja | #110, #801 | [Weather-System.md#weather-persistierung](../features/Weather-System.md#weather-persistierung) | src/core/schemas/map.ts:MapState.currentWeather, src/features/weather/weather-service.ts:initializeWeather() |
| 112 | ‚úÖ | Weather | Multi-Map Weather: Indoor-Maps haben kein Wetter | hoch | Ja | #111 | [Weather-System.md#multi-map-weather](../features/Weather-System.md#multi-map-weather) | src/features/weather/weather-service.ts:initializeWeather() (map.type check) |
| 113 | ‚¨ú | Weather | Multi-Map Weather: Stadt-Maps erben Wetter vom Overworld-Tile | hoch | Ja | #112 | [Weather-System.md#map-typ-regeln](../features/Weather-System.md#map-typ-regeln) | src/features/weather/weather-service.ts:getWeatherForMap() [neu] |
| 114 | ‚¨ú | Weather | Background Weather Tick: Overworld-Weather l√§uft im Hintergrund | hoch | Ja | #111, #910 | [Weather-System.md#background-weather](../features/Weather-System.md#background-weather) | src/features/weather/weather-service.ts:setupEventHandlers() [√§ndern] |
| 115 | ‚¨ú | Weather | Weather-Events: Blizzard, Thunderstorm, Heatwave, Dense Fog, Dust Storm | mittel | Nein | #110 | [Weather-System.md#weather-events](../features/Weather-System.md#weather-events) | src/features/weather/weather-utils.ts:checkWeatherEvents() [neu], src/core/events/types.ts [√§ndern] |
| 116 | ‚¨ú | Weather | Audio-Integration: Ambiance-Sounds bei weather-changed anpassen | mittel | Nein | #110, #1107 | [Weather-System.md#consumer-features](../features/Weather-System.md#consumer-features) | src/features/audio/orchestrator.ts [neu] |
| 117 | ‚¨ú | Weather | Visibility-Modifier: Sichtweiten-Reduktion basierend auf Niederschlag | mittel | Nein | #104 | [Weather-System.md#sichtweiten-einfluss-post-mvp](../features/Weather-System.md#sichtweiten-einfluss-post-mvp) | src/features/map/visibility.ts:getVisibilityModifier() [neu] |
| 118 | ‚¨ú | Weather | Terrain-Einfluss auf Nachbar-Tiles (mountains blockiert Wind, etc.) | niedrig | Nein | #107 | [Weather-System.md#terrain-einfluss-nice-to-have](../features/Weather-System.md#terrain-einfluss-nice-to-have) | src/features/weather/weather-utils.ts:calculateAreaWeather() [√§ndern] |
| 119 | ‚¨ú | Weather | GM Weather Override: Manuelles √úberschreiben des generierten Wetters | mittel | Nein | #111 | [Weather-System.md#gm-weather-override](../features/Weather-System.md#gm-weather-override) | src/core/schemas/map.ts:MapState.weatherOverride [neu], src/features/weather/weather-service.ts:setWeatherOverride() [neu] |
| 120 | ‚¨ú | Weather | Weather-Historie: Signifikante √Ñnderungen in Almanac EventJournal speichern | niedrig | Nein | #111, #2208 | [Weather-System.md#weather-historie-in-almanac](../features/Weather-System.md#weather-historie-in-almanac) | src/features/almanac/event-journal.ts [neu] |
| 121 | ‚¨ú | Weather | Zeit-R√ºcksprung (Recall): Historisches Wetter wiederherstellen | niedrig | Nein | #120, #2208 | [Weather-System.md#zeit-ruecksprung-recall](../features/Weather-System.md#zeit-ruecksprung-recall) | src/features/weather/weather-service.ts:recallWeather() [neu] |
| 200 | ‚úÖ | Encounter | Terrain-Filter: Kreatur.terrainAffinities vs aktuelles Terrain | hoch | Ja | #801 | [Encounter-System.md#tile-eligibility](../features/Encounter-System.md#tile-eligibility) | encounter-utils.ts:filterEligibleCreatures() |
| 201 | ‚úÖ | Encounter | Tageszeit-Filter: Kreatur.activeTime vs aktuelles TimeSegment | hoch | Ja | #910 | [Encounter-System.md#tile-eligibility](../features/Encounter-System.md#tile-eligibility) | encounter-utils.ts:filterEligibleCreatures() |
| 202 | ‚úÖ | Encounter | Fraktionspr√§senz-Gewichtung: Fraktion kontrolliert Tile ‚Üí √ó2.0-5.0 | hoch | Ja | #200, #201 | [Encounter-System.md#gewichtung-soft-factors](../features/Encounter-System.md#gewichtung-soft-factors) | encounter-utils.ts:calculateCreatureWeight() |
| 203 | ‚úÖ | Encounter | Rarit√§ts-Gewichtung: common √ó1.0, uncommon √ó0.3, rare √ó0.05 | hoch | Ja | #200, #201 | [Encounter-System.md#gewichtung-soft-factors](../features/Encounter-System.md#gewichtung-soft-factors) | encounter-utils.ts:calculateCreatureWeight() |
| 204 | ‚úÖ | Encounter | Wetter-Gewichtung: Kreatur.preferredWeather matched ‚Üí √ó1.5 | hoch | Ja | #200, #201, #110 | [Encounter-System.md#gewichtung-soft-factors](../features/Encounter-System.md#gewichtung-soft-factors) | encounter-utils.ts:calculateCreatureWeight() |
| 205 | ‚¨ú | Encounter | Pfad-basierte Creature-Pools: Pfade f√ºgen Kreaturen zum Pool hinzu | mittel | Nein | #200-204, #1801 | [Encounter-System.md#pfad-basierte-creature-pools-post-mvp](../features/Encounter-System.md#pfad-basierte-creature-pools-post-mvp) | encounter-utils.ts:getEligibleCreatures() [neu] |
| 206 | ‚úÖ | Encounter | Gewichtete Zufallsauswahl aus eligible Creatures | hoch | Ja | #202-204 | [Encounter-System.md#kreatur-auswahl](../features/Encounter-System.md#kreatur-auswahl) | encounter-utils.ts:selectWeightedCreature() |
| 207 | ‚úÖ | Encounter | Typ-Ableitung: Disposition + Faction-Relation + CR-Balancing ‚Üí Encounter-Typ | hoch | Ja | #206 | [Encounter-System.md#typ-ableitung](../features/Encounter-System.md#typ-ableitung) | encounter-utils.ts:deriveEncounterType() |
| 208 | ‚úÖ | Encounter | Wahrscheinlichkeits-Matrix implementieren (hostile/neutral/friendly √ó winnable) | hoch | Ja | #207 | [Encounter-System.md#wahrscheinlichkeits-matrix](../features/Encounter-System.md#wahrscheinlichkeits-matrix) | encounter-utils.ts:getTypeProbabilities() |
| 209 | ‚úÖ | Encounter | EncounterHistory-Tracking (letzte 3-5 Encounters, typeDistribution) | hoch | Ja | - | [Encounter-System.md#variety-validation](../features/Encounter-System.md#variety-validation) | encounter-store.ts:addToHistory(), types.ts:InternalEncounterState |
| 210 | ‚úÖ | Encounter | Variety-Algorithmus: Bei √úberrepr√§sentation ‚Üí Typ-Anpassung | hoch | Ja | #209 | [Encounter-System.md#algorithmus](../features/Encounter-System.md#algorithmus) | encounter-utils.ts:validateVariety(), encounter-store.ts:trackCreatureType() |
| 211 | ‚úÖ | Encounter | CreatureSlot-Union: ConcreteCreatureSlot, TypedCreatureSlot, BudgetCreatureSlot | hoch | Ja | - | [Encounter-System.md#creatureslot-varianten](../features/Encounter-System.md#creatureslot-varianten) | schemas/encounter.ts:concreteCreatureSlotSchema, typedCreatureSlotSchema, budgetCreatureSlotSchema, creatureSlotSchema |
| 212 | ‚úÖ | Encounter | EncounterDefinition-Schema mit creatureSlots, triggers, loot | hoch | Ja | #211 | [Encounter-System.md#encounterdefinition](../features/Encounter-System.md#encounterdefinition) | schemas/encounter.ts:encounterDefinitionSchema, encounterTriggersSchema |
| 213 | ‚úÖ | Encounter | EncounterInstance-Schema mit creatures, leadNPC, status, outcome, loot, hoard | hoch | Ja | #212 | [Encounter-System.md#encounterinstance](../features/Encounter-System.md#encounterinstance) | schemas/encounter.ts:encounterInstanceSchema, schemas/creature.ts:creatureInstanceSchema, schemas/npc.ts:encounterLeadNpcSchema |
| 214 | ‚úÖ | Encounter | Encounter-State-Machine: pending ‚Üí active ‚Üí resolved | hoch | Ja | #213 | [Encounter-System.md#state-machine](../features/Encounter-System.md#state-machine) | encounter-service.ts:startEncounterInternal(), resolveEncounterInternal(), dismissEncounterInternal(), encounter-store.ts:setCurrentEncounter(), addToHistory() |
| 215 | ‚úÖ | Encounter | encounter:generate-requested Handler (einheitlicher Einstiegspunkt) | hoch | Ja | #200-210, #801, #910 | [Encounter-System.md#aktivierungs-flow](../features/Encounter-System.md#aktivierungs-flow) | encounter-service.ts:setupEventHandlers(), executeGenerationPipeline() |
| 216 | ‚úÖ | Encounter | Context-Erstellung: Tile, TimeSegment, Weather, PartyLevel | hoch | Ja | #215, #801, #910, #1001 | [Encounter-System.md#context-erstellung](../features/Encounter-System.md#context-erstellung) | encounter-service.ts:setupEventHandlers() (Context-Building in handler) |
| 217 | ‚úÖ | Encounter | encounter:start-requested Handler | hoch | Ja | #214 | [Encounter-System.md#events](../features/Encounter-System.md#events) | encounter-service.ts:subscribeToEvents() |
| 218 | ‚úÖ | Encounter | encounter:dismiss-requested Handler | hoch | Ja | #214 | [Encounter-System.md#events](../features/Encounter-System.md#events) | encounter-service.ts:subscribeToEvents() |
| 219 | ‚úÖ | Encounter | encounter:resolve-requested Handler | hoch | Ja | #214 | [Encounter-System.md#events](../features/Encounter-System.md#events) | encounter-service.ts:subscribeToEvents() |
| 220 | ‚úÖ | Encounter | encounter:generated Event publizieren | hoch | Ja | #215, #216 | [Encounter-System.md#events](../features/Encounter-System.md#events) | encounter-service.ts:publishEncounterGenerated(), events/types.ts:EncounterGeneratedPayload |
| 221 | ‚úÖ | Encounter | encounter:started Event publizieren | hoch | Ja | #217 | [Encounter-System.md#events](../features/Encounter-System.md#events) | encounter-service.ts:publishEncounterStarted(), events/types.ts:EncounterStartedPayload |
| 222 | ‚úÖ | Encounter | encounter:dismissed Event publizieren | hoch | Ja | #218 | [Encounter-System.md#events](../features/Encounter-System.md#events) | encounter-service.ts:publishEncounterDismissed(), events/types.ts:EncounterDismissedPayload |
| 223 | ‚úÖ | Encounter | encounter:resolved Event publizieren mit xpAwarded | hoch | Ja | #219 | [Encounter-System.md#events](../features/Encounter-System.md#events) | encounter-service.ts:publishEncounterResolved(), events/types.ts:EncounterResolvedPayload |
| 224 | ‚úÖ | Encounter | encounter:state-changed Event publizieren | hoch | Ja | #214 | [Encounter-System.md#events](../features/Encounter-System.md#events) | encounter-service.ts:publishStateChanged(), events/types.ts:EncounterStateChangedPayload |
| 225 | ‚úÖ | Encounter | Combat-Typ: combat:start-requested triggern | hoch | Ja | #221, #300 | [Encounter-System.md#combat](../features/Encounter-System.md#combat) | encounter-service.ts:publishCombatStartRequested(), createCombatParticipantsFromEncounter() |
| 226 | ‚úÖ | Encounter | Social-Typ: NPC-Interaktion (manuell durch GM) | hoch | Ja | #221, #231 | [Encounter-System.md#social](../features/Encounter-System.md#social) | encounter-service.ts:startEncounterInternal() (type-specific handling) |
| 227 | ‚úÖ | Encounter | Passing-Typ: Sofortige Beschreibung anzeigen | hoch | Ja | #221 | [Encounter-System.md#passing](../features/Encounter-System.md#passing) | encounter-utils.ts:generateDescription() |
| 228 | ‚úÖ | Encounter | Trace-Typ: Investigation-Modus (manuell durch GM) | hoch | Ja | #221 | [Encounter-System.md#trace](../features/Encounter-System.md#trace) | encounter-utils.ts:generateDescription() |
| 229 | ‚¨ú | Encounter | Environmental-Typ: Umwelt-Herausforderungen | mittel | Nein | #214 | [Encounter-System.md#environmental--location-post-mvp](../features/Encounter-System.md#environmental--location-post-mvp) | schemas/encounter.ts:encounterTypeSchema [√§ndern], encounter-utils.ts:deriveEncounterType() [√§ndern] |
| 230 | ‚¨ú | Encounter | Location-Typ: POI-Discovery | mittel | Nein | #214, #1901 | [Encounter-System.md#environmental--location-post-mvp](../features/Encounter-System.md#environmental--location-post-mvp) | schemas/encounter.ts:encounterTypeSchema [√§ndern], encounter-utils.ts:deriveEncounterType() [√§ndern] |
| 231 | ‚úÖ | Encounter | NPC-Instanziierung: Bei Encounter suchen/erstellen mit Faction-Kultur | hoch | Ja | #220, #2001, #2101 | [Encounter-System.md#npc-instanziierung](../features/Encounter-System.md#npc-instanziierung) | npc-generator.ts:selectOrGenerateNpc(), resolveFactionCulture(), calculateNpcMatchScore() |
| 232 | ‚úÖ | Encounter | Lead-NPC Persistierung bei Encounter-Generierung | hoch | Ja | #231 | [Encounter-System.md#npc-instanziierung](../features/Encounter-System.md#npc-instanziierung) | npc-generator.ts:generateNewNpc(), createEncounterLeadNpc(), encounter-service.ts:executeGenerationPipeline() |
| 233 | ‚úÖ | Encounter | 40/60 XP Split: 40% sofort bei Encounter-Ende | hoch | Ja | #223, #2401 | [Encounter-System.md#xp-system](../features/Encounter-System.md#xp-system) | encounter-service.ts:resolveEncounterInternal() (XP calculation) |
| 234 | ‚úÖ | Encounter | 60% XP zu Quest-Reward-Pool bei Quest-Encounters | hoch | Ja | #233, #2401 | [Encounter-System.md#xp-system](../features/Encounter-System.md#xp-system) | encounter-service.ts:resolveEncounterInternal() (Quest-Integration) [implementiert als Comment] |
| 235 | ‚úÖ | Encounter | CRComparison Type: trivial, manageable, deadly, impossible | hoch | Ja | - | [Encounter-Balancing.md#cr-vergleich](../features/Encounter-Balancing.md#cr-vergleich) | encounter-utils.ts:CRComparison type definition |
| 236 | ‚úÖ | Encounter | compareCR Funktion: CR/Level Ratio ‚Üí CRComparison | hoch | Ja | #235, #1001 | [Encounter-Balancing.md#cr-vergleich](../features/Encounter-Balancing.md#cr-vergleich) | encounter-utils.ts:compareCR() |
| 237 | ‚úÖ | Encounter | EncounterDifficulty Type: Easy, Medium, Hard, Deadly | hoch | Ja | - | [Encounter-Balancing.md#difficulty-bestimmung](../features/Encounter-Balancing.md#difficulty-bestimmung) | schemas/encounter.ts:encounterDifficultySchema |
| 238 | ‚úÖ | Encounter | Difficulty-W√ºrfel: 12.5% Easy, 50% Medium, 25% Hard, 12.5% Deadly | hoch | Ja | #237 | [Encounter-Balancing.md#difficulty-bestimmung](../features/Encounter-Balancing.md#difficulty-bestimmung) | encounter-utils.ts:rollDifficulty() |
| 239 | ‚úÖ | Encounter | calculateXPBudget: Party-Size √ó Level √ó Difficulty-Faktor | hoch | Ja | #237, #1001 | [Encounter-Balancing.md#xp-budget-dd-5e](../features/Encounter-Balancing.md#xp-budget-dd-5e) | encounter-utils.ts:calculateXPBudget() |
| 240 | ‚úÖ | Encounter | Gruppen-Multiplikatoren: Anzahl Gegner ‚Üí effektives XP | hoch | Ja | - | [Encounter-Balancing.md#gruppen-multiplikatoren](../features/Encounter-Balancing.md#gruppen-multiplikatoren) | encounter-utils.ts:getGroupMultiplier(), calculateEffectiveXP() |
| 241 | ‚úÖ | Encounter | DailyXPTracker Interface: date, budgetTotal, budgetUsed, encountersToday | hoch | Ja | #910 | [Encounter-Balancing.md#daily-xp-budget-tracking](../features/Encounter-Balancing.md#daily-xp-budget-tracking) | types.ts:DailyXPTracker, encounter-store.ts:getDailyXP() |
| 242 | ‚¨ú | Encounter | Long Rest Budget-Reset: budgetUsed = 0 bei rest:long-rest-completed | hoch | Ja | #241, #954 | [Encounter-Balancing.md#resting--budget-reset](../features/Encounter-Balancing.md#resting--budget-reset) | encounter-service.ts:setupEventHandlers() [√§ndern - auf rest:long-rest-completed statt time:day-changed] |
| 243 | ‚úÖ | Encounter | Ersch√∂pftes Budget Effekt: <25% ‚Üí 50% Combat‚ÜíTrace, =0% ‚Üí keine Combat | hoch | Ja | #241, #242 | [Encounter-Balancing.md#effekt-auf-generierung](../features/Encounter-Balancing.md#effekt-auf-generierung) | encounter-service.ts:executeGenerationPipeline(), encounter-store.ts:isDailyBudgetExhausted() |
| 244 | ‚úÖ | Encounter | selectCompanions: Lead + Budget-Rest ‚Üí Begleiter-Kreaturen | hoch | Ja | #239, #240 | [Encounter-Balancing.md#companion-selection](../features/Encounter-Balancing.md#companion-selection) | encounter-utils.ts:selectCompanions(), calculateCreatureXP() |
| 245 | ‚úÖ | Encounter | fillCombatEncounter: Lead + Companions + XP-Berechnung | hoch | Ja | #238, #244 | [Encounter-Balancing.md#combat-befuellung](../features/Encounter-Balancing.md#combat-befuellung) | encounter-service.ts:executeGenerationPipeline() (Combat branch) |
| 246 | ‚úÖ | Encounter | Activity & Goal Selection: Kreatur ‚Üí m√∂gliche Aktivit√§ten/Ziele | hoch | Ja | #910 | [Encounter-Balancing.md#activity--goal-selection](../features/Encounter-Balancing.md#activity--goal-selection) | encounter-utils.ts:generateActivity(), generateGoal() |
| 247 | ‚¨ú | Encounter | SocialEncounter Interface: leadNPC, disposition, possibleOutcomes, trade? | hoch | Ja | #213, #231 | [Encounter-Balancing.md#social](../features/Encounter-Balancing.md#social) | schemas/encounter.ts [√§ndern], types.ts:SocialEncounter [neu] |
| 248 | ‚¨ú | Encounter | TraceEncounter Interface: creature, inferredActivity, age, clues, trackingDC | hoch | Ja | #213 | [Encounter-Balancing.md#trace](../features/Encounter-Balancing.md#trace) | schemas/encounter.ts [√§ndern], types.ts:TraceEncounter [neu] |
| 249 | ‚¨ú | Encounter | PassingEncounter Interface: creature, activity, distance, awareness | hoch | Ja | #213 | [Encounter-Balancing.md#passing](../features/Encounter-Balancing.md#passing) | schemas/encounter.ts [√§ndern], types.ts:PassingEncounter [neu] |
| 250 | ‚¨ú | Encounter | GroupRelation Interface: groupA, groupB, relation, context | niedrig | Nein | #213 | [Encounter-Balancing.md#gruppen-relationen](../features/Encounter-Balancing.md#gruppen-relationen) | schemas/encounter.ts [√§ndern], types.ts:GroupRelation [neu] |
| 251 | ‚¨ú | Encounter | Multi-Gruppen-Trigger: Variety-Adjustment, Location-based, Random Chance | niedrig | Nein | #210, #250 | [Encounter-Balancing.md#wann-multi-gruppen](../features/Encounter-Balancing.md#wann-multi-gruppen) | encounter-utils.ts:shouldGenerateMultiGroup() [neu] |
| 252 | ‚¨ú | Encounter | Multi-Gruppen-Generierung: 2+ NPC-Gruppen mit Relationen | niedrig | Nein | #245, #250, #251 | [Encounter-Balancing.md#multi-gruppen-encounters-post-mvp](../features/Encounter-Balancing.md#multi-gruppen-encounters-post-mvp) | encounter-utils.ts:generateMultiGroupEncounter() [neu] |
| 300 | ‚úÖ | Combat | CombatState Interface implementieren | hoch | Ja | - | [Combat-System.md#combatstate](../features/Combat-System.md#combatstate) | src/core/schemas/combat.ts:combatStateSchema |
| 301 | ‚úÖ | Combat | CombatParticipant Interface implementieren | hoch | Ja | #300 | [Combat-System.md#combatstate](../features/Combat-System.md#combatstate) | src/core/schemas/combat.ts:combatParticipantSchema |
| 302 | ‚úÖ | Combat | ConditionType + CONDITION_REMINDERS implementieren | hoch | Ja | - | [Combat-System.md#conditions](../features/Combat-System.md#conditions) | src/core/schemas/combat.ts:conditionTypeSchema, src/core/schemas/combat.ts:CONDITION_REMINDERS |
| 303 | ‚úÖ | Combat | CombatEffect Interface implementieren | hoch | Ja | #301 | [Combat-System.md#combateffect](../features/Combat-System.md#combateffect) | src/core/schemas/combat.ts:combatEffectSchema |
| 304 | ‚úÖ | Combat | AbilityKey Type definieren | hoch | Ja | - | [Combat-System.md#combateffect](../features/Combat-System.md#combateffect) | src/core/schemas/combat.ts:abilityKeySchema |
| 305 | ‚úÖ | Combat | Combat State Machine: idle ‚Üí active ‚Üí idle | hoch | Ja | #300 | [Combat-System.md#combat-flow](../features/Combat-System.md#combat-flow) | src/features/combat/combat-service.ts:startCombat(), src/features/combat/combat-service.ts:endCombat() |
| 306 | ‚úÖ | Combat | Initiative-Eingabe: GM tr√§gt Werte ein | hoch | Ja | #301 | [Combat-System.md#eingabe](../features/Combat-System.md#eingabe) | src/features/combat/combat-service.ts:updateInitiative(), src/features/combat/combat-store.ts:updateInitiative() |
| 307 | ‚úÖ | Combat | sortByInitiative(): H√∂herer Wert zuerst, Tie-breaker | hoch | Ja | #301 | [Combat-System.md#sortierung](../features/Combat-System.md#sortierung) | src/features/combat/combat-store.ts:startCombat() (Zeile 106) |
| 308 | ‚úÖ | Combat | applyDamage(): HP reduzieren, Events publizieren | hoch | Ja | #301 | [Combat-System.md#damageheal](../features/Combat-System.md#damageheal) | src/features/combat/combat-service.ts:applyDamage() |
| 309 | ‚úÖ | Combat | applyHealing(): HP erh√∂hen (max: maxHp) | hoch | Ja | #301 | [Combat-System.md#damageheal](../features/Combat-System.md#damageheal) | src/features/combat/combat-service.ts:applyHealing() |
| 310 | ‚úÖ | Combat | Konzentrations-Check bei Damage: DC = max(10, damage/2) | hoch | Ja | #308 | [Combat-System.md#damageheal](../features/Combat-System.md#damageheal) | src/features/combat/combat-utils.ts:calculateConcentrationDc(), src/features/combat/combat-utils.ts:needsConcentrationCheck() |
| 311 | ‚úÖ | Combat | Character-Downed Event bei HP = 0 | hoch | Ja | #308 | [Combat-System.md#damageheal](../features/Combat-System.md#damageheal) | src/features/combat/combat-service.ts:publishCharacterDowned() (in applyDamage) |
| 312 | ‚úÖ | Combat | Condition hinzuf√ºgen (addCondition) | hoch | Ja | #302 | [Combat-System.md#conditions](../features/Combat-System.md#conditions) | src/features/combat/combat-service.ts:addCondition(), src/features/combat/combat-store.ts:addCondition() |
| 313 | ‚úÖ | Combat | Condition entfernen (removeCondition) | hoch | Ja | #302 | [Combat-System.md#conditions](../features/Combat-System.md#conditions) | src/features/combat/combat-service.ts:removeCondition(), src/features/combat/combat-store.ts:removeCondition() |
| 314 | ‚úÖ | Combat | Condition-Duration bei Turn-Ende reduzieren | hoch | Ja | #312 | [Combat-System.md#effekt-verarbeitung](../features/Combat-System.md#effekt-verarbeitung) | src/features/combat/combat-store.ts:decrementConditionDurations() (in nextTurn) |
| 315 | ‚úÖ | Combat | CombatEffect hinzuf√ºgen (addEffect) | hoch | Ja | #303 | [Combat-System.md#combateffect](../features/Combat-System.md#combateffect) | src/features/combat/combat-service.ts:addEffect(), src/features/combat/combat-store.ts:addEffect() |
| 316 | ‚úÖ | Combat | CombatEffect entfernen (removeEffect) | hoch | Ja | #303 | [Combat-System.md#combateffect](../features/Combat-System.md#combateffect) | src/features/combat/combat-service.ts:removeEffect(), src/features/combat/combat-store.ts:removeEffect() |
| 317 | ‚úÖ | Combat | processTurnStart(): Start-of-Turn Effekte sammeln | hoch | Ja | #315 | [Combat-System.md#start-of-turn](../features/Combat-System.md#start-of-turn) | src/features/combat/combat-utils.ts:getStartOfTurnEffects() |
| 318 | ‚úÖ | Combat | processTurnEnd(): Effect-Duration reduzieren | hoch | Ja | #315 | [Combat-System.md#effekt-verarbeitung](../features/Combat-System.md#effekt-verarbeitung) | src/features/combat/combat-store.ts:decrementEffectDurations() (in nextTurn) |
| 319 | ‚úÖ | Combat | nextTurn(): Zum n√§chsten Participant wechseln | hoch | Ja | #307 | [Combat-System.md#combat-flow](../features/Combat-System.md#combat-flow) | src/features/combat/combat-service.ts:nextTurn() |
| 320 | ‚úÖ | Combat | Round-Tracking: roundNumber incrementieren bei Umlauf | hoch | Ja | #319 | [Combat-System.md#combat-flow](../features/Combat-System.md#combat-flow) | src/features/combat/combat-store.ts:advanceTurn() |
| 321 | ‚úÖ | Combat | combat:start-requested Handler implementieren | hoch | Ja | #305 | [Combat-System.md#events](../features/Combat-System.md#events) | src/features/combat/combat-service.ts:setupEventHandlers() (Zeile 205-217) |
| 322 | ‚úÖ | Combat | combat:started Event publizieren | hoch | Ja | #321 | [Combat-System.md#events](../features/Combat-System.md#events) | src/features/combat/combat-service.ts:publishCombatStarted() |
| 323 | ‚úÖ | Combat | combat:end-requested Handler implementieren | hoch | Ja | #305 | [Combat-System.md#events](../features/Combat-System.md#events) | src/features/combat/combat-service.ts:setupEventHandlers() (Zeile 220-225) |
| 324 | ‚úÖ | Combat | combat:completed Event publizieren mit xpAwarded, roundsTotal | hoch | Ja | #323 | [Combat-System.md#events](../features/Combat-System.md#events) | src/features/combat/combat-service.ts:publishCombatCompleted() |
| 325 | ‚úÖ | Combat | combat:turn-changed Event publizieren | hoch | Ja | #319 | [Combat-System.md#events](../features/Combat-System.md#events) | src/features/combat/combat-service.ts:publishTurnChanged() |
| 326 | ‚úÖ | Combat | combat:participant-hp-changed Event publizieren | hoch | Ja | #308, #309 | [Combat-System.md#events](../features/Combat-System.md#events) | src/features/combat/combat-service.ts:publishHpChanged() |
| 327 | ‚úÖ | Combat | combat:character-downed Event publizieren | hoch | Ja | #311 | [Combat-System.md#events](../features/Combat-System.md#events) | src/features/combat/combat-service.ts:publishCharacterDowned() |
| 328 | ‚¨ú | Combat | combat:character-stabilized Event publizieren | hoch | Ja | #327 | [Combat-System.md#events](../features/Combat-System.md#events) | src/features/combat/combat-service.ts:publishCharacterStabilized() [neu] |
| 329 | ‚¨ú | Combat | combat:character-died Event publizieren | hoch | Ja | #327 | [Combat-System.md#events](../features/Combat-System.md#events) | src/features/combat/combat-service.ts:publishCharacterDied() [neu] |
| 330 | ‚úÖ | Combat | combat:concentration-check-required Event publizieren | hoch | Ja | #310 | [Combat-System.md#events](../features/Combat-System.md#events) | src/features/combat/combat-service.ts:publishConcentrationCheckRequired() |
| 331 | ‚úÖ | Combat | combat:concentration-broken Event publizieren | hoch | Ja | #330 | [Combat-System.md#events](../features/Combat-System.md#events) | src/features/combat/combat-service.ts:publishConcentrationBroken() |
| 332 | ‚úÖ | Combat | combat:effect-added Event publizieren | hoch | Ja | #315 | [Combat-System.md#events](../features/Combat-System.md#events) | src/features/combat/combat-service.ts:addEffect() (Zeile 542-545) |
| 333 | ‚úÖ | Combat | combat:effect-removed Event publizieren | hoch | Ja | #316 | [Combat-System.md#events](../features/Combat-System.md#events) | src/features/combat/combat-service.ts:removeEffect() (Zeile 573-576) |
| 334 | ‚úÖ | Combat | combat:condition-added Event publizieren | hoch | Ja | #312 | [Combat-System.md#events](../features/Combat-System.md#events) | src/features/combat/combat-service.ts:publishConditionAdded() |
| 335 | ‚úÖ | Combat | combat:condition-removed Event publizieren | hoch | Ja | #313 | [Combat-System.md#events](../features/Combat-System.md#events) | src/features/combat/combat-service.ts:publishConditionRemoved() |
| 336 | ‚úÖ | Combat | calculateCombatDuration(): roundNumber √ó 6 Sekunden | hoch | Ja | #324 | [Combat-System.md#zeit-berechnung](../features/Combat-System.md#zeit-berechnung) | src/features/combat/combat-utils.ts:calculateCombatDuration() |
| 337 | ‚úÖ | Combat | time:advance-requested bei combat:completed publizieren | hoch | Ja | #336 | [Combat-System.md#event-flow-1](../features/Combat-System.md#event-flow-1) | src/features/combat/combat-service.ts:publishTimeAdvance() (in endCombat) |
| 338 | ‚úÖ | Combat | XP-Berechnung: Basis-XP aus besiegten Kreaturen | hoch | Ja | #324 | [Combat-System.md#xp-berechnung](../features/Combat-System.md#xp-berechnung) | src/features/combat/combat-utils.ts:calculateCombatXp(), src/features/combat/combat-utils.ts:getXpForCr() |
| 339 | ‚úÖ | Combat | GM XP-Modifier: ¬±% Anpassung | hoch | Ja | #338 | [Combat-System.md#xp-berechnung](../features/Combat-System.md#xp-berechnung) | src/features/combat/types.ts:CombatResult (UI integriert Modifier) |
| 340 | ‚úÖ | Combat | 40/60 XP-Split: 40% sofort, 60% Quest-Pool | hoch | Ja | #338 | [Combat-System.md#xp-berechnung](../features/Combat-System.md#xp-berechnung) | src/features/combat/types.ts:CombatResult (UI-Integration offen) |
| 341 | ‚¨ú | Combat | quest:xp-accumulated Event bei Quest-Zuweisung | hoch | Ja | #340, #2435, #2441 | [Combat-System.md#event-sequenz](../features/Combat-System.md#event-sequenz) | DetailView/Resolution-UI [neu] (UI-Verantwortung, nicht Combat-Service) |
| 342 | ‚¨ú | Combat | loot:distributed Event bei Loot-Verteilung | hoch | Ja | #324, #2437, #2441 | [Combat-System.md#event-sequenz](../features/Combat-System.md#event-sequenz) | DetailView/Resolution-UI [neu] (UI-Verantwortung, nicht Combat-Service) |
| 343 | ‚¨ú | Combat | encounter:resolved Event nach Resolution-Flow | hoch | Ja | #338, #223, #2441 | [Combat-System.md#event-sequenz](../features/Combat-System.md#event-sequenz) | DetailView/Resolution-UI [neu] (UI-Verantwortung, nicht Combat-Service) |
| 344 | ‚¨ú | Combat | Resumable Combat State: Combat bei Plugin-Reload wiederherstellen | mittel | Nein | #305 | [Combat-System.md#resumable-combat-state-skizze](../features/Combat-System.md#resumable-combat-state-skizze) | src/features/combat/combat-service.ts:restoreCombat() [neu], Plugin-Daten-Integration [neu] |
| 345 | ‚¨ú | Combat | Grid-Positioning: Positionierung auf Battle-Map | mittel | Nein | - | [Combat-System.md#post-mvp-erweiterungen](../features/Combat-System.md#post-mvp-erweiterungen) | src/features/combat/types.ts:CombatParticipant.position [neu], UI-Grid [neu] |
| 346 | ‚¨ú | Combat | Legendary Actions: Tracking f√ºr Boss-Kreaturen | niedrig | Nein | - | [Combat-System.md#post-mvp-erweiterungen](../features/Combat-System.md#post-mvp-erweiterungen) | src/features/combat/types.ts:CombatParticipant.legendaryActions [neu] |
| 347 | ‚¨ú | Combat | Lair Actions: Automatische Trigger | niedrig | Nein | - | [Combat-System.md#post-mvp-erweiterungen](../features/Combat-System.md#post-mvp-erweiterungen) | src/features/combat/types.ts:CombatState.lairActions [neu] |
| 348 | ‚¨ú | Combat | Reaction-Tracking: Wer hat Reaction verbraucht | niedrig | Nein | - | [Combat-System.md#post-mvp-erweiterungen](../features/Combat-System.md#post-mvp-erweiterungen) | src/features/combat/types.ts:CombatParticipant.reactionUsed [neu] |
| 349 | ‚¨ú | Combat | Spell Slot Tracking: Automatische Reduktion | niedrig | Nein | - | [Combat-System.md#post-mvp-erweiterungen](../features/Combat-System.md#post-mvp-erweiterungen) | src/features/combat/combat-service.ts:trackSpellSlot() [neu], Character-Integration [neu] |
| 400 | ‚úÖ | Quest | Quest State-Machine: unknown ‚Üí discovered ‚Üí active ‚Üí completed/failed | hoch | Ja | - | [Quest-System.md#quest-state-machine](../features/Quest-System.md#quest-state-machine) | [quest-service.ts](../../src/features/quest/quest-service.ts) |
| 401 | ‚úÖ | Quest | QuestStatus Type: unknown, discovered, active, completed, failed | hoch | Ja | #400 | [Quest.md#quest-status](../domain/Quest.md#quest-status) | [quest.ts:28-34](../../src/core/schemas/quest.ts) |
| 402 | ‚úÖ | Quest | QuestDefinition Schema im EntityRegistry | hoch | Ja | - | [Quest.md#questdefinition](../domain/Quest.md#questdefinition) | [quest.ts:231-271](../../src/core/schemas/quest.ts) |
| 403 | ‚úÖ | Quest | QuestObjective Schema (kill, collect, visit, escort, deliver, talk, custom) | hoch | Ja | #402 | [Quest.md#questobjective](../domain/Quest.md#questobjective) | [quest.ts:88-106](../../src/core/schemas/quest.ts) |
| 404 | ‚úÖ | Quest | ObjectiveTarget Schema mit typ-abh√§ngigen Feldern | hoch | Ja | #403 | [Quest.md#questobjective](../domain/Quest.md#questobjective) | [quest.ts:67-81](../../src/core/schemas/quest.ts) |
| 405 | ‚úÖ | Quest | QuestEncounterSlot Schema (predefined-quantum, predefined-located, unspecified) | hoch | Ja | #402 | [Quest.md#questencounterslot](../domain/Quest.md#questencounterslot) | [quest.ts:132-150](../../src/core/schemas/quest.ts) |
| 406 | ‚úÖ | Quest | QuestReward Schema (item, xp, reputation) mit Placement-Optionen | hoch | Ja | #402 | [Quest.md#questreward](../domain/Quest.md#questreward) | [quest.ts:182-200](../../src/core/schemas/quest.ts) |
| 407 | ‚úÖ | Quest | QuestProgress Runtime-State (Resumable) | hoch | Ja | #400, #402 | [Quest-System.md#quest-progress-runtime-state](../features/Quest-System.md#quest-progress-runtime-state) | [quest-store.ts](../../src/features/quest/quest-store.ts), [types.ts](../../src/features/quest/types.ts) |
| 408 | ‚úÖ | Quest | 40/60 XP Split: 40% sofort bei Encounter-Ende (NON-NEGOTIABLE) | hoch | Ja | #407, #417 | [Quest-System.md#4060-split-mechanik](../features/Quest-System.md#4060-split-mechanik) | [quest-xp.ts](../../src/features/quest/quest-xp.ts) |
| 409 | ‚úÖ | Quest | 60% XP zum Quest-Pool bei Quest-Encounter | hoch | Ja | #408 | [Quest-System.md#4060-split-mechanik](../features/Quest-System.md#4060-split-mechanik) | [quest-service.ts:545-546](../../src/features/quest/quest-service.ts) |
| 410 | ‚úÖ | Quest | Quest XP Auszahlung bei quest:completed | hoch | Ja | #409, #417 | [Quest-System.md#xp-verteilung](../features/Quest-System.md#xp-verteilung) | [quest-service.ts:604-614](../../src/features/quest/quest-service.ts) |
| 411 | ‚úÖ | Quest | UI-Prompt nach encounter:resolved f√ºr Quest-Zuweisung | hoch | Ja | #405 | [Quest-System.md#encounter-slot-matching](../features/Quest-System.md#encounter-slot-matching) | [quest-service.ts:188-195](../../src/features/quest/quest-service.ts) |
| 412 | ‚úÖ | Quest | Quest-Assignment UI im Post-Combat Resolution Flow | hoch | Ja | #411 | [Quest-System.md#quest-assignment-ui-post-combat](../features/Quest-System.md#quest-assignment-ui-post-combat) | [slot-assignment-dialog.ts](../../src/application/shared/dialogs/slot-assignment-dialog.ts) |
| 413 | ‚úÖ | Quest | quest:xp-accumulated Event bei Encounter-Zuweisung | hoch | Ja | #412 | [Quest-System.md#quest-feature-state-machine](../features/Quest-System.md#quest-feature-state-machine) | [quest-service.ts:548-551](../../src/features/quest/quest-service.ts) |
| 414 | ‚úÖ | Quest | quest:discovered Event | hoch | Ja | #400 | [Quest.md#events](../domain/Quest.md#events) | [quest-service.ts:366-369](../../src/features/quest/quest-service.ts) |
| 415 | ‚úÖ | Quest | quest:activated Event | hoch | Ja | #400 | [Quest.md#events](../domain/Quest.md#events) | [quest-service.ts:418](../../src/features/quest/quest-service.ts) |
| 416 | ‚úÖ | Quest | quest:objective-completed Event | hoch | Ja | #403 | [Quest.md#events](../domain/Quest.md#events) | [quest-service.ts:487-491](../../src/features/quest/quest-service.ts) |
| 417 | ‚úÖ | Quest | quest:completed Event mit totalXP und rewards | hoch | Ja | #400, #406 | [Quest.md#events](../domain/Quest.md#events) | [quest-service.ts:604-608](../../src/features/quest/quest-service.ts) |
| 418 | ‚úÖ | Quest | quest:failed Event mit reason (deadline, condition-violated, abandoned) | hoch | Ja | #400 | [Quest.md#events](../domain/Quest.md#events) | [quest-service.ts:260-263](../../src/features/quest/quest-service.ts) |
| 419 | ‚úÖ | Quest | quest:encounter-assigned Event | hoch | Ja | #405, #413 | [Quest.md#events](../domain/Quest.md#events) | [quest-service.ts:553-558](../../src/features/quest/quest-service.ts) |
| 420 | ‚úÖ | Quest | quest:state-changed Event | hoch | Ja | #400 | [Quest-System.md#quest-feature-state-machine](../features/Quest-System.md#quest-feature-state-machine) | [quest-service.ts:250-253](../../src/features/quest/quest-service.ts) |
| 421 | ‚úÖ | Quest | Subscription: encounter:resolved ‚Üí Zeige UI-Prompt f√ºr Quest-Zuweisung | hoch | Ja | #411 | [Quest-System.md#quest-feature-state-machine](../features/Quest-System.md#quest-feature-state-machine) | [quest-service.ts:108-114](../../src/features/quest/quest-service.ts) |
| 422 | ‚úÖ | Quest | Subscription: time:state-changed ‚Üí Check Quest-Deadlines | hoch | Ja | #400 | [Quest-System.md#quest-feature-state-machine](../features/Quest-System.md#quest-feature-state-machine) | [quest-service.ts:117-125](../../src/features/quest/quest-service.ts) |
| 423 | ‚¨ú | Quest | Subscription: entity:deleted ‚Üí Check Quest-Invalidierung | hoch | Ja | #402 | [Quest-System.md#quest-feature-state-machine](../features/Quest-System.md#quest-feature-state-machine) | quest-service.ts:setupEventHandlers() [neu - entity:deleted Subscription] |
| 424 | ‚úÖ | Quest | getQuestDefinition(questId): Option<QuestDefinition> | hoch | Ja | #402 | [Quest.md#queries](../domain/Quest.md#queries) | [quest-service.ts:335-338](../../src/features/quest/quest-service.ts), [types.ts:141](../../src/features/quest/types.ts) |
| 425 | ‚¨ú | Quest | getQuestsByStatus(status): QuestDefinition[] | hoch | Ja | #400, #428 | [Quest.md#queries](../domain/Quest.md#queries) | quest-service.ts [neu - getQuestsByStatus() Query-Methode], ben√∂tigt Zugriff auf questDefinitions-Array |
| 426 | ‚¨ú | Quest | getQuestsByGiver(npcId): QuestDefinition[] | hoch | Ja | #402 | [Quest.md#queries](../domain/Quest.md#queries) | quest-service.ts [neu - getQuestsByGiver() Query-Methode], filtert questDefinitions nach questGiver-Feld |
| 427 | ‚úÖ | Quest | getQuestsWithOpenSlots(): QuestDefinition[] | hoch | Ja | #405 | [Quest.md#queries](../domain/Quest.md#queries) | [quest-service.ts:297-303](../../src/features/quest/quest-service.ts) |
| 428 | ‚úÖ | Quest | Quest-Panel im SessionRunner | hoch | Ja | #402 | [Quest-System.md#ui-integration](../features/Quest-System.md#ui-integration) | [sidebar.ts:updateQuestSection()](../../src/application/session-runner/panels/sidebar.ts), [viewmodel.ts:Quest-Callbacks](../../src/application/session-runner/viewmodel.ts), [types.ts:QuestSectionState](../../src/application/session-runner/types.ts) |
| 428b | ‚¨ú | Quest | Entity-Links in Quest-Panel (zu DetailView Tabs) | mittel | Nein | #428, #2448 | [Quest.md#entity-beziehungen](../domain/Quest.md#entity-beziehungen) | sidebar.ts [√§ndern - Links zu DetailView f√ºr NPCs, POIs], ben√∂tigt Location-Tab #2448 |
| 429 | ‚úÖ | Quest | Quest-Management: Status-Verwaltung (Discover, Activate, Complete, Fail) | hoch | Ja | #400, #428 | [Quest.md#quest-management-im-session-runner](../domain/Quest.md#quest-management-im-session-runner) | [quest-service.ts](../../src/features/quest/quest-service.ts) (discoverQuest, activateQuest, completeQuest, failQuest) |
| 430 | ‚úÖ | Quest | Objective-Progress manuelles Tracking | hoch | Ja | #403, #428 | [Quest.md#quest-management-im-session-runner](../domain/Quest.md#quest-management-im-session-runner) | [quest-service.ts:424-494](../../src/features/quest/quest-service.ts) |
| 431 | ‚úÖ | Quest | Encounter-Slots Zuweisung UI | hoch | Ja | #405, #428 | [Quest.md#quest-management-im-session-runner](../domain/Quest.md#quest-management-im-session-runner) | [slot-assignment-dialog.ts](../../src/application/shared/dialogs/slot-assignment-dialog.ts) |
| 432 | ‚¨ú | Quest | lootDistribution Konfiguration in QuestDefinition | hoch | Ja | #402 | [Quest-System.md#quest-schema-entityregistry](../features/Quest-System.md#quest-schema-entityregistry) | quest.ts:questDefinitionSchema [√§ndern - lootDistribution-Feld hinzuf√ºgen], ben√∂tigt #2801 (Loot-Feature) |
| 433 | ‚¨ú | Quest | Budget-Integration: Quest-Rewards reservieren Loot-Budget | hoch | Ja | #406, #432, #2801 | [Quest-System.md#budget-integration](../features/Quest-System.md#budget-integration) | features/loot/loot-service.ts [neu], quest-service.ts [√§ndern - Integration mit Loot-Budget-System] |
| 434 | ‚úÖ | Quest | QuestPrerequisite Schema (informativ, nicht automatisch) | mittel | Nein | #402 | [Quest.md#questprerequisite](../domain/Quest.md#questprerequisite) | [quest.ts:210-221](../../src/core/schemas/quest.ts) |
| 435 | ‚¨ú | Quest | Quantum-Encounter/Rewards Platzierung via UI | mittel | Nein | #405, #406, #428 | [Quest-System.md#quantum-encounterrewards-platzierung](../features/Quest-System.md#quantum-encounterrewards-platzierung) | Quest-Panel [neu - UI-Komponente f√ºr Quantum-Platzierung], quest-store.ts:placeReward() [nutzen], Map-Integration [neu] |
| 436 | ‚¨ú | Quest | Konfigurierbare XP-Split Prozents√§tze (Settings) | niedrig | Nein | #408 | [Quest-System.md#4060-xp-split-konfiguration](../features/Quest-System.md#4060-xp-split-konfiguration) | quest-xp.ts [√§ndern - IMMEDIATE_XP_PERCENT/QUEST_POOL_XP_PERCENT von Settings lesen], Settings-Integration [neu], SettingsTab-Felder [neu] |
| 437 | ‚¨ú | Quest | Hidden Objectives (Story-Feature) | niedrig | Nein | #403, #428 | [Quest.md#prioritaet](../domain/Quest.md#prioritaet) | quest.ts:questObjectiveSchema [nutzt bereits hidden-Feld], Quest-UI [√§ndern - hidden=true Objectives ausblenden], quest-service.ts [√§ndern - discoverObjective() Methode f√ºr Reveal-Mechanik] |
| 438 | ‚¨ú | Quest | Reputation-Rewards | mittel | Nein | #406 | [Quest.md#prioritaet](../domain/Quest.md#prioritaet) | quest.ts:reputationRewardSchema [existiert bereits], quest-service.ts:completeQuest() [√§ndern - Reputation-Rewards verarbeiten], Party/Faction-Integration [neu - Reputation-System] |
| 439 | ‚¨ú | Quest | Quest-Editor in Library | mittel | Nein | #402 | [Quest-System.md#prioritaet](../features/Quest-System.md#prioritaet) | application/library/quest-editor.ts [neu - CRUD-UI f√ºr QuestDefinition], EntityRegistry-Integration [nutzen] |
| 440 | ‚¨ú | Quest | Journal: Quest-Events automatisch loggen (discovered, activated, objective-completed, completed, failed) | hoch | Ja | #414, #415, #416, #417, #418, #2205 | [Quest.md#journal](../domain/Quest.md#journal) | features/journal/journal-service.ts [neu oder √§ndern - Subscriptions f√ºr Quest-Events], Event-to-JournalEntry Mapping [neu] |
| 441 | ‚¨ú | Quest | Reminder-System: Entity-Detail-Views zeigen verkn√ºpfte Quests (NPC-Detail, POI-Detail, Item-Detail) | mittel | Nein | #402 | [Quest.md#reminder-system](../domain/Quest.md#reminder-system) | application/library/entity-detail-view.ts [√§ndern - getRelatedQuests() Helper], quest-service.ts [neu - Query-Methoden f√ºr Entity-Quest-Verkn√ºpfungen] |
| 442 | ‚¨ú | Quest | NPC.availableQuests Feld f√ºr Quest-Geber (informativ) | mittel | Nein | #402, #1300 | [Quest.md#npc-als-quest-geber](../domain/Quest.md#npc-als-quest-geber) | npc.ts:npcSchema [√§ndern - availableQuests-Feld hinzuf√ºgen], NPC-Detail-View [√§ndern - Quest-Links anzeigen] |
| 500 | ‚úÖ | Character | Character-Interface: id, name, level, class, maxHp, currentHp, ac, speed, strength, inventory | hoch | Ja | - | [Character-System.md#character-schema](../features/Character-System.md#character-schema) | [character.ts](../../src/core/schemas/character.ts) |
| 501 | ‚úÖ | Character | Zod-Schema f√ºr Character-Validierung | hoch | Ja | #500 | [Character-System.md#character-schema](../features/Character-System.md#character-schema) | [character.ts](../../src/core/schemas/character.ts) |
| 502 | ‚úÖ | Character | EncounterBalancingInput-Interface: partyLevel, partySize, totalPartyHp | hoch | Ja | #500 | [Character-System.md#encounter-balancing](../features/Character-System.md#encounter-balancing) | [character.ts:EncounterBalancingInput](../../src/core/schemas/character.ts) |
| 503 | ‚úÖ | Character | getBalancingInput(characters): Berechnet partyLevel (avg), partySize, totalPartyHp | hoch | Ja | #502 | [Character-System.md#encounter-balancing](../features/Character-System.md#encounter-balancing) | [character.ts:getBalancingInput()](../../src/core/schemas/character.ts) |
| 504 | ‚úÖ | Character | getPartySpeed(characters): Math.min(...characters.map(c => c.speed)) | hoch | Ja | #500 | [Character-System.md#travel-system](../features/Character-System.md#travel-system) | [character.ts](../../src/core/schemas/character.ts) (calculatePartySpeed) |
| 505 | ‚úÖ | Character | getEffectiveSpeed(character): character.speed mit Encumbrance-Reduktion | hoch | Ja | #500 | [Character-System.md#travel-system](../features/Character-System.md#travel-system) | [inventory-utils.ts](../../src/features/inventory/inventory-utils.ts) (calculateEffectiveSpeed) |
| 506 | ‚¨ú | Character | character:hp-changed Event definieren: characterId, previousHp, currentHp, reason | hoch | Ja | #500 | [Character-System.md#hp-tracking](../features/Character-System.md#hp-tracking) | docs/architecture/Events-Catalog.md [√§ndern], src/core/events/domain-events.ts [√§ndern - Event Type + Payload Interface hinzuf√ºgen] |
| 507 | ‚¨ú | Character | character:hp-changed Handler: HP-Update im State, Combat-Sync | hoch | Ja | #506 | [Character-System.md#hp-tracking](../features/Character-System.md#hp-tracking) | src/features/party/character-service.ts [neu - HP-Update-Logik], src/features/party/party-service.ts [√§ndern - Event-Handler abonnieren] |
| 508 | ‚¨ú | Character | character:downed Event definieren: characterId | hoch | Ja | #507 | [Character-System.md#hp-tracking](../features/Character-System.md#hp-tracking) | docs/architecture/Events-Catalog.md [√§ndern], src/core/events/domain-events.ts [√§ndern - Event Type + Payload Interface hinzuf√ºgen] |
| 509 | ‚¨ú | Character | character:downed Handler: Bei currentHp <= 0 automatisch publizieren | hoch | Ja | #308, #508 | [Character-System.md#hp-tracking](../features/Character-System.md#hp-tracking) | src/features/party/character-service.ts [√§ndern - publishDowned() in HP-Handler], src/features/combat/combat-service.ts [√§ndern - Event abonnieren f√ºr Death Save UI] |
| 510 | ‚¨ú | Character | character:level-changed Event definieren: characterId, previousLevel, newLevel | hoch | Ja | #500 | [Character-System.md#level-up](../features/Character-System.md#level-up) | docs/architecture/Events-Catalog.md [√§ndern], src/core/events/domain-events.ts [√§ndern - Event Type + Payload Interface hinzuf√ºgen] |
| 511 | ‚¨ú | Character | character:level-changed Handler: Level-Update, Encounter-Balancing-Recalc | hoch | Ja | #502, #503, #510 | [Character-System.md#level-up](../features/Character-System.md#level-up) | src/features/party/character-service.ts [√§ndern - publishLevelChanged()], src/features/encounter/encounter-service.ts [√§ndern - Balancing-Recalc bei Event] |
| 512 | ‚úÖ | Character | party:member-added Event + Handler: Combat Initiative-Liste, Travel Kapazit√§t | hoch | Ja | #500, #603 | [Character-System.md#session-state-synchronization](../features/Character-System.md#session-state-synchronization) | src/core/events/domain-events.ts:PartyMemberAddedPayload, src/features/party/party-service.ts:publishMemberAdded(), src/features/combat/combat-service.ts:setupEventHandlers(), src/features/travel/travel-service.ts:setupEventHandlers(), src/features/encounter/encounter-service.ts:setupEventHandlers() |
| 513 | ‚úÖ | Character | party:member-removed Event + Handler: Combat/Travel/Encounter Sync | hoch | Ja | #500, #502, #503 | [Character-System.md#session-state-synchronization](../features/Character-System.md#session-state-synchronization) | src/core/events/domain-events.ts:PartyMemberRemovedPayload, src/features/party/party-service.ts:publishMemberRemoved(), src/features/combat/combat-service.ts:setupEventHandlers(), src/features/travel/travel-service.ts:setupEventHandlers(), src/features/encounter/encounter-service.ts:setupEventHandlers() |
| 514 | ‚¨ú | Character | Sofort-Sync bei Character-Attribut-√Ñnderung (entity:saved ‚Üí Recalc) | hoch | Ja | #500, #502, #503, #504 | [Character-System.md#sync-garantie](../features/Character-System.md#sync-garantie) | src/features/party/party-service.ts [√§ndern - entity:saved Handler f√ºr Character-Type], src/features/encounter/encounter-service.ts [neu - Balancing-Recalc], src/features/travel/travel-service.ts [neu - Speed-Recalc] |
| 515 | ‚¨ú | Character | Party Manager View: Character-Liste mit HP, AC, Speed, Encumbrance | hoch | Ja | #500, #603 | [Character-System.md#party-manager](../features/Character-System.md#party-manager) | src/application/views/PartyManager.svelte [neu], src/application/viewmodels/PartyManagerViewModel.ts [neu - Character-Query + Encumbrance-Calc] |
| 516 | ‚¨ú | Character | Character-Bearbeitungs-Formular: Name, Level, Class, Max HP, Current HP, AC, Speed, Strength | hoch | Ja | #515 | [Character-System.md#character-bearbeitung](../features/Character-System.md#character-bearbeitung) | src/application/views/components/CharacterForm.svelte [neu], src/application/viewmodels/CharacterFormViewModel.ts [neu - Validation + Save] |
| 517 | ‚¨ú | Character | "Character hinzuf√ºgen" Button + Workflow: Formular ‚Üí EntityRegistry.save() | hoch | Ja | #516 | [Character-System.md#erstellung](../features/Character-System.md#erstellung) | src/application/views/PartyManager.svelte [√§ndern - Add Button + Modal], src/infrastructure/vault/entity-registry.ts [verwenden f√ºr save()] |
| 518 | ‚¨ú | Character | Character Edit/Delete Buttons in Party Manager | hoch | Ja | #516 | [Character-System.md#party-manager](../features/Character-System.md#party-manager) | src/application/views/PartyManager.svelte [√§ndern - Edit/Delete Actions], src/application/viewmodels/PartyManagerViewModel.ts [√§ndern - deleteCharacter()] |
| 519 | ‚¨ú | Character | CharacterSenses-Interface: darkvision, blindsight, tremorsense, trueSight | mittel | Nein | #500 | [Character-System.md#sinne-post-mvp](../features/Character-System.md#sinne-post-mvp) | src/core/schemas/character.ts [√§ndern - CharacterSenses Interface + senses?: CharacterSenses Feld] |
| 520 | ‚¨ú | Character | getBestPartySense(characters, senseType): Max-Wert aus Party | mittel | Nein | #519 | [Character-System.md#beste-sicht-der-party](../features/Character-System.md#beste-sicht-der-party) | src/core/schemas/character.ts [√§ndern - getBestPartySense() Funktion hinzuf√ºgen] |
| 521 | ‚¨ú | Character | Ability Scores: STR, DEX, CON, INT, WIS, CHA im Character-Schema | mittel | Nein | #500 | [Character-System.md#post-mvp-erweiterungen](../features/Character-System.md#post-mvp-erweiterungen) | src/core/schemas/character.ts [√§ndern - abilityScores: { str, dex, con, int, wis, cha } Feld] |
| 522 | ‚¨ú | Character | Spell Slots Tracking f√ºr Caster | niedrig | Nein | #521 | [Character-System.md#post-mvp-erweiterungen](../features/Character-System.md#post-mvp-erweiterungen) | src/core/schemas/character.ts [√§ndern - spellSlots Feld], src/features/combat/combat-service.ts [√§ndern - Slot-Verbrauch] |
| 523 | ‚¨ú | Character | Class Features: Automatische Reminder | niedrig | Nein | #521 | [Character-System.md#post-mvp-erweiterungen](../features/Character-System.md#post-mvp-erweiterungen) | src/features/combat/combat-service.ts [√§ndern - Feature-Reminder in Initiative], src/core/schemas/character.ts [√§ndern - features Feld] |
| 524 | ‚¨ú | Character | Proficiencies: Skill-Modifikatoren | niedrig | Nein | #521 | [Character-System.md#post-mvp-erweiterungen](../features/Character-System.md#post-mvp-erweiterungen) | src/core/schemas/character.ts [√§ndern - proficiencies Feld] |
| 525 | ‚¨ú | Character | D&D Beyond Sync: Import von Character-Daten | niedrig | Nein | #521 | [Character-System.md#post-mvp-erweiterungen](../features/Character-System.md#post-mvp-erweiterungen) | src/infrastructure/integrations/dndbeyond-import.ts [neu - API-Client + Mapping] |
| 600 | ‚úÖ | Inventory | InventorySlot Interface implementieren (itemId, quantity, equipped) | hoch | Ja | #1603 | [Inventory-System.md#schemas](../features/Inventory-System.md#schemas) | src/core/schemas/item.ts:inventorySlotSchema |
| 601 | ‚úÖ | Inventory | EncumbranceLevel Type implementieren (light, encumbered, heavily, over_capacity) | hoch | Ja | - | [Inventory-System.md#berechnung](../features/Inventory-System.md#berechnung) | src/features/inventory/types.ts:EncumbranceLevel |
| 602 | ‚úÖ | Inventory | sumInventoryWeight Funktion: Œ£(item.weight √ó quantity) | hoch | Ja | #600 | [Inventory-System.md#berechnung](../features/Inventory-System.md#berechnung) | src/features/inventory/inventory-utils.ts:sumInventoryWeight() |
| 603 | ‚úÖ | Inventory | calculateEncumbrance Funktion: Gewicht vs Strength √ó 15 | mittel | Ja | #601, #602 | [Inventory-System.md#schwellenwerte](../features/Inventory-System.md#schwellenwerte) | src/features/inventory/inventory-utils.ts:calculateEncumbrance() |
| 604 | ‚úÖ | Inventory | Encumbrance-Schwellenwerte: 33%/66%/100% Kapazit√§t | mittel | Ja | #601 | [Inventory-System.md#schwellenwerte](../features/Inventory-System.md#schwellenwerte) | src/features/inventory/types.ts:ENCUMBRANCE_THRESHOLDS, src/features/inventory/types.ts:ENCUMBRANCE_SPEED_REDUCTIONS |
| 605 | ‚¨ú | Inventory | RationCheck Interface implementieren (required, available, shortage) | mittel | Ja | - | [Inventory-System.md#rationen-berechnung](../features/Inventory-System.md#rationen-berechnung) | src/features/inventory/types.ts:RationCheck [neu] |
| 606 | ‚úÖ | Inventory | countRations Funktion: Z√§hle Items mit isRation Flag | mittel | Ja | #600, #1600 | [Inventory-System.md#rationen-berechnung](../features/Inventory-System.md#rationen-berechnung) | src/features/inventory/inventory-utils.ts:countRationsInInventory(), src/features/inventory/inventory-service.ts:countRations() |
| 607 | ‚¨ú | Inventory | checkRations Funktion: Party √ó Tage = ben√∂tigte Rationen | mittel | Ja | #605, #606 | [Inventory-System.md#rationen-berechnung](../features/Inventory-System.md#rationen-berechnung) | src/features/inventory/inventory-utils.ts:checkRations() [neu] |
| 608 | ‚¨ú | Inventory | consumeRations Funktion: Automatischer Abzug aus Inventaren | mittel | Ja | #607, #613 | [Inventory-System.md#automatischer-abzug](../features/Inventory-System.md#automatischer-abzug) | src/features/inventory/inventory-service.ts:consumeRations() [neu] |
| 609 | ‚¨ú | Inventory | Rationen-Mangel Dialog UI implementieren | mittel | Ja | #607 | [Inventory-System.md#mangel-handling](../features/Inventory-System.md#mangel-handling) | src/application/views/RationDialog.svelte [neu] |
| 610 | ‚úÖ | Inventory | Currency-Items vordefinieren: Kupfer, Silber, Gold, Platin | hoch | Ja | #1608 | [Inventory-System.md#waehrungs-items](../features/Inventory-System.md#waehrungs-items) | presets/items/base-items.json |
| 611 | ‚úÖ | Inventory | M√ºnzgewicht-Berechnung: 50 M√ºnzen = 1 lb | hoch | Ja | #610 | [Inventory-System.md#waehrung](../features/Inventory-System.md#waehrung) | src/core/schemas/item.ts:COIN_WEIGHT |
| 612 | ‚úÖ | Inventory | addItemToCharacter Utility-Funktion | mittel | Ja | #600 | [Inventory-System.md#gm-quick-actions](../features/Inventory-System.md#gm-quick-actions) | src/features/inventory/inventory-service.ts:addItem() |
| 613 | ‚úÖ | Inventory | removeItemFromCharacter Utility-Funktion | mittel | Ja | #600 | [Inventory-System.md#gm-quick-actions](../features/Inventory-System.md#gm-quick-actions) | src/features/inventory/inventory-service.ts:removeItem() |
| 614 | ‚¨ú | Inventory | addGoldToCharacter Convenience-Funktion | mittel | Ja | #610, #612 | [Inventory-System.md#gm-quick-actions](../features/Inventory-System.md#gm-quick-actions) | src/features/inventory/inventory-service.ts:addGold() [neu] |
| 615 | ‚¨ú | Inventory | removeGoldFromCharacter Convenience-Funktion | mittel | Ja | #610, #613 | [Inventory-System.md#gm-quick-actions](../features/Inventory-System.md#gm-quick-actions) | src/features/inventory/inventory-service.ts:removeGold() [neu] |
| 616 | ‚úÖ | Inventory | transferItem zwischen Charakteren | mittel | Ja | #612, #613 | [Inventory-System.md#gm-quick-actions](../features/Inventory-System.md#gm-quick-actions) | src/features/inventory/inventory-service.ts:transferItem() |
| 617 | ‚¨ú | Inventory | quickBuy Funktion mit Preis-Override und Modifier | mittel | Ja | #612, #614 | [Inventory-System.md#shop-integration-mvp](../features/Inventory-System.md#shop-integration-mvp) | src/features/shop/shop-service.ts:quickBuy() [neu] |
| 618 | ‚¨ú | Inventory | quickSell Funktion mit Preis-Override und Modifier | mittel | Ja | #613, #615 | [Inventory-System.md#shop-integration-mvp](../features/Inventory-System.md#shop-integration-mvp) | src/features/shop/shop-service.ts:quickSell() [neu] |
| 619 | ‚¨ú | Inventory | calculateEffectivePartySpeed mit Encumbrance-Reduktion | mittel | Ja | #603 | [Inventory-System.md#travel-integration](../features/Inventory-System.md#travel-integration) | src/features/travel/travel-service.ts:calculateEffectivePartySpeed() [√§ndern] |
| 620 | ‚¨ú | Inventory | over_capacity verhindert Reise (Speed = 0) | mittel | Ja | #619 | [Inventory-System.md#travel-integration](../features/Inventory-System.md#travel-integration) | src/features/travel/travel-service.ts:validateTravelStart() [√§ndern] |
| 621 | ‚úÖ | Inventory | inventory:changed Event Handler implementieren | hoch | Ja | #600 | [Inventory-System.md#events](../features/Inventory-System.md#events) | src/core/events/domain-events.ts:INVENTORY_CHANGED, src/core/events/domain-events.ts:InventoryChangedPayload |
| 622 | ‚¨ú | Inventory | inventory:rations-consumed Event Handler implementieren | mittel | Ja | #608 | [Inventory-System.md#events](../features/Inventory-System.md#events) | src/core/events/domain-events.ts:INVENTORY_RATIONS_CONSUMED [neu], src/core/events/domain-events.ts:InventoryRationsConsumedPayload [neu], src/features/inventory/inventory-service.ts [√§ndern] |
| 623 | ‚úÖ | Inventory | inventory:encumbrance-changed Event Handler implementieren | mittel | Ja | #603 | [Inventory-System.md#events](../features/Inventory-System.md#events) | src/core/events/domain-events.ts:INVENTORY_ENCUMBRANCE_CHANGED, src/core/events/domain-events.ts:InventoryEncumbranceChangedPayload |
| 624 | ‚¨ú | Inventory | Inventory-Ansicht im Party Manager UI | mittel | Ja | #600 | [Inventory-System.md#gm-interface](../features/Inventory-System.md#gm-interface) | src/application/views/InventoryPanel.svelte [neu] |
| 625 | ‚¨ú | Inventory | Equipped-Status Toggle f√ºr Waffen/R√ºstung | niedrig | Nein | #624 | [Inventory-System.md#prioritaet](../features/Inventory-System.md#prioritaet) | src/application/views/InventoryPanel.svelte [√§ndern] |
| 700 | ‚¨ú | Loot | LootBudgetState Interface (accumulated, distributed, balance, debt) | hoch | Ja | - | [Loot-Feature.md#lootbudgetstate](../features/Loot-Feature.md#lootbudgetstate) | src/features/loot/types.ts:LootBudgetState [neu] |
| 701 | ‚¨ú | Loot | GOLD_PER_XP_BY_LEVEL Konstante (DMG-basierte Tabelle Level 1-20) | hoch | Ja | - | [Loot-Feature.md#budget-berechnung](../features/Loot-Feature.md#budget-berechnung) | src/features/loot/budget-utils.ts:GOLD_PER_XP_BY_LEVEL [neu] |
| 702 | ‚¨ú | Loot | getGoldPerXP(partyLevel) Funktion | hoch | Ja | #701 | [Loot-Feature.md#budget-berechnung](../features/Loot-Feature.md#budget-berechnung) | src/features/loot/budget-utils.ts:getGoldPerXP [neu] |
| 703 | ‚¨ú | Loot | updateBudget(xpGained, partyLevel) Funktion | hoch | Ja | #700, #702, #518 | [Loot-Feature.md#budget-berechnung](../features/Loot-Feature.md#budget-berechnung) | src/features/loot/budget-service.ts:updateBudget [neu] |
| 704 | ‚¨ú | Loot | DefaultLootEntry Interface (itemId, chance, quantity) | hoch | Ja | - | [Loot-Feature.md#defaultlootentry](../features/Loot-Feature.md#defaultlootentry) | src/core/schemas/creature.ts:DefaultLootEntry [neu], CreatureDefinition.defaultLoot [neu] |
| 705 | ‚¨ú | Loot | processDefaultLoot(creature, budget) mit Chance-System | hoch | Ja | #700, #704, #215 | [Loot-Feature.md#verarbeitung](../features/Loot-Feature.md#verarbeitung) | src/features/loot/default-loot.ts:processDefaultLoot [neu] |
| 706 | ‚¨ú | Loot | Schulden-Tracking: Budget kann negativ werden, debt akkumulieren | hoch | Ja | #700 | [Loot-Feature.md#schulden-system-und-soft-cap](../features/Loot-Feature.md#schulden-system-und-soft-cap) | src/features/loot/budget-service.ts:updateBudget [√§ndern] |
| 707 | ‚¨ú | Loot | Soft-Cap: Teures Item weglassen bei hohen Schulden (balance < -1000) | hoch | Ja | #706 | [Loot-Feature.md#soft-cap-verhalten](../features/Loot-Feature.md#soft-cap-verhalten) | src/features/loot/default-loot.ts:processDefaultLoot [√§ndern] |
| 708 | ‚¨ú | Loot | Schulden-Abbau: N√§chste Encounters geben weniger Loot | hoch | Ja | #706 | [Loot-Feature.md#schulden-abbau](../features/Loot-Feature.md#schulden-abbau) | src/features/loot/budget-service.ts:calculateAvailableBudget [neu] |
| 709 | ‚¨ú | Loot | GM-Warnung wenn Balance stark negativ (< -500g) | hoch | Ja | #706 | [Loot-Feature.md#schulden-abbau](../features/Loot-Feature.md#schulden-abbau) | src/features/loot/budget-service.ts:checkBudgetWarning [neu] |
| 710 | ‚¨ú | Loot | calculateEncounterLoot(encounter, quest?) mit Quest-Reduktion | hoch | Ja | #700, #500 | [Loot-Feature.md#quest-encounter-reduktion](../features/Loot-Feature.md#quest-encounter-reduktion) | src/features/loot/loot-service.ts:calculateEncounterLoot [neu] |
| 711 | ‚¨ú | Loot | Encounter-Loot 10-50% Verteilung (Durchschnitt 20%) | hoch | Ja | #710 | [Loot-Feature.md#budget-verteilung](../features/Loot-Feature.md#budget-verteilung) | src/features/loot/loot-service.ts:calculateEncounterLoot [√§ndern] |
| 712 | ‚úÖ | Loot | LOOT_MULTIPLIER Konstante (0.5 Gold/XP) | hoch | Ja | - | [Loot-Feature.md#loot-wert-berechnung](../features/Loot-Feature.md#loot-wert-berechnung) | loot/types.ts:LOOT_MULTIPLIER |
| 713 | ‚úÖ | Loot | calculateLootValue(encounter) Funktion | hoch | Ja | #712 | [Loot-Feature.md#loot-wert-berechnung](../features/Loot-Feature.md#loot-wert-berechnung) | loot/loot-utils.ts:calculateLootValue |
| 714 | ‚úÖ | Loot | GeneratedLoot Interface (items, totalValue) | hoch | Ja | - | [Loot-Feature.md#generierung](../features/Loot-Feature.md#generierung) | loot/types.ts:GeneratedLoot |
| 715 | ‚úÖ | Loot | SelectedItem Interface (item, quantity) | hoch | Ja | - | [Loot-Feature.md#generierung](../features/Loot-Feature.md#generierung) | loot/types.ts:SelectedItem |
| 716 | ‚úÖ | Loot | ScoredItem Interface (item, score) | hoch | Ja | - | [Loot-Feature.md#generierung](../features/Loot-Feature.md#generierung) | loot/types.ts:ScoredItem |
| 717 | ‚úÖ | Loot | calculateTagScore(itemTags, lootTags) Funktion | hoch | Ja | - | [Loot-Feature.md#item-auswahl-gewichtete-wahrscheinlichkeit](../features/Loot-Feature.md#item-auswahl-gewichtete-wahrscheinlichkeit) | loot/loot-utils.ts:calculateTagScore |
| 718 | ‚úÖ | Loot | selectWeightedItem(scoredItems, maxValue) Funktion | hoch | Ja | #716, #717 | [Loot-Feature.md#item-auswahl-gewichtete-wahrscheinlichkeit](../features/Loot-Feature.md#item-auswahl-gewichtete-wahrscheinlichkeit) | loot/loot-utils.ts:selectWeightedItem |
| 719 | ‚úÖ | Loot | generateLoot(encounter, lootTags, availableItems) Funktion | hoch | Ja | #713, #714, #715, #716, #717, #718 | [Loot-Feature.md#generierung](../features/Loot-Feature.md#generierung) | loot/loot-service.ts:generateLoot |
| 720 | ‚úÖ | Loot | Gold als Auff√ºller (Currency-Item f√ºr Rest-Budget) | hoch | Ja | #719 | [Loot-Feature.md#generierung](../features/Loot-Feature.md#generierung) | loot/loot-utils.ts:createGoldFiller |
| 721 | ‚¨ú | Loot | Basis-Tags definieren (currency, weapons, armor, consumables, magic, supplies) | hoch | Ja | - | [Loot-Feature.md#basis-tags](../features/Loot-Feature.md#basis-tags) | Preset-Items mit Tags (presets/items/*.json) [√§ndern] |
| 722 | ‚¨ú | Loot | Kreatur-spezifische Tags (tribal, undead, beast, humanoid, arcane) | hoch | Ja | - | [Loot-Feature.md#kreatur-spezifische-tags](../features/Loot-Feature.md#kreatur-spezifische-tags) | Preset-Creatures mit lootTags (presets/creatures/*.json) [√§ndern] |
| 723 | ‚¨ú | Loot | Loot-Vorschau im Tile Content Panel | hoch | Ja | #719, #215 | [Loot-Feature.md#loot-vorschau-im-tile-content-panel](../features/Loot-Feature.md#loot-vorschau-im-tile-content-panel) | src/application/session-runner/panels/LootPreview.svelte [neu] |
| 724 | ‚¨ú | Loot | GM kann Items entfernen (Checkbox) | hoch | Ja | #723 | [Loot-Feature.md#anpassen](../features/Loot-Feature.md#anpassen) | src/application/session-runner/panels/LootPreview.svelte [√§ndern] |
| 725 | ‚¨ú | Loot | GM kann Gold-Menge √§ndern | hoch | Ja | #723 | [Loot-Feature.md#anpassen](../features/Loot-Feature.md#anpassen) | src/application/session-runner/panels/LootPreview.svelte [√§ndern] |
| 726 | ‚¨ú | Loot | GM kann zus√§tzliche Items manuell hinzuf√ºgen | hoch | Ja | #723 | [Loot-Feature.md#anpassen](../features/Loot-Feature.md#anpassen) | src/application/session-runner/panels/LootPreview.svelte [√§ndern] |
| 727 | ‚úÖ | Loot | loot:generated Event publizieren | hoch | Ja | #719 | [Loot-Feature.md#events](../features/Loot-Feature.md#events) | events/domain-events.ts:LootGeneratedPayload |
| 728 | ‚úÖ | Loot | loot:adjusted Event publizieren | hoch | Ja | #724, #725, #726 | [Loot-Feature.md#events](../features/Loot-Feature.md#events) | events/domain-events.ts:LootAdjustedPayload |
| 729 | ‚úÖ | Loot | loot:distributed Event publizieren | hoch | Ja | - | [Loot-Feature.md#events](../features/Loot-Feature.md#events) | events/domain-events.ts:LootDistributedPayload |
| 730 | ‚¨ú | Loot | Hoard Interface (id, source, items, budgetValue, status) | hoch | Nein | #714 | [Loot-Feature.md#hoard-schema](../features/Loot-Feature.md#hoard-schema) | src/features/loot/types.ts:Hoard [neu] |
| 731 | ‚¨ú | Loot | HoardSource Type (encounter, location, quest) | hoch | Nein | - | [Loot-Feature.md#hoard-schema](../features/Loot-Feature.md#hoard-schema) | src/features/loot/types.ts:HoardSource [neu] |
| 732 | ‚¨ú | Loot | generateHoard(budgetToSpend, constraints) Funktion | hoch | Nein | #730, #731 | [Loot-Feature.md#hoard-generierung](../features/Loot-Feature.md#hoard-generierung) | src/features/loot/hoard-service.ts:generateHoard [neu] |
| 733 | ‚¨ú | Loot | Hoard-Wahrscheinlichkeit nach Encounter-Typ (Boss 70%, Lager 40%, Patrouille 10%) | hoch | Nein | #732 | [Loot-Feature.md#hoard-bei-encounter](../features/Loot-Feature.md#hoard-bei-encounter) | src/features/encounter/encounter-service.ts:generateEncounter [√§ndern] |
| 734 | ‚¨ú | Loot | loot:hoard-discovered Event | hoch | Nein | #732 | [Loot-Feature.md#events](../features/Loot-Feature.md#events) | src/core/events/domain-events.ts:LOOT_HOARD_DISCOVERED [neu], LootHoardDiscoveredPayload [neu] |
| 735 | ‚¨ú | Loot | loot:hoard-looted Event | hoch | Nein | #734 | [Loot-Feature.md#events](../features/Loot-Feature.md#events) | src/core/events/domain-events.ts:LOOT_HOARD_LOOTED [neu], LootHoardLootedPayload [neu] |
| 736 | ‚¨ú | Loot | loot:budget-updated Event | hoch | Nein | #700 | [Loot-Feature.md#events](../features/Loot-Feature.md#events) | src/core/events/domain-events.ts:LOOT_BUDGET_UPDATED [neu], LootBudgetUpdatedPayload [neu] |
| 737 | ‚¨ú | Loot | TreasureMarker Interface (id, position, mapId, fillMode, constraints, hoardId) | mittel | Nein | - | [Loot-Feature.md#treasuremarker-schema](../features/Loot-Feature.md#treasuremarker-schema) | src/features/loot/types.ts:TreasureMarker [neu] |
| 738 | ‚¨ú | Loot | GM kann Marker auf Map platzieren (manual oder auto-fill) | mittel | Nein | #737, #800 | [Loot-Feature.md#workflow](../features/Loot-Feature.md#workflow) | src/application/cartographer/tools/TreasureMarkerTool.svelte [neu] |
| 739 | ‚¨ú | Loot | triggerMarker(marker) bei Party-Entdeckung | mittel | Nein | #737, #732 | [Loot-Feature.md#auto-fill-logik](../features/Loot-Feature.md#auto-fill-logik) | src/features/loot/marker-service.ts:triggerMarker [neu] |
| 740 | ‚¨ú | Loot | calculateAutoFillBudget(constraints) Funktion | mittel | Nein | #737 | [Loot-Feature.md#auto-fill-logik](../features/Loot-Feature.md#auto-fill-logik) | src/features/loot/marker-service.ts:calculateAutoFillBudget [neu] |
| 741 | ‚¨ú | Loot | loot:marker-created Event | mittel | Nein | #738 | [Loot-Feature.md#events](../features/Loot-Feature.md#events) | src/core/events/domain-events.ts:LOOT_MARKER_CREATED [neu], LootMarkerCreatedPayload [neu] |
| 742 | ‚¨ú | Loot | loot:marker-triggered Event | mittel | Nein | #739 | [Loot-Feature.md#events](../features/Loot-Feature.md#events) | src/core/events/domain-events.ts:LOOT_MARKER_TRIGGERED [neu], LootMarkerTriggeredPayload [neu] |
| 743 | ‚¨ú | Loot | MagicItemTracking Interface (characterId, level, receivedItems pro Rarity) | mittel | Nein | - | [Loot-Feature.md#dmg-basiertes-tracking](../features/Loot-Feature.md#dmg-basiertes-tracking) | src/core/schemas/character.ts:MagicItemTracking [neu], Character.magicItemsReceived [neu] |
| 744 | ‚¨ú | Loot | EXPECTED_ITEMS_BY_LEVEL Konstante (DMG-Empfehlung) | mittel | Nein | - | [Loot-Feature.md#dmg-basiertes-tracking](../features/Loot-Feature.md#dmg-basiertes-tracking) | src/features/loot/magic-item-utils.ts:EXPECTED_ITEMS_BY_LEVEL [neu] |
| 745 | ‚¨ú | Loot | shouldOfferMagicItem(character, tracking) Funktion | mittel | Nein | #743, #744 | [Loot-Feature.md#dmg-basiertes-tracking](../features/Loot-Feature.md#dmg-basiertes-tracking) | src/features/loot/magic-item-utils.ts:shouldOfferMagicItem [neu] |
| 746 | ‚¨ú | Loot | Magic Item Tracking: Party-Anteil bei Erhalt f√ºr alle Charaktere | mittel | Nein | #743 | [Loot-Feature.md#magic-item-tracking-pro-charakter](../features/Loot-Feature.md#magic-item-tracking-pro-charakter) | src/features/loot/magic-item-utils.ts:trackMagicItemReceived [neu] |
| 747 | ‚¨ú | Loot | trackMagicItemReceived(item, partySize) Utility | mittel | Nein | #746 | [Loot-Feature.md#magic-item-tracking-pro-charakter](../features/Loot-Feature.md#magic-item-tracking-pro-charakter) | src/features/loot/magic-item-utils.ts:trackMagicItemReceived [neu] |
| 748 | ‚¨ú | Loot | GM Magic Item Override Dialog | mittel | Nein | #745 | [Loot-Feature.md#gm-override](../features/Loot-Feature.md#gm-override) | src/application/session-runner/modals/MagicItemOfferModal.svelte [neu] |
| 749 | ‚¨ú | Loot | Item-Downgrade statt Weglassen (Platte ‚Üí Kette) | mittel | Nein | #707 | [Loot-Feature.md#soft-cap-verhalten](../features/Loot-Feature.md#soft-cap-verhalten) | src/features/loot/default-loot.ts:downgradeItem [neu], processDefaultLoot [√§ndern] |
| 750 | ‚¨ú | Loot | Einheitliches Loot-Modal mit Currency/Items/Magic Items Sektionen | mittel | Nein | #723, #600 | [Loot-Feature.md#verteilen-einheitliches-loot-modal](../features/Loot-Feature.md#verteilen-einheitliches-loot-modal) | src/application/session-runner/modals/LootDistributionModal.svelte [neu] |
| 751 | ‚¨ú | Loot | Currency-Sektion mit Inline-Eingabe, [-][+] Buttons, Prozent-Anzeige | mittel | Nein | #750 | [Loot-Feature.md#currency-eingabemethoden-auto-sync](../features/Loot-Feature.md#currency-eingabemethoden-auto-sync) | src/application/session-runner/modals/LootDistributionModal.svelte [√§ndern] |
| 752 | ‚¨ú | Loot | Inkrement-Konfiguration f√ºr [-][+] Buttons | mittel | Nein | #751 | [Loot-Feature.md#currency-eingabemethoden-auto-sync](../features/Loot-Feature.md#currency-eingabemethoden-auto-sync) | src/application/session-runner/modals/LootDistributionModal.svelte [√§ndern] |
| 753 | ‚¨ú | Loot | [Gleichm√§√üig] Button f√ºr Currency-Verteilung | mittel | Nein | #751 | [Loot-Feature.md#currency-eingabemethoden-auto-sync](../features/Loot-Feature.md#currency-eingabemethoden-auto-sync) | src/application/session-runner/modals/LootDistributionModal.svelte [√§ndern] |
| 754 | ‚¨ú | Loot | Items-Sektion mit Dropdown-Zuweisung an Charaktere | mittel | Nein | #750 | [Loot-Feature.md#verteilen-einheitliches-loot-modal](../features/Loot-Feature.md#verteilen-einheitliches-loot-modal) | src/application/session-runner/modals/LootDistributionModal.svelte [√§ndern] |
| 755 | ‚¨ú | Loot | Magic Items Sektion mit Rarity-Info und DMG-Tracking | mittel | Nein | #750, #743 | [Loot-Feature.md#verteilen-einheitliches-loot-modal](../features/Loot-Feature.md#verteilen-einheitliches-loot-modal) | src/application/session-runner/modals/LootDistributionModal.svelte [√§ndern] |
| 756 | ‚¨ú | Loot | [Reroll] Button pro Sektion | mittel | Nein | #750 | [Loot-Feature.md#weitere-interaktionen](../features/Loot-Feature.md#weitere-interaktionen) | src/application/session-runner/modals/LootDistributionModal.svelte [√§ndern] |
| 757 | ‚¨ú | Loot | distributeCurrencyEvenly(characterIds, totalAmount) Utility | mittel | Nein | #753 | [Loot-Feature.md#utilities](../features/Loot-Feature.md#utilities) | src/features/loot/distribution-utils.ts:distributeCurrencyEvenly [neu] |
| 758 | ‚¨ú | Loot | distributeToCharacter(characterId, items) Utility | mittel | Nein | #754, #600 | [Loot-Feature.md#utilities](../features/Loot-Feature.md#utilities) | src/features/loot/distribution-utils.ts:distributeToCharacter [neu] |
| 759 | ‚¨ú | Loot | quickAssign(characterId, item, quantity) Utility | mittel | Nein | #754 | [Loot-Feature.md#utilities](../features/Loot-Feature.md#utilities) | src/features/loot/distribution-utils.ts:quickAssign [neu] |
| 760 | ‚¨ú | Loot | Faction defaultLoot (Fraktionen haben eigene Loot-Tags) | niedrig | Nein | #705 | [Loot-Feature.md#prioritaet](../features/Loot-Feature.md#prioritaet) | src/core/schemas/faction.ts:Faction.defaultLoot [neu], src/features/loot/default-loot.ts:processDefaultLoot [√§ndern] |
| 761 | ‚¨ú | Loot | Automatische Loot-Verteilung an Party-Inventar | niedrig | Nein | #729, #600 | [Loot-Feature.md#prioritaet](../features/Loot-Feature.md#prioritaet) | src/features/loot/loot-service.ts:distributeLoot [neu] |
| 800 | ‚úÖ | Map | BaseMap Schema (id, name, type, defaultSpawnPoint, metadaten) | hoch | Ja | - | [Map-Feature.md#basis-map](../features/Map-Feature.md#basis-map) | src/core/schemas/map.ts:baseMapSchema |
| 801 | ‚úÖ | Map | OverworldMap Schema (dimensions, tiles, overlays) | hoch | Ja | #800 | [Map-Feature.md#overworldmap](../features/Map-Feature.md#overworldmap) | src/core/schemas/map.ts:overworldMapSchema |
| 802 | ‚úÖ | Map | OverworldTile Schema (coordinate, terrain, elevation, pois, encounterZone, factionPresence) | hoch | Ja | #801 | [Map-Feature.md#overworldmap](../features/Map-Feature.md#overworldmap) | src/core/schemas/map.ts:overworldTileSchema |
| 803 | ‚úÖ | Map | EncounterZone Schema (encounterChance, creaturePool, factionId) | hoch | Ja | #802 | [Map-Feature.md#overworldmap](../features/Map-Feature.md#overworldmap) | src/core/schemas/map.ts:encounterZoneSchema |
| 804 | ‚¨ú | Map | Overworld Rendering (Hex-Grid mit Terrain-Farben) | hoch | Ja | #801, #803 | [Map-Feature.md#overworld-rendering](../features/Map-Feature.md#overworld-rendering) | src/application/session-runner/panels/map-canvas.ts:renderTile() (Location-Icons fehlen), src/application/shared/rendering/ [neu] |
| 805 | ‚úÖ | Map | Location-Integration: POIs auf Tiles referenzieren | hoch | Ja | #802 | [Map-Feature.md#overworldmap](../features/Map-Feature.md#overworldmap) | src/core/schemas/map.ts:overworldTileSchema.pois |
| 806 | ‚¨ú | Map | DungeonMap Schema (dimensions mit levels, tiles, rooms, partyPosition) | hoch | Ja | #800 | [Map-Feature.md#dungeonmap](../features/Map-Feature.md#dungeonmap) | src/core/schemas/map.ts:dungeonMapSchema [neu] |
| 807 | ‚¨ú | Map | GridCoordinate Schema (x, y, z f√ºr Multi-Level) | hoch | Ja | #806 | [Map-Feature.md#dungeonmap](../features/Map-Feature.md#dungeonmap) | src/core/schemas/map.ts:gridCoordSchema [neu] |
| 808 | ‚¨ú | Map | DungeonTile Schema (type, roomId, traps, creatures, treasure, lighting, explored) | hoch | Ja | #806, #807 | [Map-Feature.md#dungeonmap](../features/Map-Feature.md#dungeonmap) | src/core/schemas/map.ts:dungeonTileSchema [neu] |
| 809 | ‚¨ú | Map | DungeonRoom Schema (id, name, tiles, description, gmNotes) | hoch | Ja | #806, #807 | [Map-Feature.md#dungeonmap](../features/Map-Feature.md#dungeonmap) | src/core/schemas/map.ts:dungeonRoomSchema [neu] |
| 810 | ‚¨ú | Map | Trap Schema (id, dc, damage, triggered, visible) | hoch | Ja | #808 | [Map-Feature.md#dungeonmap](../features/Map-Feature.md#dungeonmap) | src/core/schemas/map.ts:trapSchema [neu] |
| 811 | ‚¨ú | Map | Token Schema (id, creatureId, position, currentHp) | hoch | Ja | #808, #807 | [Map-Feature.md#dungeonmap](../features/Map-Feature.md#dungeonmap) | src/core/schemas/map.ts:tokenSchema [neu] |
| 812 | ‚¨ú | Map | Dungeon Rendering: Grid + Fog of War + Lighting | hoch | Ja | #806, #808 | [Map-Feature.md#dungeon-rendering](../features/Map-Feature.md#dungeon-rendering) | src/application/shared/rendering/dungeon-renderer.ts [neu] |
| 813 | ‚úÖ | Map | map:load-requested Event Handler | hoch | Ja | #800 | [Map-Feature.md#events](../features/Map-Feature.md#events) | src/features/map/map-service.ts:setupEventHandlers(), src/core/events/domain-events.ts:MAP_LOAD_REQUESTED |
| 814 | ‚úÖ | Map | map:loaded Event publizieren | hoch | Ja | #813 | [Map-Feature.md#events](../features/Map-Feature.md#events) | src/features/map/map-service.ts:publishLoaded(), src/core/events/domain-events.ts:MAP_LOADED |
| 815 | ‚úÖ | Map | map:unloaded Event publizieren | hoch | Ja | #813 | [Map-Feature.md#events](../features/Map-Feature.md#events) | src/features/map/map-service.ts:publishUnloaded(), src/core/events/domain-events.ts:MAP_UNLOADED |
| 816 | ‚¨ú | Map | map:created Event publizieren | hoch | Ja | #800 | [Map-Feature.md#events](../features/Map-Feature.md#events) | src/features/map/map-service.ts:publishCreated() [neu], src/core/events/domain-events.ts:MAP_CREATED |
| 817 | ‚¨ú | Map | map:updated Event publizieren | hoch | Ja | #800 | [Map-Feature.md#events](../features/Map-Feature.md#events) | src/features/map/map-service.ts:publishUpdated() [neu], src/core/events/domain-events.ts:MAP_UPDATED |
| 818 | ‚¨ú | Map | map:deleted Event publizieren | hoch | Ja | #800 | [Map-Feature.md#events](../features/Map-Feature.md#events) | src/features/map/map-service.ts:publishDeleted() [neu], src/core/events/domain-events.ts:MAP_DELETED |
| 819 | ‚¨ú | Map | map:tile-updated Event publizieren | hoch | Ja | #802, #808 | [Map-Feature.md#events](../features/Map-Feature.md#events) | src/features/map/map-service.ts:publishTileUpdated() [neu], src/core/events/domain-events.ts:MAP_TILE_UPDATED |
| 820 | ‚¨ú | Map | map:navigate-requested Handler | hoch | Ja | #800, #1500 | [Map-Feature.md#events](../features/Map-Feature.md#events) | src/features/map/map-service.ts:setupEventHandlers() [√§ndern], src/core/events/domain-events.ts:MAP_NAVIGATE_REQUESTED |
| 821 | ‚¨ú | Map | map:navigated Event publizieren | hoch | Ja | #820 | [Map-Feature.md#events](../features/Map-Feature.md#events) | src/features/map/map-service.ts:publishNavigated() [neu], src/core/events/domain-events.ts:MAP_NAVIGATED |
| 822 | ‚úÖ | Map | getMap(mapId): Result<BaseMap, AppError> | hoch | Ja | #800 | [Map.md#queries](../domain/Map.md#queries) | src/infrastructure/vault/map-adapter.ts:load() |
| 823 | ‚úÖ | Map | getMapsByType(type): BaseMap[] | hoch | Ja | #800 | [Map.md#queries](../domain/Map.md#queries) | src/infrastructure/vault/map-adapter.ts:listIds() |
| 824 | ‚úÖ | Map | getActiveMap(): BaseMap \| null | hoch | Ja | #813 | [Map.md#queries](../domain/Map.md#queries) | src/features/map/map-service.ts:getCurrentMap() |
| 825 | ‚úÖ | Map | Single Map Active: Nur aktive Map im Speicher | hoch | Ja | #813, #824 | [Map-Feature.md#memory-management](../features/Map-Feature.md#memory-management) | src/features/map/map-store.ts:setCurrentMap() |
| 826 | ‚úÖ | Map | Zeit auf Sub-Maps: Global unabh√§ngig von Map | hoch | Ja | #821, #900 | [Map-Feature.md#zeit-auf-sub-maps](../features/Map-Feature.md#zeit-auf-sub-maps) | time-feature (globales Time-System) |
| 827 | ‚¨ú | Map | Wetter auf Town-Maps: Erbt von Parent-Tile | hoch | Ja | #830, #820, #110 | [Map-Feature.md#wetter-auf-sub-maps](../features/Map-Feature.md#wetter-auf-sub-maps) | src/features/weather/weather-service.ts:getWeatherForMap() [neu] |
| 828 | ‚¨ú | Map | Wetter auf Dungeon-Maps: Kein Wetter (Indoor) | hoch | Ja | #806, #110 | [Map-Feature.md#wetter-auf-sub-maps](../features/Map-Feature.md#wetter-auf-sub-maps) | src/features/weather/weather-service.ts:getWeatherForMap() [√§ndern] |
| 829 | ‚¨ú | Map | State-Persistenz bei Map-Wechsel: Position, Zeit, Wetter | hoch | Ja | #821, #826 | [Map-Feature.md#state-persistenz-bei-map-wechsel](../features/Map-Feature.md#state-persistenz-bei-map-wechsel) | src/features/map/map-service.ts:navigateToMap() [neu] |
| 830 | ‚¨ú | Map | TownMap Schema (streets, intersections, buildings, npcs) | mittel | Nein | #800 | [Map-Feature.md#townmap](../features/Map-Feature.md#townmap) | src/core/schemas/map.ts:townMapSchema [neu] |
| 831 | ‚¨ú | Map | Street Schema (id, name, path, width) | mittel | Nein | #830 | [Map-Feature.md#townmap](../features/Map-Feature.md#townmap) | src/core/schemas/map.ts:streetSchema [neu] |
| 832 | ‚¨ú | Map | Intersection Schema (id, position, connectedStreets) | mittel | Nein | #830 | [Map-Feature.md#townmap](../features/Map-Feature.md#townmap) | src/core/schemas/map.ts:intersectionSchema [neu] |
| 833 | ‚¨ú | Map | Building Schema (id, name, position, type, linkedMapId, npcs) | mittel | Nein | #830 | [Map-Feature.md#townmap](../features/Map-Feature.md#townmap) | src/core/schemas/map.ts:buildingSchema [neu] |
| 834 | ‚¨ú | Map | BuildingType Type (tavern, shop, temple, etc.) | mittel | Nein | #833 | [Map-Feature.md#townmap](../features/Map-Feature.md#townmap) | src/core/schemas/map.ts:buildingTypeSchema [neu] |
| 835 | ‚¨ú | Map | Town Rendering: Strassen + Buildings | mittel | Nein | #830 | [Map-Feature.md#town-rendering](../features/Map-Feature.md#town-rendering) | src/application/shared/rendering/town-renderer.ts [neu] |
| 836 | ‚¨ú | Map | Town Navigation: Strassen-basiertes Travel | mittel | Nein | #830, #837 | [Map-Feature.md#town-strassen-navigation](../features/Map-Feature.md#town-strassen-navigation) | src/features/town/town-service.ts [neu] |
| 837 | ‚¨ú | Map | town:navigate-requested Event | mittel | Nein | #836 | [Map-Feature.md#town-strassen-navigation](../features/Map-Feature.md#town-strassen-navigation) | src/features/town/town-service.ts:setupEventHandlers() [neu], src/core/events/domain-events.ts:TOWN_NAVIGATE_REQUESTED |
| 838 | ‚¨ú | Map | town:route-calculated Event | mittel | Nein | #837 | [Map-Feature.md#town-strassen-navigation](../features/Map-Feature.md#town-strassen-navigation) | src/features/town/town-service.ts:publishRouteCalculated() [neu], src/core/events/domain-events.ts:TOWN_ROUTE_CALCULATED |
| 839 | ‚¨ú | Map | Multi-Level Dungeons: Z-Koordinate nutzen | niedrig | Nein | #807, #812 | [Map-Feature.md#dungeonmap](../features/Map-Feature.md#dungeonmap) | src/features/dungeon/dungeon-service.ts [√§ndern] |
| 840 | ‚¨ú | Map | TilePathInfo Schema (pathId, connections) | mittel | Nein | #802 | [Map-Feature.md#overworldmap](../features/Map-Feature.md#overworldmap) | src/core/schemas/map.ts:tilePathInfoSchema [neu] |
| 841 | ‚¨ú | Map | Path Rendering: Linien zwischen Hex-Zentren | mittel | Nein | #840, #804 | [Map-Feature.md#prioritaet](../features/Map-Feature.md#prioritaet) | src/application/shared/rendering/path-renderer.ts [neu] |
| 842 | ‚¨ú | Map | Path-Travel-Integration: Direktionsabh√§ngiger Speed | mittel | Nein | #841, #400 | [Map-Feature.md#prioritaet](../features/Map-Feature.md#prioritaet) | src/features/travel/speed-calculator.ts [√§ndern] |
| 843 | ‚¨ú | Map | Visibility System: Sichtweiten-Overlay | mittel | Nein | #804, #844 | [Map-Feature.md#visibility-system-post-mvp](../features/Map-Feature.md#visibility-system-post-mvp) | src/features/map/visibility-service.ts [neu] |
| 844 | ‚¨ú | Map | Basis-Sichtweite: 1 Hex bei flachem Terrain | mittel | Nein | #843 | [Map-Feature.md#sichtweiten-berechnung](../features/Map-Feature.md#sichtweiten-berechnung) | src/features/map/visibility-service.ts:calculateVisibility() [neu] |
| 845 | ‚¨ú | Map | H√∂henbonus: Wurzel-Formel f√ºr erh√∂hte Sichtweite | mittel | Nein | #844 | [Map-Feature.md#sichtweiten-berechnung](../features/Map-Feature.md#sichtweiten-berechnung) | src/features/map/visibility-service.ts:calculateElevationBonus() [neu] |
| 846 | ‚¨ú | Map | Sicht-Blockierung: Line-of-Sight durch Zwischentiles | mittel | Nein | #844, #845 | [Map-Feature.md#sicht-blockierung-line-of-sight](../features/Map-Feature.md#sicht-blockierung-line-of-sight) | src/features/map/visibility-service.ts:checkLineOfSight() [neu] |
| 847 | ‚¨ú | Map | Weather-Visibility-Modifier: Wetter reduziert Sicht | mittel | Nein | #843, #110 | [Map-Feature.md#umwelt-modifier](../features/Map-Feature.md#umwelt-modifier) | src/features/map/visibility-service.ts:getWeatherModifier() [neu] |
| 848 | ‚¨ú | Map | Time-Visibility-Modifier: Tageszeit reduziert Sicht | mittel | Nein | #843, #900 | [Map-Feature.md#umwelt-modifier](../features/Map-Feature.md#umwelt-modifier) | src/features/map/visibility-service.ts:getTimeModifier() [neu] |
| 849 | ‚¨ú | Map | Party-F√§higkeiten Sicht: Darkvision, Blindsight, etc. | mittel | Nein | #843, #600 | [Map-Feature.md#party-faehigkeiten-sinne](../features/Map-Feature.md#party-faehigkeiten-sinne) | src/features/map/visibility-service.ts:getPartySenses() [neu] |
| 850 | ‚¨ú | Map | Creature-Sichtweite f√ºr Encounter-Trigger | mittel | Nein | #843, #200 | [Map-Feature.md#creature-sichtweite](../features/Map-Feature.md#creature-sichtweite) | src/features/encounter/encounter-service.ts:checkCreatureVisibility() [neu] |
| 851 | ‚¨ú | Map | POI-Fernsicht: Height-Feld f√ºr POIs | mittel | Nein | #843, #1514 | [Map-Feature.md#poi-fernsicht](../features/Map-Feature.md#poi-fernsicht) | src/features/map/visibility-service.ts:checkPOIVisibility() [neu] |
| 852 | ‚¨ú | Map | POI glowsAtNight: Nachtleuchtende POIs | mittel | Nein | #851, #1515 | [Map-Feature.md#poi-fernsicht](../features/Map-Feature.md#poi-fernsicht) | src/features/map/visibility-service.ts:checkNightGlow() [neu] |
| 853 | ‚¨ú | Map | POI-Hervorhebung: Sichtbare POIs hervorheben | mittel | Nein | #843, #804 | [Map-Feature.md#overlay-visualisierung](../features/Map-Feature.md#overlay-visualisierung) | src/application/shared/rendering/visibility-overlay.ts [neu] |
| 854 | ‚¨ú | Map | VisibilityCache f√ºr Performance | mittel | Nein | #843 | [Map-Feature.md#performance-optimierung](../features/Map-Feature.md#performance-optimierung) | src/features/map/visibility-cache.ts [neu] |
| 855 | ‚¨ú | Map | Visibility-Toggle UI: Button im Map-Panel | mittel | Nein | #843 | [Map-Feature.md#ui](../features/Map-Feature.md#ui) | src/application/session-runner/panels/map-panel.ts [√§ndern] |
| 900 | ‚úÖ | Time | TimeState Interface (currentTime, activeCalendarId) | hoch | Ja | - | [Time-System.md#schemas](../features/Time-System.md#schemas) | src/core/schemas/time.ts, src/features/time/types.ts, src/features/time/time-store.ts |
| 901 | ‚úÖ | Time | GameDateTime Interface (year, month, day, hour, minute, computed fields) | hoch | Ja | #900 | [Time-System.md#gamedatetime](../features/Time-System.md#gamedatetime) | src/core/schemas/time.ts |
| 902 | ‚úÖ | Time | Duration Interface (years, months, days, hours, minutes) | hoch | Ja | - | [Time-System.md#zeit-operationen](../features/Time-System.md#zeit-operationen) | src/core/schemas/time.ts |
| 903 | ‚úÖ | Time | CalendarDefinition Schema (months, weekdays, seasons, timeSegments) | hoch | Ja | - | [Time-System.md#calendardefinition](../features/Time-System.md#calendardefinition) | src/core/schemas/time.ts |
| 904 | ‚úÖ | Time | CalendarMonth Interface (name, days, season) | hoch | Ja | #903 | [Time-System.md#calendardefinition](../features/Time-System.md#calendardefinition) | src/core/schemas/time.ts |
| 905 | ‚úÖ | Time | CalendarSeason Interface (name, months) | hoch | Ja | #903 | [Time-System.md#calendardefinition](../features/Time-System.md#calendardefinition) | src/core/schemas/time.ts |
| 906 | ‚úÖ | Time | TimeSegment Type ('dawn', 'morning', 'midday', 'afternoon', 'dusk', 'night') | hoch | Ja | - | [Time-System.md#gamedatetime](../features/Time-System.md#gamedatetime) | src/core/schemas/time.ts, src/core/schemas/common.ts |
| 907 | ‚úÖ | Time | time:advance-requested Handler | hoch | Ja | #900, #902 | [Time-System.md#advance-zeit-voranschreiten](../features/Time-System.md#advance-zeit-voranschreiten) | src/features/time/time-service.ts (setupEventHandlers L164-210) |
| 908 | ‚úÖ | Time | time:set-requested Handler | hoch | Ja | #900, #901 | [Time-System.md#set-zeit-setzen](../features/Time-System.md#set-zeit-setzen) | src/features/time/time-service.ts (setupEventHandlers L213-239) |
| 909 | ‚úÖ | Time | time:state-changed Event publizieren | hoch | Ja | #907, #908 | [Time-System.md#events](../features/Time-System.md#events) | src/features/time/time-service.ts (publishStateChanged), src/core/events/domain-events.ts |
| 910 | ‚úÖ | Time | time:segment-changed Event publizieren | hoch | Ja | #909 | [Time-System.md#events](../features/Time-System.md#events) | src/features/time/time-service.ts (publishSegmentChanged), src/core/events/domain-events.ts |
| 911 | ‚úÖ | Time | time:day-changed Event publizieren | hoch | Ja | #909 | [Time-System.md#events](../features/Time-System.md#events) | src/features/time/time-service.ts (publishDayChanged), src/core/events/domain-events.ts |
| 912 | ‚úÖ | Time | getTimeSegment() Funktion mit Wrap-Around-Logik | hoch | Ja | #906 | [Time-System.md#time-segment-berechnung](../features/Time-System.md#time-segment-berechnung) | src/features/time/time-utils.ts (getTimeSegment, isInRange) |
| 913 | ‚úÖ | Time | addDuration() Funktion f√ºr Zeit-Arithmetik | hoch | Ja | #901, #902 | [Time-System.md#advance-zeit-voranschreiten](../features/Time-System.md#advance-zeit-voranschreiten) | src/features/time/time-utils.ts (addDuration, normalizeTime) |
| 914 | ‚¨ú | Time | time:set-calendar-requested Handler | niedrig | Nein | #903 | [Time-System.md#kalender-wechseln](../features/Time-System.md#kalender-wechseln) | src/features/time/time-service.ts:setupEventHandlers() [√§ndern], src/features/time/time-service.ts:setCalendar() [neu] |
| 915 | ‚¨ú | Time | time:calendar-changed Event publizieren | niedrig | Nein | #914 | [Time-System.md#events](../features/Time-System.md#events) | src/features/time/time-service.ts:publishCalendarChanged() [neu], src/core/events/domain-events.ts |
| 916 | ‚¨ú | Time | time:calendar-change-failed Event publizieren | niedrig | Nein | #914 | [Time-System.md#events](../features/Time-System.md#events) | src/features/time/time-service.ts:publishCalendarChangeFailed() [neu], src/core/events/domain-events.ts |
| 917 | ‚¨ú | Time | convertTime() zwischen Kalendern | niedrig | Nein | #903 | [Time-System.md#kalender-wechseln](../features/Time-System.md#kalender-wechseln) | src/features/time/time-utils.ts:convertTime() [neu] |
| 918 | ‚¨ú | Time | Visibility-Modifier pro TimeSegment (dawn 50%, night 10%, etc.) | mittel | Nein | #906, #843, #848 | [Time-System.md#visibility-modifier-pro-segment](../features/Time-System.md#visibility-modifier-pro-segment) | src/features/map/visibility-utils.ts:getTimeModifier() [neu], src/features/map/visibility.ts:calculateVisibility() [√§ndern] |
| 919 | ‚¨ú | Time | Darkvision negiert Night-Modifier | mittel | Nein | #918, #849 | [Time-System.md#darkvision](../features/Time-System.md#darkvision) | src/features/map/visibility-utils.ts:getTimeModifier() [√§ndern], src/features/party/types.ts:CharacterSenses [neu] |
| 950 | ‚¨ú | Time | rest:* Events im Events-Catalog definieren | hoch | Ja | - | [Events-Catalog.md#rest](../architecture/Events-Catalog.md#rest) | docs/architecture/Events-Catalog.md (bereits dokumentiert) |
| 951 | ‚¨ú | Time | rest:* Event-Typen in Core definieren | hoch | Ja | #950 | [Events-Catalog.md#rest](../architecture/Events-Catalog.md#rest) | src/core/events/types.ts [√§ndern] |
| 952 | ‚¨ú | Time | RestState Interface (status, type, hoursCompleted, hoursRemaining, interruptionCount) | hoch | Ja | #951 | [Time-System.md#resting](../features/Time-System.md#resting) | src/core/schemas/time.ts [√§ndern] |
| 953 | ‚¨ú | Time | Rest-Store (State Machine: idle ‚Üí resting ‚Üí paused) | hoch | Ja | #952 | [Time-System.md#resting](../features/Time-System.md#resting) | src/features/time/rest-store.ts [neu] |
| 954 | ‚¨ú | Time | Rest-Service (Stunden-Loop mit Encounter-Checks) | hoch | Ja | #953, #215 | [Time-System.md#resting](../features/Time-System.md#resting) | src/features/time/rest-service.ts [neu] |
| 955 | ‚¨ú | Application | Rest-Button in SessionRunner Actions-Sektion | hoch | Ja | #951 | [SessionRunner.md#actions-sektion](../application/SessionRunner.md#actions-sektion) | src/application/session-runner/panels/sidebar.ts [√§ndern] |
| 956 | ‚¨ú | Application | Rest-Start-Modal (Short/Long w√§hlen, Gritty Realism Option) | hoch | Ja | #955 | [SessionRunner.md#actions-sektion](../application/SessionRunner.md#actions-sektion) | src/application/session-runner/modals/rest-modal.ts [neu] |
| 957 | ‚¨ú | Application | Rest-Resolution-Modal (Fortsetzen/Neustarten nach Encounter) | hoch | Ja | #954 | [SessionRunner.md#actions-sektion](../application/SessionRunner.md#actions-sektion) | src/application/session-runner/modals/rest-resolution-modal.ts [neu] |
| 958 | ‚¨ú | Application | Rest-Completed-Modal (Info + manuelle HP-Eingabe f√ºr GM) | hoch | Ja | #954 | [SessionRunner.md#actions-sektion](../application/SessionRunner.md#actions-sektion) | src/application/session-runner/modals/rest-completed-modal.ts [neu] |
| 1000 | ‚¨ú | Dungeon | Automatische Trap-Detection (Passive Perception >= Trap DC ‚Üí "Falle entdeckt!") | hoch | Ja | #810, #500, #1210 | [Dungeon-System.md#automatische-trigger](../features/Dungeon-System.md#automatische-trigger) | src/features/dungeon/trap-detection.ts:checkTrapDetection() [neu] |
| 1001 | ‚¨ú | Dungeon | Trap-Ausl√∂sung bei Bewegung (Passive Perception < Trap DC) | hoch | Ja | #1000 | [Dungeon-System.md#automatische-trigger](../features/Dungeon-System.md#automatische-trigger) | src/features/dungeon/trap-detection.ts:triggerTrap() [neu] |
| 1002 | ‚¨ú | Dungeon | T√ºr-Prompt bei Bewegung ("T√ºr. √ñffnen?") | hoch | Ja | #808 | [Dungeon-System.md#automatische-trigger](../features/Dungeon-System.md#automatische-trigger) | src/features/dungeon/movement-triggers.ts:checkDoorPrompt() [neu] |
| 1003 | ‚¨ú | Dungeon | Creature-Encounter-Trigger bei Token-Kontakt | hoch | Ja | #811, #215, #217 | [Dungeon-System.md#automatische-trigger](../features/Dungeon-System.md#automatische-trigger) | src/features/dungeon/movement-triggers.ts:checkTokenContact() [neu], src/features/dungeon/dungeon-service.ts:publishEncounterGenerateRequested() [neu] |
| 1004 | ‚¨ú | Dungeon | Fog of War Update bei Party-Bewegung | hoch | Ja | #812, #1025 | [Dungeon-System.md#automatische-trigger](../features/Dungeon-System.md#automatische-trigger) | src/features/dungeon/fog-of-war.ts:updateFogOfWar() [neu] |
| 1005 | ‚¨ú | Dungeon | Secret-Door Automatischer Passive Perception Check | hoch | Ja | #808, #500, #1210 | [Dungeon-System.md#geheime-bereiche](../features/Dungeon-System.md#geheime-bereiche) | src/features/dungeon/secret-detection.ts:checkSecretDoorDetection() [neu] |
| 1006 | ‚¨ú | Dungeon | GM-Popup bei Secret-Entdeckung | hoch | Ja | #1005 | [Dungeon-System.md#geheime-bereiche](../features/Dungeon-System.md#geheime-bereiche) | src/features/dungeon/dungeon-service.ts:publishSecretDiscovered() [neu] |
| 1007 | ‚¨ú | Dungeon | GM-Override: Secret als entdeckt markieren | hoch | Ja | #1005 | [Dungeon-System.md#geheime-bereiche](../features/Dungeon-System.md#geheime-bereiche) | src/features/dungeon/dungeon-service.ts:markSecretAsDiscovered() [neu] |
| 1008 | ‚¨ú | Dungeon | Monster-Tokens auf Grid platzieren (alle Encounters vorplatziert) | hoch | Ja | #811 | [Dungeon-System.md#dungeon-encounters](../features/Dungeon-System.md#dungeon-encounters) | src/features/dungeon/tokens.ts:placeToken() [neu] |
| 1009 | ‚¨ú | Dungeon | Encounter-Start bei Token-Klick | hoch | Ja | #1008, #217 | [Dungeon-System.md#dungeon-encounters](../features/Dungeon-System.md#dungeon-encounters) | src/features/dungeon/tokens.ts:handleTokenClick() [neu], src/features/dungeon/dungeon-service.ts:publishEncounterStartRequested() [neu] |
| 1010 | ‚¨ú | Dungeon | Token zu aktivem Encounter hinzuf√ºgen | hoch | Ja | #1009, #217 | [Dungeon-System.md#dungeon-encounters](../features/Dungeon-System.md#dungeon-encounters) | src/features/dungeon/dungeon-service.ts:addCreaturesToEncounter() [neu] |
| 1011 | ‚¨ú | Dungeon | Lichtquellen-Radien (Torch 20/40, Lantern 30/60, Light 20/40, Darkvision 60) | hoch | Ja | #808 | [Dungeon-System.md#licht](../features/Dungeon-System.md#licht) | src/features/dungeon/lighting.ts:LIGHT_SOURCE_RADII [neu] |
| 1012 | ‚¨ú | Dungeon | Lighting Overlay Visualisierung (dunkle Bereiche abgedunkelt) | hoch | Ja | #1011, #812 | [Dungeon-System.md#lichtquellen-tracking](../features/Dungeon-System.md#lichtquellen-tracking) | src/features/dungeon/lighting.ts:calculateLighting() [neu], src/application/shared/rendering/dungeon-renderer.ts:renderLightingOverlay() [neu] |
| 1013 | ‚¨ú | Dungeon | Character-Inventar Lichtquellen-Tracking (Reichweite, Brenndauer) | hoch | Ja | #1011, #600, #612 | [Dungeon-System.md#lichtquellen-tracking](../features/Dungeon-System.md#lichtquellen-tracking) | src/features/inventory/types.ts:LightSource [neu], src/features/dungeon/dungeon-service.ts:getActiveLightSources() [neu] |
| 1014 | ‚¨ú | Dungeon | Time-System Integration: Lichtquellen-Brenndauer tracken | mittel | Ja | #1013, #907 | [Dungeon-System.md#lichtquellen-tracking](../features/Dungeon-System.md#lichtquellen-tracking) | src/features/dungeon/dungeon-service.ts:handleTimeAdvance() [neu] (Event-Handler f√ºr time:advance-requested) |
| 1015 | ‚¨ú | Dungeon | Bewegungs-Zeit basierend auf Character-Speed (5-foot Tiles / 6 Sekunden) | hoch | Ja | #806, #504 | [Dungeon-System.md#zeit-tracking](../features/Dungeon-System.md#zeit-tracking) | src/features/dungeon/movement.ts:calculateMovementTime() [neu] |
| 1016 | ‚¨ú | Dungeon | Time-System Update bei Dungeon-Bewegung | hoch | Ja | #1015, #907 | [Dungeon-System.md#zeit-tracking](../features/Dungeon-System.md#zeit-tracking) | src/features/dungeon/movement.ts:updateTimeAfterMovement() [neu] (publiziert time:advance-requested) |
| 1017 | ‚¨ú | Dungeon | GM View Toggle (sieht alles) | hoch | Ja | #812 | [Dungeon-System.md#map-ansicht](../features/Dungeon-System.md#map-ansicht) | src/features/dungeon/dungeon-service.ts:setViewMode() [neu], src/features/dungeon/types.ts:ViewMode [neu] |
| 1018 | ‚¨ú | Dungeon | Player View Toggle (nur Explored sichtbar) | hoch | Ja | #812, #1017 | [Dungeon-System.md#map-ansicht](../features/Dungeon-System.md#map-ansicht) | src/features/dungeon/dungeon-service.ts:setViewMode() [neu] |
| 1019 | ‚¨ú | Dungeon | Edit Mode Toggle | hoch | Ja | #806 | [Dungeon-System.md#map-ansicht](../features/Dungeon-System.md#map-ansicht) | src/features/dungeon/dungeon-service.ts:setEditMode() [neu] |
| 1020 | ‚¨ú | Dungeon | GM-definierte Raum-Grenzen beim Zeichnen | hoch | Ja | #809 | [Dungeon-System.md#raum-definition](../features/Dungeon-System.md#raum-definition) | src/features/dungeon/rooms.ts:defineRoom() [neu] |
| 1021 | ‚¨ú | Dungeon | Raum-Pinsel f√ºr nachtr√§gliche Anpassung | hoch | Ja | #1020 | [Dungeon-System.md#raum-definition](../features/Dungeon-System.md#raum-definition) | src/features/dungeon/rooms.ts:updateRoomBoundary() [neu] |
| 1022 | ‚¨ú | Dungeon | Raum-Klick zeigt Inhalts√ºbersicht | hoch | Ja | #809 | [Dungeon-System.md#gm-interface](../features/Dungeon-System.md#gm-interface) | src/features/dungeon/rooms.ts:getRoomSummary() [neu], src/application/views/RoomSummaryView.svelte [neu] |
| 1023 | ‚¨ú | Dungeon | Tile-Klick zeigt DetailView mit Inhalt | hoch | Ja | #808 | [Dungeon-System.md#tile-detail-click](../features/Dungeon-System.md#tile-detail-click) | src/features/dungeon/dungeon-service.ts:getTileContents() [neu], src/application/views/TileDetailView.svelte [neu] |
| 1024 | ‚¨ú | Dungeon | DetailView zeigt Fallen, Truhen, GM-Notizen | hoch | Ja | #1023 | [Dungeon-System.md#tile-detail-click](../features/Dungeon-System.md#tile-detail-click) | src/application/views/TileDetailView.svelte [neu] |
| 1025 | ‚¨ú | Dungeon | Line of Sight Berechnung | hoch | Ja | #808 | [Dungeon-System.md#sicht-line-of-sight](../features/Dungeon-System.md#sicht-line-of-sight) | src/features/dungeon/line-of-sight.ts:calculateLineOfSight() [neu] |
| 1026 | ‚¨ú | Dungeon | Wand-Blockierung f√ºr Sichtlinien | hoch | Ja | #1025 | [Dungeon-System.md#sicht-line-of-sight](../features/Dungeon-System.md#sicht-line-of-sight) | src/features/dungeon/line-of-sight.ts:isBlockedByWall() [neu] |
| 1030 | ‚¨ú | Dungeon | Sound-Propagation Overlay (was Spieler h√∂ren k√∂nnen) | niedrig | Nein | #809 | [Dungeon-System.md#sound](../features/Dungeon-System.md#sound) | src/features/dungeon/sound-propagation.ts:calculateSoundPropagation() [neu] |
| 1031 | ‚¨ú | Dungeon | T√ºr-D√§mpfung (offen: 80%, geschlossen: 30%) | niedrig | Nein | #1030 | [Dungeon-System.md#sound](../features/Dungeon-System.md#sound) | src/features/dungeon/sound-propagation.ts:DOOR_DAMPENING_FACTORS [neu] |
| 1032 | ‚¨ú | Dungeon | Raum-zu-Raum Sound-Visualisierung | niedrig | Nein | #1030 | [Dungeon-System.md#sound](../features/Dungeon-System.md#sound) | src/features/dungeon/sound-propagation.ts:visualizeSoundReach() [neu] |
| 1035 | ‚¨ú | Dungeon | 3D-Grid Navigation (Balkone, Tunnel-Schr√§gen) | niedrig | Nein | #807 | [Dungeon-System.md#multi-level-navigation](../features/Dungeon-System.md#multi-level-navigation) | src/features/dungeon/3d-grid.ts:calculate3DPath() [neu] |
| 1036 | ‚¨ú | Dungeon | Treppen/Leitern/Sch√§chte als spezielle Tiles | niedrig | Nein | #1035, #808 | [Dungeon-System.md#multi-level-navigation](../features/Dungeon-System.md#multi-level-navigation) | src/core/schemas/map.ts:dungeonTileSchema [√§ndern - type erweitern], src/features/dungeon/3d-grid.ts:LEVEL_TRANSITION_TILES [neu] |
| 1037 | ‚¨ú | Dungeon | Level-Wechsel bei Stair-Tile-Kontakt | niedrig | Nein | #1036 | [Dungeon-System.md#multi-level-navigation](../features/Dungeon-System.md#multi-level-navigation) | src/features/dungeon/movement-triggers.ts:handleLevelTransition() [neu] |
| 1200 | ‚úÖ | Creature | CreatureDefinition Schema: Vollst√§ndiges Interface implementieren | hoch | Ja | - | [Creature.md#schema](../domain/Creature.md#schema) | src/core/schemas/creature.ts:creatureDefinitionSchema |
| 1201 | ‚úÖ | Creature | Basis-Statistiken: CR, HP, AC, Size | hoch | Ja | #1200 | [Creature.md#creaturedefinition](../domain/Creature.md#creaturedefinition) | src/core/schemas/creature.ts:creatureDefinitionSchema (Zeile 112-121) |
| 1202 | ‚úÖ | Creature | terrainAffinities: Array von Terrain-IDs | hoch | Ja | #1200 | [Creature.md#creaturedefinition](../domain/Creature.md#creaturedefinition) | src/core/schemas/creature.ts:creatureDefinitionSchema (Zeile 134) |
| 1203 | ‚úÖ | Creature | activeTime: TimeSegment-Array (dawn, day, dusk, night) | hoch | Ja | #1200 | [Creature.md#creaturedefinition](../domain/Creature.md#creaturedefinition) | src/core/schemas/creature.ts:creatureDefinitionSchema (Zeile 137) |
| 1204 | ‚úÖ | Creature | lootTags: String-Array f√ºr Loot-System | hoch | Ja | #1200 | [Creature.md#creaturedefinition](../domain/Creature.md#creaturedefinition) | src/core/schemas/creature.ts:creatureDefinitionSchema (Zeile 145) |
| 1205 | ‚¨ú | Creature | DefaultLootEntry Interface: itemId, chance, quantity | hoch | Ja | #1200 | [Creature.md#defaultloot](../domain/Creature.md#defaultloot) | [neu] src/core/schemas/creature.ts:defaultLootEntrySchema |
| 1206 | ‚¨ú | Creature | defaultLoot Array: Garantiertes/wahrscheinliches Loot | hoch | Ja | #1205 | [Creature.md#defaultloot](../domain/Creature.md#defaultloot) | [neu] src/core/schemas/creature.ts:creatureDefinitionSchema |
| 1207 | ‚úÖ | Creature | CreaturePreferences Interface: Gewichtungs-Modifikatoren | hoch | Ja | #1200 | [Creature.md#creaturepreferences](../domain/Creature.md#creaturepreferences) | src/core/schemas/creature.ts:creaturePreferencesSchema (Zeile 73-92) |
| 1208 | ‚úÖ | Creature | AbilityScores Interface: STR, DEX, CON, INT, WIS, CHA | hoch | Ja | #1200 | [Creature.md#creaturedefinition](../domain/Creature.md#creaturedefinition) | src/core/schemas/creature.ts:abilityScoresSchema (Zeile 45-52) |
| 1209 | ‚úÖ | Creature | SpeedBlock Interface: walk, fly, swim, climb, burrow | hoch | Ja | #1200 | [Creature.md#creaturedefinition](../domain/Creature.md#creaturedefinition) | src/core/schemas/creature.ts:speedBlockSchema (Zeile 59-65) |
| 1210 | ‚¨ú | Creature | Senses Interface: passivePerception, darkvision, blindsight, etc. | mittel | Nein | #1200 | [Creature.md#creaturedefinition](../domain/Creature.md#creaturedefinition) | [neu] src/core/schemas/creature.ts:sensesSchema |
| 1211 | ‚úÖ | Creature | Creature Runtime Interface: instanceId, currentHp, tempHp, conditions | hoch | Ja | #1200 | [Creature.md#creature-runtime](../domain/Creature.md#creature-runtime) | src/core/schemas/creature.ts:creatureInstanceSchema (Zeile 183-211) |
| 1212 | ‚¨ú | Creature | Auto-Sync: creature.terrainAffinities ‚Üí terrain.nativeCreatures | hoch | Ja | #1202, #1700, #1706 | [Creature.md#auto-sync-verhalten](../domain/Creature.md#auto-sync-verhalten) | [neu] src/features/creature/auto-sync.ts:syncCreatureToTerrain() |
| 1213 | ‚¨ú | Creature | Auto-Sync: terrain.nativeCreatures ‚Üí creature.terrainAffinities | hoch | Ja | #1202, #1700, #1706 | [Creature.md#auto-sync-verhalten](../domain/Creature.md#auto-sync-verhalten) | [neu] src/features/creature/auto-sync.ts:syncTerrainToCreature() |
| 1214 | ‚úÖ | Creature | Encounter Integration: filterEligibleCreatures() | hoch | Ja | #1202, #1203 | [Creature.md#encounter-feature](../domain/Creature.md#encounter-feature) | src/features/encounter/encounter-utils.ts:filterEligibleCreatures() (Zeile 45-61) |
| 1215 | üî∂ | Creature | Combat Integration: createCombatCreature() Factory | hoch | Ja | #1211 | [Creature.md#combat-feature](../domain/Creature.md#combat-feature) | src/features/combat/combat-utils.ts:createParticipantFromCreature() (Zeile 122-143), src/features/encounter/encounter-utils.ts:createCreatureInstance() (Zeile 344-356) |
| 1216 | üî∂ | Creature | Loot Integration: defaultLoot Processing bei Encounter | hoch | Ja | #1206 | [Creature.md#defaultloot](../domain/Creature.md#defaultloot) | src/features/loot/loot-utils.ts:mergeLootTags() (Zeile 130-145 nutzt nur lootTags), [neu] src/features/loot/loot-utils.ts:processDefaultLoot() |
| 1217 | ‚¨ú | Creature | Storage: creature/ und npc/ Verzeichnisse | hoch | Ja | #1200, #2802 | [Creature.md#storage](../domain/Creature.md#storage) | [neu] src/infrastructure/vault-entity-registry.adapter.ts (creature/npc-Verzeichnis-Setup) |
| 1218 | üî∂ | Creature | Bundled Creatures: Mitgelieferte Basis-Kreaturen (_bundled/) | mittel | Ja | #1217 | [Creature.md#storage](../domain/Creature.md#storage) | presets/creatures/base-creatures.json (8 creatures vorhanden, aber Vault-Integration fehlt) |
| 1219 | üî∂ | Creature | Vollst√§ndiger D&D 5e Statblock: Skills, Saves, Resistances, etc. | mittel | Nein | #1200 | [Creature.md#creaturedefinition](../domain/Creature.md#creaturedefinition) | src/core/schemas/creature.ts:creatureDefinitionSchema (actions vorhanden Zeile 159, aber Skills/Saves/Resistances fehlen) [neu] skillProficienciesSchema, savingThrowProficienciesSchema, resistancesSchema |
| 1220 | üî∂ | Creature | Actions Interface: Attack, Spellcasting, Special Abilities | mittel | Nein | #1200 | [Creature.md#creaturedefinition](../domain/Creature.md#creaturedefinition) | src/core/schemas/creature.ts:creatureDefinitionSchema (actions als string[] Zeile 159), [neu] actionSchema mit strukturiertem Interface |
| 1221 | ‚¨ú | Creature | Legendary Actions Interface: Legendary Actions f√ºr Boss-Monster | niedrig | Nein | #1200 | [Creature.md#creaturedefinition](../domain/Creature.md#creaturedefinition) | [neu] src/core/schemas/creature.ts:legendaryActionSchema, creatureDefinitionSchema erweitern |
| 1222 | ‚¨ú | Creature | Sinne-System: Encounter-Trigger basierend auf Sichtweite | mittel | Nein | #1210 | [Creature.md#sinne-post-mvp](../domain/Creature.md#sinne-post-mvp) | [neu] src/features/encounter/visibility.ts:checkCreatureVisibility() |
| 1223 | ‚¨ú | Creature | Passive Perception f√ºr Stealth-Checks | mittel | Nein | #1210 | [Creature.md#sinn-typen](../domain/Creature.md#sinn-typen) | [neu] src/features/encounter/visibility.ts:calculatePassivePerceptionDC() |
| 1100 | ‚¨ú | Audio | AudioLayer Interface: music + ambience mit HTMLAudioElement | hoch | Ja | - | [Audio-System.md#audio-layers](../features/Audio-System.md#audio-layers) | [neu] src/features/audio/types.ts:AudioLayer |
| 1101 | ‚¨ú | Audio | Track Entity Schema: id, title, filename, layer, tags, loop | hoch | Ja | #2801 | [Audio-System.md#track-audio-entity](../features/Audio-System.md#track-audio-entity) | [neu] src/core/schemas/track.ts |
| 1102 | ‚¨ú | Audio | MoodContext Interface: location, weather, timeOfDay, combatState | hoch | Ja | - | [Audio-System.md#moodcontext](../features/Audio-System.md#moodcontext) | [neu] src/features/audio/types.ts:MoodContext, src/features/audio/types.ts:LocationType |
| 1103 | ‚¨ú | Audio | Basic Playback: playTrack() mit HTML5 Audio API | hoch | Ja | #1100, #1101 | [Audio-System.md#html5-audio](../features/Audio-System.md#html5-audio) | [neu] src/features/audio/playback.ts:playTrack() |
| 1104 | ‚¨ú | Audio | Volume Control: setVolume() pro Layer (0-100) | hoch | Ja | #1100 | [Audio-System.md#gm-interface](../features/Audio-System.md#gm-interface) | [neu] src/features/audio/playback.ts:setVolume() |
| 1105 | ‚¨ú | Audio | Track-Ende Handler: N√§chsten Track ausw√§hlen bei ended-Event | hoch | Ja | #1103, #1108 | [Audio-System.md#track-ende-handling](../features/Audio-System.md#track-ende-handling) | [neu] src/features/audio/playback.ts:handleTrackEnded() |
| 1106 | ‚¨ú | Audio | Crossfade: crossfade() mit konfigurierbarer Dauer | hoch | Ja | #1103, #1104 | [Audio-System.md#crossfade](../features/Audio-System.md#crossfade) | [neu] src/features/audio/playback.ts:crossfade() |
| 1107 | ‚¨ú | Audio | Mood-Matching: calculateMatchScore() f√ºr Location + Combat | hoch | Ja | #1101, #1102 | [Audio-System.md#automatische-track-auswahl](../features/Audio-System.md#automatische-track-auswahl) | [neu] src/features/audio/mood-matching.ts:calculateMatchScore() |
| 1108 | ‚¨ú | Audio | selectTrack(): Beste Match aus Kandidaten (LRP Tiebreaker) | hoch | Ja | #1107 | [Audio-System.md#automatische-track-auswahl](../features/Audio-System.md#automatische-track-auswahl) | [neu] src/features/audio/mood-matching.ts:selectTrack(), src/features/audio/mood-matching.ts:findBestMatch() |
| 1109 | ‚¨ú | Audio | Manual Override: Track direkt w√§hlen (umgeht Mood-Matching) | hoch | Ja | #1103 | [Audio-System.md#manual-override](../features/Audio-System.md#manual-override) | [neu] src/features/audio/orchestrator.ts:overrideTrack() |
| 1110 | ‚¨ú | Audio | Audio Events: play/pause/skip/volume-requested Handler | hoch | Ja | #1103-1109 | [Audio-System.md#events](../features/Audio-System.md#events) | [neu] src/features/audio/orchestrator.ts:setupEventHandlers(), [neu] src/features/audio/types.ts:AudioState |
| 1111 | ‚¨ú | Audio | audio:state-changed Event publizieren | hoch | Ja | #1110 | [Audio-System.md#events](../features/Audio-System.md#events) | [neu] src/features/audio/orchestrator.ts:publishStateChanged() |
| 1112 | ‚¨ú | Audio | audio:track-changed Event publizieren (reason: context/ended/skip/override) | hoch | Ja | #1110 | [Audio-System.md#events](../features/Audio-System.md#events) | [neu] src/features/audio/orchestrator.ts:publishTrackChanged() |
| 1113 | ‚¨ú | Audio | Auto-Switch on Context: Track-Wechsel bei Context-√Ñnderung | mittel | Nein | #1108, #909, #110, #12, #322, #324 | [Audio-System.md#context-updates](../features/Audio-System.md#context-updates) | [neu] src/features/audio/orchestrator.ts:handleContextChange(), [√§ndern] src/features/audio/orchestrator.ts:setupEventHandlers() |
| 1114 | ‚¨ú | Audio | Weather-Matching: Ambience anpassen bei weather-changed | niedrig | Nein | #1107, #1113 | [Audio-System.md#prioritaet](../features/Audio-System.md#prioritaet) | [neu] src/features/audio/mood-matching.ts |
| 1115 | ‚¨ú | Audio | audio:context-changed Event Handler | mittel | Nein | #1102, #1113 | [Audio-System.md#events](../features/Audio-System.md#events) | [neu] src/features/audio/orchestrator.ts:handleAudioContextChanged(), [√§ndern] src/features/audio/orchestrator.ts:setupEventHandlers() |
| 1300 | ‚úÖ | NPC | NPC-Schema Interface: id, name, creature, factionId, personality, status | hoch | Ja | #1400 | [NPC-System.md#npc-schema](../domain/NPC-System.md#npc-schema) | src/core/schemas/npc.ts:52-103 |
| 1301 | ‚úÖ | NPC | PersonalityTraits Interface: primary + secondary Traits | hoch | Ja | #1300 | [NPC-System.md#npc-schema](../domain/NPC-System.md#npc-schema) | src/core/schemas/npc.ts:22-28 |
| 1302 | ‚úÖ | NPC | CreatureRef Interface: type + id Verweis auf Creature-Template | hoch | Ja | #1300 | [NPC-System.md#npc-schema](../domain/NPC-System.md#npc-schema) | src/core/schemas/creature.ts:222-230 (creatureRefSchema) |
| 1303 | ‚úÖ | NPC | NPC Tracking-Felder: firstEncounter, lastEncounter, encounterCount | hoch | Ja | #1300 | [NPC-System.md#npc-schema](../domain/NPC-System.md#npc-schema) | src/core/schemas/npc.ts:85-92 |
| 1304 | ‚úÖ | NPC | NPC Status-Enum: alive, dead (Vereinfacht f√ºr MVP) | hoch | Ja | #1300 | [NPC-System.md#status-uebergaenge](../domain/NPC-System.md#status-uebergaenge) | src/core/schemas/npc.ts:40-42 |
| 1305 | ‚úÖ | NPC | Optional currentPOI-Feld: Explizite NPC-Platzierung | mittel | Nein | #1300, #1500 | [NPC-System.md#mvp-niedrige-prio-explizite-npc-location](../domain/NPC-System.md#mvp-niedrige-prio-explizite-npc-location) | src/core/schemas/npc.ts:97 |
| 1306 | ‚úÖ | NPC | NPCMatchCriteria Interface: creatureType + factionId | hoch | Ja | - | [NPC-System.md#match-kriterien](../domain/NPC-System.md#match-kriterien) | src/core/schemas/npc.ts:114-120 (im Schema statt types.ts) |
| 1307 | ‚úÖ | NPC | findMatchingNPC(): Suche existierende NPCs nach Kriterien | hoch | Ja | #1306 | [NPC-System.md#match-kriterien](../domain/NPC-System.md#match-kriterien) | Integriert in selectOrGenerateNpc (src/features/encounter/npc-generator.ts:320-353) |
| 1308 | ‚úÖ | NPC | calculateMatchScore(): Scoring-System (Wiedersehen +15, k√ºrzlich -30) | hoch | Ja | #1307 | [NPC-System.md#match-kriterien](../domain/NPC-System.md#match-kriterien) | src/features/encounter/npc-generator.ts:277-301 (calculateNpcMatchScore) |
| 1309 | ‚úÖ | NPC | resolveFactionCulture(): Kultur aus Faction-Hierarchie aufl√∂sen | hoch | Ja | #1400, #1401 | [NPC-System.md#npc-generierung](../domain/NPC-System.md#npc-generierung) | src/features/encounter/npc-generator.ts:37-63 |
| 1310 | ‚úÖ | NPC | generateNameFromCulture(): Namen aus Kultur-Daten generieren | hoch | Ja | #1309 | [NPC-System.md#npc-generierung](../domain/NPC-System.md#npc-generierung) | src/features/encounter/npc-generator.ts:127-167 (generateNpcName) |
| 1311 | ‚úÖ | NPC | rollPersonalityFromCulture(): Pers√∂nlichkeits-Traits w√ºrfeln | hoch | Ja | #1309 | [NPC-System.md#npc-generierung](../domain/NPC-System.md#npc-generierung) | src/features/encounter/npc-generator.ts:200-224 (generatePersonality) |
| 1312 | üî∂ | NPC | rollQuirkFromCulture(): Quirk mit 30% Chance generieren | mittel | Ja | #1309 | [NPC-System.md#npc-generierung](../domain/NPC-System.md#npc-generierung) | src/features/encounter/npc-generator.ts:230-249 (generateQuirk mit 50% statt 30%) |
| 1313 | ‚úÖ | NPC | selectPersonalGoal(): Pers√∂nliches Ziel basierend auf Kontext | mittel | Ja | - | [NPC-System.md#npc-generierung](../domain/NPC-System.md#npc-generierung) | src/features/encounter/npc-generator.ts:254-267 (generatePersonalGoal) |
| 1314 | ‚úÖ | NPC | generateNewNPC(): Haupt-Generierungs-Funktion mit Persistierung | hoch | Ja | #1300-1313 | [NPC-System.md#npc-generierung](../domain/NPC-System.md#npc-generierung) | src/features/encounter/npc-generator.ts:358-385 (generateNewNpc) |
| 1315 | ‚úÖ | NPC | EntityRegistry Integration: NPC als Entity-Typ registrieren | hoch | Ja | #1300 | [NPC-System.md#npc-generierung](../domain/NPC-System.md#npc-generierung) | src/core/schemas/common.ts:45 (EntityType enum) |
| 1316 | ‚¨ú | NPC | updateNPCAfterEncounter(): Tracking-Felder aktualisieren | hoch | Ja | #1303, #214 | [NPC-System.md#encounter-nachbereitung](../domain/NPC-System.md#encounter-nachbereitung) | [neu] src/features/npc/npc-service.ts:updateNpcAfterEncounter() |
| 1317 | ‚¨ú | NPC | NPC Status-Transition: Status auf 'dead' setzen bei npcKilled | hoch | Ja | #1304, #1316 | [NPC-System.md#encounter-nachbereitung](../domain/NPC-System.md#encounter-nachbereitung) | src/features/npc/npc-service.ts:updateNpcAfterEncounter() [√§ndern] |
| 1318 | ‚úÖ | NPC | selectOrGenerateLeadNPC(): Integration mit Encounter-System | hoch | Ja | #1307, #1314 | [NPC-System.md#lead-npc-auswahl](../domain/NPC-System.md#lead-npc-auswahl) | src/features/encounter/npc-generator.ts:320-353 (selectOrGenerateNpc), verwendet in encounter-service.ts:513-521 |
| 1319 | ‚¨ú | NPC | resolveMultiGroupNPCs(): Lead-NPC f√ºr jede Gruppe in Multi-Group-Encounters | mittel | Nein | #1318, #252 | [NPC-System.md#multi-gruppen-encounters](../domain/NPC-System.md#multi-gruppen-encounters) | [neu] src/features/encounter/npc-generator.ts:resolveMultiGroupNPCs() |
| 1320 | ‚¨ú | NPC | findEligibleNPCs(): NPCs nach Faction-Territory filtern | hoch | Ja | #1400, #1409, #1410 | [NPC-System.md#mvp-fraktions-basierte-location](../domain/NPC-System.md#mvp-fraktions-basierte-location) | [neu] src/features/npc/npc-location.ts:findEligibleNpcs() |
| 1321 | ‚¨ú | NPC | findNPCsAtTile(): Kombination explizite + Faction-basierte Location | mittel | Nein | #1305, #1320 | [NPC-System.md#mvp-niedrige-prio-explizite-npc-location](../domain/NPC-System.md#mvp-niedrige-prio-explizite-npc-location) | [neu] src/features/npc/npc-location.ts:findNpcsAtTile() |
| 1322 | ‚¨ú | NPC | NPC Library-View: CRUD-Interface f√ºr NPC-Bearbeitung | mittel | Ja | #1300, #2800 | [NPC-System.md#npc-bearbeitung-library](../domain/NPC-System.md#npc-bearbeitung-library) | [neu] src/application/views/library/NPCView.svelte |
| 1323 | ‚¨ú | NPC | Encounter-Preview UI: NPC-Details mit Wiederkehr-Indikator | mittel | Ja | #1318, #2415 | [NPC-System.md#encounter-preview](../domain/NPC-System.md#encounter-preview) | [neu] src/application/components/encounter/EncounterPreview.svelte |
| 1400 | ‚úÖ | Faction | Faction-Schema (id, name, parentId, culture, creatures, controlledPOIs, displayColor) | hoch | Ja | - | [Faction.md#schema](../domain/Faction.md#schema) | src/core/schemas/faction.ts:160-188 |
| 1401 | ‚úÖ | Faction | CultureData-Schema (naming, personality, quirks, values, speech) | hoch | Ja | #1400 | [Faction.md#culturedata](../domain/Faction.md#culturedata) | src/core/schemas/faction.ts:116-133 |
| 1402 | ‚úÖ | Faction | FactionCreatureGroup-Schema (creatureId, count) | hoch | Ja | #1400 | [Faction.md#schema](../domain/Faction.md#schema) | src/core/schemas/faction.ts:142-150 |
| 1403 | ‚úÖ | Faction | FactionPresence-Schema (factionId, strength) f√ºr Tile-Speicherung | hoch | Ja | #1400 | [Faction.md#praesenz-datenstruktur](../domain/Faction.md#praesenz-datenstruktur) | src/core/schemas/faction.ts:227-232 |
| 1404 | ‚úÖ | Faction | WeightedTrait und WeightedQuirk Schemas | mittel | Ja | #1401 | [Faction.md#culturedata](../domain/Faction.md#culturedata) | src/core/schemas/faction.ts:20-36 |
| 1405 | ‚úÖ | Faction | resolveFactionCulture(): Hierarchie von Wurzel zu Blatt aufl√∂sen | hoch | Ja | #1400, #1401 | [Faction.md#kultur-vererbung](../domain/Faction.md#kultur-vererbung) | src/features/encounter/npc-generator.ts:37-63 |
| 1406 | ‚úÖ | Faction | mergeCultureData(): Kultur-Eigenschaften mergen mit Vererbungsregeln | hoch | Ja | #1405 | [Faction.md#merge-regeln](../domain/Faction.md#merge-regeln) | src/features/encounter/npc-generator.ts:69-100 (mergeCulture) |
| 1407 | ‚úÖ | Faction | mergeWeightedTraits(): Helper f√ºr Trait-Merging mit Gewichtung | mittel | Ja | #1406 | [Faction.md#merge-regeln](../domain/Faction.md#merge-regeln) | Integriert in mergeCulture (src/features/encounter/npc-generator.ts:69-100) |
| 1408 | ‚úÖ | Faction | mergeWeightedQuirks(): Helper f√ºr Quirk-Merging | mittel | Ja | #1406 | [Faction.md#merge-regeln](../domain/Faction.md#merge-regeln) | Integriert in mergeCulture (src/features/encounter/npc-generator.ts:69-100) |
| 1409 | ‚¨ú | Faction | calculatePresenceForTile(): Pr√§senz-Vorberechnung im Cartographer | hoch | Ja | #1403, #1500 | [Faction.md#praesenz-vorberechnung-cartographer](../domain/Faction.md#praesenz-vorberechnung-cartographer) | [neu] src/features/faction/faction-presence.ts:calculatePresenceForTile() |
| 1410 | ‚¨ú | Faction | getFactionsAtTile(): Vorberechnete Pr√§senz vom Tile lesen | hoch | Ja | #1409, #801 | [Faction.md#encounter-integration](../domain/Faction.md#encounter-integration) | [neu] src/features/faction/faction-presence.ts:getFactionsAtTile() |
| 1411 | ‚¨ú | Faction | selectEncounterFaction(): Gewichtete Faction-Auswahl basierend auf Pr√§senz | hoch | Ja | #1410 | [Faction.md#encounter-integration](../domain/Faction.md#encounter-integration) | [neu] src/features/faction/faction-presence.ts:selectEncounterFaction() |
| 1412 | ‚úÖ | Faction | Bundled Basis-Fraktionen: Humanoids, Goblins, Orcs, Undead, etc. | hoch | Ja | #1400 | [Faction.md#bundled-basis-fraktionen](../domain/Faction.md#bundled-basis-fraktionen) | presets/factions/base-factions.json |
| 1413 | üî∂ | Faction | Faction Events: create/update/delete-requested und Lifecycle-Events | mittel | Ja | #1400 | [Faction.md#events](../domain/Faction.md#events) | docs/architecture/Events-Catalog.md:717-764 (Events definiert, Orchestrator fehlt) |
| 1414 | üî∂ | Faction | Faction Territory Events: poi-claimed, poi-lost | niedrig | Nein | #1413 | [Faction.md#events](../domain/Faction.md#events) | docs/architecture/Events-Catalog.md:756-764 (Events definiert, Implementierung fehlt) |
| 1415 | ‚¨ú | Faction | Faction Library-View: CRUD-Interface f√ºr Faction-Bearbeitung | mittel | Ja | #1400, #1416, #2800 | [Faction.md](../domain/Faction.md) | [neu] src/application/library/faction-view.svelte |
| 1416 | ‚¨ú | Faction | Faction-Feature: FactionOrchestrator mit CRUD-Logik | mittel | Ja | #1400, #1413 | [Faction.md](../domain/Faction.md) | [neu] src/features/faction/orchestrator.ts, [neu] src/features/faction/index.ts:createFactionOrchestrator() |
| 1417 | ‚úÖ | Faction | Faction EntityRegistry Integration: 'faction' als Entity-Typ | hoch | Ja | #1400 | [EntityRegistry.md](EntityRegistry.md) | src/core/schemas/common.ts:46 (EntityType enum enth√§lt 'faction') |
| 1500 | ‚¨ú | Location/POI | BasePOI Interface mit gemeinsamen Eigenschaften (id, mapId, position, name, icon, visible) | hoch | Ja | - | [POI.md#basepoi](../domain/POI.md#basepoi) | [neu] src/core/schemas/poi.ts |
| 1501 | ‚¨ú | Location/POI | EntrancePOI Schema (linkedMapId, spawnPosition, description) | hoch | Ja | #1500 | [POI.md#entrancepoi](../domain/POI.md#entrancepoi) | [neu] src/core/schemas/poi.ts |
| 1502 | ‚¨ú | Location/POI | LandmarkPOI Schema (description, gmNotes) | hoch | Ja | #1500 | [POI.md#landmarkpoi](../domain/POI.md#landmarkpoi) | [neu] src/core/schemas/poi.ts |
| 1503 | ‚¨ú | Location/POI | POI Union Type (EntrancePOI \| TrapPOI \| TreasurePOI \| LandmarkPOI \| ObjectPOI) | hoch | Ja | #1500, #1501, #1502, #1504, #1505, #1506 | [POI.md#poi-union-type](../domain/POI.md#poi-union-type) | [neu] src/core/schemas/poi.ts |
| 1504 | ‚¨ú | Location/POI | TrapPOI Schema (dc, damage, triggered, detected, effect) | mittel | Nein | #1500 | [POI.md#trappoi](../domain/POI.md#trappoi) | [neu] src/core/schemas/poi.ts |
| 1505 | ‚¨ú | Location/POI | TreasurePOI Schema (items, locked, lockDC, looted, trapId) | mittel | Nein | #1500, #1504 | [POI.md#treasurepoi](../domain/POI.md#treasurepoi) | [neu] src/core/schemas/poi.ts |
| 1506 | ‚¨ú | Location/POI | ObjectPOI Schema (interactable, description) | niedrig | Nein | #1500 | [POI.md#objectpoi](../domain/POI.md#objectpoi) | [neu] src/core/schemas/poi.ts |
| 1507 | üî∂ | Location/POI | POI CRUD Events (create/update/delete-requested + created/updated/deleted) | hoch | Ja | #1503, #1516 | [POI.md#events](../domain/POI.md#events) | src/core/events/domain-events.ts:230-235,848-872 (Events definiert, Payloads nutzen `poi: unknown` statt typisiert POI Union Type) |
| 1508 | üî∂ | Location/POI | POI Interaction Events (trap-triggered, trap-detected, treasure-looted) | mittel | Nein | #1504, #1505, #1507, #1516 | [POI.md#events](../domain/POI.md#events) | src/core/events/domain-events.ts:236-238,874-887 (Events definiert, Payloads nutzen `string[]` statt `EntityId<'item'>[]` bzw. `string` statt `EntityId<'character'>`) |
| 1509 | ‚¨ú | Location/POI | POI Query Functions (getPOIsOnMap, getPOIsAtTile, getEntrancesOnMap, getHiddenTraps) | hoch | Ja | #1503, #1516 | [POI.md#queries](../domain/POI.md#queries) | [neu] src/features/poi/poi-queries.ts |
| 1510 | ‚¨ú | Location/POI | POI Feature/Orchestrator mit CRUD-Logik | hoch | Ja | #1503, #1507, #1516 | [POI.md](../domain/POI.md) | [neu] src/features/poi/orchestrator.ts, [neu] src/features/poi/index.ts:createPoiOrchestrator() |
| 1511 | üî∂ | Location/POI | Map-Navigation via EntrancePOI (map:navigate-requested Event) | hoch | Ja | #1501, #1507, #820 | [POI.md#map-navigation](../domain/POI.md#map-navigation) | src/core/events/domain-events.ts:141,515-518 (Event definiert mit sourcePOIId, aber nicht in map-service.ts implementiert) |
| 1512 | ‚¨ú | Location/POI | Tile Content Panel Integration: POIs des aktuellen Party-Tiles anzeigen | hoch | Ja | #1509, #1510, #1511 | [POI.md#tile-content-panel](../domain/POI.md#tile-content-panel) | [neu] src/application/session-runner/panels/TileContentPanel.ts |
| 1513 | ‚¨ú | Location/POI | POI Icon Rendering auf Map (Icon-Mapping nach POI-Typ) | hoch | Ja | #1503, #1509, #802 | [POI.md#map-darstellung](../domain/POI.md#map-darstellung) | [√§ndern] src/application/session-runner/panels/map-canvas.ts:renderTile() |
| 1514 | ‚¨ú | Location/POI | Height-Feld f√ºr POI-Fernsicht (Sichtbarkeit √ºber Tile-Grenze) | mittel | Nein | #1500, #851 | [POI.md#height-feld-post-mvp](../domain/POI.md#height-feld-post-mvp) | [neu] src/core/schemas/poi.ts |
| 1515 | ‚¨ú | Location/POI | glowsAtNight-Feld f√ºr nachtleuchtende POIs | mittel | Nein | #1500, #852 | [POI.md#nachtleuchtende-pois-glowsatnight-post-mvp](../domain/POI.md#nachtleuchtende-pois-glowsatnight-post-mvp) | [neu] src/core/schemas/poi.ts |
| 1516 | ‚úÖ | Location/POI | POI EntityRegistry Integration: 'location'/'poi' als Entity-Typ (bereits vorhanden) | hoch | Ja | - | [EntityRegistry.md](EntityRegistry.md) | src/core/types/common.ts:20-21, src/core/schemas/common.ts:49-50 |
| 1600 | ‚úÖ | Item | Item Schema mit allen Feldern (id, name, weight, category, tags, value, rarity, isRation, stackable, damage, armorClass, properties, description) | hoch | Ja | - | [Item.md#schema](../domain/Item.md#schema) | src/core/schemas/item.ts:66-126 |
| 1601 | ‚úÖ | Item | ItemCategory Type (weapon, armor, shield, consumable, gear, treasure, currency) | hoch | Ja | #1600 | [Item.md#schema](../domain/Item.md#schema) | src/core/schemas/item.ts:23-33 |
| 1602 | ‚úÖ | Item | Rarity Type (common, uncommon, rare, very_rare, legendary, artifact) | hoch | Ja | #1600 | [Item.md#schema](../domain/Item.md#schema) | src/core/schemas/item.ts:42-51 |
| 1603 | ‚úÖ | Item | InventorySlot Schema (itemId, quantity, equipped) | hoch | Ja | #1600 | [Item.md#verwendung-in-anderen-features](../domain/Item.md#verwendung-in-anderen-features) | src/core/schemas/item.ts:136-147 |
| 1604 | ‚úÖ | Item | Helper-Funktionen (isStackable, isCurrency, calculateTotalValue, calculateTotalWeight) | hoch | Ja | #1600 | [Item.md#schema](../domain/Item.md#schema) | src/core/schemas/item.ts:188-222 |
| 1605 | ‚úÖ | Item | EntityRegistry Integration: 'item' als Entity-Typ (bereits vorhanden) | hoch | Ja | #1600 | [Item.md](../domain/Item.md) | src/core/types/common.ts:18, src/core/types/common.ts:105 |
| 1606 | ‚¨ú | Item | Item CRUD Events (item:created, item:updated, item:deleted) | hoch | Ja | #1600 | [Item.md#events](../domain/Item.md#events) | src/core/events/domain-events.ts [√§ndern - EventTypes hinzuf√ºgen], src/core/events/domain-events.ts [√§ndern - Payload-Interfaces hinzuf√ºgen], src/core/events/domain-events.ts [√§ndern - EventPayloadMap erweitern] |
| 1607 | ‚¨ú | Item | Item Query Functions (getItemsByTags, getItemsByCategory, getItemsUpToRarity) | hoch | Ja | #1600, #1605 | [Item.md#queries](../domain/Item.md#queries) | src/features/item/item-queries.ts [neu], src/features/item/index.ts [neu - exports] |
| 1608 | ‚úÖ | Item | Standard D&D Currency Items als Preset (copper-piece, silver-piece, gold-piece, platinum-piece) | hoch | Ja | #1600 | [Item.md#currency-category-currency](../domain/Item.md#currency-category-currency) | presets/items/base-items.json:1-41 |
| 1609 | ‚¨ú | Item | Item Feature/Orchestrator mit CRUD-Logik | hoch | Ja | #1600, #1606 | [Item.md](../domain/Item.md) | src/features/item/orchestrator.ts [neu], src/features/item/types.ts [neu - ItemFeaturePort], src/features/item/item-service.ts [neu - Business-Logik], src/features/item/item-store.ts [neu - State Management], src/features/item/index.ts [neu - createItemOrchestrator factory] |
| 1700 | ‚úÖ | Terrain | TerrainDefinition Schema (id, name, movementCost, encounterModifier, nativeCreatures, weatherRanges, displayColor, icon, description, Transport-Einschraenkungen) - climateProfile in #1701 | hoch | Ja | - | [Terrain.md#schema](../domain/Terrain.md#schema) | src/core/schemas/terrain.ts:terrainDefinitionSchema (Zeile 21-106), presets/terrains/base-terrains.json, src/infrastructure/vault/terrain-registry.ts:DEFAULT_TERRAINS |
| 1701 | ‚¨ú | Terrain | ClimateProfile Schema (temperatureModifier, humidityModifier, windExposure) | hoch | Ja | #1700 | [Terrain.md#schema](../domain/Terrain.md#schema) | src/core/schemas/terrain.ts:climateProfileSchema [neu], src/core/schemas/terrain.ts:terrainDefinitionSchema [√§ndern - climateProfile Feld hinzuf√ºgen] |
| 1702 | ‚úÖ | Terrain | TerrainWeatherRanges und WeatherRange Schema (temperature, wind, precipitation mit min/average/max) | hoch | Ja | #1700 | [Terrain.md#schema](../domain/Terrain.md#schema) | src/core/schemas/weather.ts:terrainWeatherRangesSchema (Zeile 22-47), src/core/schemas/weather.ts:weatherRangeSchema |
| 1703 | ‚úÖ | Terrain | Default-Terrain Presets (road, plains, forest, hills, mountains, swamp, desert, water) | hoch | Ja | #1700, #1702 | [Terrain.md#default-terrains](../domain/Terrain.md#default-terrains) | presets/terrains/base-terrains.json, src/infrastructure/vault/terrain-registry.ts:DEFAULT_TERRAINS (Zeile 21-84) |
| 1704 | ‚¨ú | Terrain | Creature-Terrain Auto-Sync: onCreatureTerrainChanged Handler | hoch | Ja | #1700, #1706, #1202 | [Terrain.md#auto-sync-mechanismus](../domain/Terrain.md#auto-sync-mechanismus) | src/features/terrain/auto-sync.ts:onCreatureTerrainChanged() [neu], src/core/events/terrain.ts [neu - terrain:creature-sync-needed Event] |
| 1705 | ‚¨ú | Terrain | Creature-Terrain Auto-Sync: onTerrainNativeCreaturesChanged Handler | hoch | Ja | #1704, #1706 | [Terrain.md#auto-sync-mechanismus](../domain/Terrain.md#auto-sync-mechanismus) | src/features/terrain/auto-sync.ts:onTerrainNativeCreaturesChanged() [neu], src/core/events/terrain.ts [neu - terrain:native-creatures-changed Event] |
| 1706 | ‚¨ú | Terrain | Bidirektionale Konsistenz: creature.terrainAffinities ‚Üî terrain.nativeCreatures | hoch | Ja | #1700, #1701, #1704, #1705, #1202 | [Terrain.md#bidirektionale-beziehung](../domain/Terrain.md#bidirektionale-beziehung) | src/core/schemas/terrain.ts:terrainDefinitionSchema [√§ndern - nativeCreatures Feld hinzuf√ºgen], src/features/terrain/auto-sync.ts:syncCreatureToTerrain() [neu], src/features/terrain/auto-sync.ts:syncTerrainToCreature() [neu] |
| 1707 | üî∂ | Terrain | Custom Terrains: User-erstellte Terrain-Definitionen unterst√ºtzen | hoch | Ja | #1700, #1711 | [Terrain.md#custom-terrains-mvp](../domain/Terrain.md#custom-terrains-mvp) | src/infrastructure/vault/terrain-registry.ts:createTerrainRegistry() (Zeile 94-120) [√§ndern - User-Storage implementieren], src/features/terrain/orchestrator.ts:createTerrain() [neu], src/features/terrain/orchestrator.ts:updateTerrain() [neu] |
| 1708 | ‚úÖ | Terrain | EntityRegistry Integration: 'terrain' als Entity-Typ | hoch | Ja | - | [Terrain.md](../domain/Terrain.md) | src/core/types/common.ts:EntityType (Zeile 23), src/core/types/common.ts:TerrainId (Zeile 110) |
| 1709 | ‚¨ú | Terrain | Terrain CRUD Events (terrain:created, terrain:updated, terrain:deleted) | hoch | Ja | #1708, #1711 | [Terrain.md](../domain/Terrain.md) | src/core/events/terrain.ts [neu - EventCatalog Definitionen], docs/architecture/Events-Catalog.md [√§ndern - terrain:* Events hinzuf√ºgen] |
| 1710 | üî∂ | Terrain | Terrain Storage: Bundled Presets vs User Custom Terrains | hoch | Ja | #1700, #1703, #1711 | [Terrain.md#storage](../domain/Terrain.md#storage) | src/infrastructure/vault/terrain-registry.ts:createTerrainRegistry() (Zeile 94-120) [√§ndern - User-Ordner Vault/SaltMarcher/data/terrain/user/ implementieren], src/infrastructure/vault/terrain-storage.ts:saveUserTerrain() [neu], src/infrastructure/vault/terrain-storage.ts:loadUserTerrains() [neu] |
| 1711 | ‚¨ú | Terrain | Terrain Feature/Orchestrator mit CRUD-Logik | hoch | Ja | #1700, #1709, #1710 | [Terrain.md](../domain/Terrain.md) | src/features/terrain/orchestrator.ts:createTerrainOrchestrator() [neu], src/features/terrain/types.ts:TerrainFeaturePort [neu], src/features/terrain/terrain-service.ts [neu], src/features/terrain/terrain-store.ts [neu], src/features/terrain/index.ts [neu - exports] |
| 1712 | ‚úÖ | Terrain | movementCost Integration in Travel-System | hoch | Ja | #1700 | [Terrain.md#verwendung-in-anderen-features](../domain/Terrain.md#verwendung-in-anderen-features) | src/features/travel/travel-service.ts:getMovementCost() (Zeile 613, 615, 756, 760), src/features/map/map-service.ts:getTerrainMovementCost() (Zeile 225-234) |
| 1713 | ‚úÖ | Terrain | weatherRanges Integration in Weather-System | hoch | Ja | #1702 | [Terrain.md#verwendung-in-anderen-features](../domain/Terrain.md#verwendung-in-anderen-features) | src/features/weather/weather-service.ts:getTileWeatherRanges() (Zeile 77-82), src/features/weather/weather-utils.ts:generateFromRange() (Zeile 182, 220) |
| 1714 | üî∂ | Terrain | nativeCreatures Integration in Encounter-System | hoch | Ja | #1706 | [Terrain.md#verwendung-in-anderen-features](../domain/Terrain.md#verwendung-in-anderen-features) | src/features/encounter/encounter-utils.ts:filterEligibleCreatures() (Zeile 52-54) [√§ndern - terrain.nativeCreatures nutzen statt nur creature.terrainAffinities], src/features/encounter/encounter-utils.ts:getEligibleCreaturesFromTerrain() [neu] |
| 1715 | ‚¨ú | Terrain | Terrain Icons f√ºr visuelle Darstellung | niedrig | Nein | #1700 | [Terrain.md#prioritaet](../domain/Terrain.md#prioritaet) | src/core/schemas/terrain.ts:terrainDefinitionSchema [√§ndern - icon Feld bereits vorhanden, nur UI fehlt] (Post-MVP) |
| 1800 | ‚¨ú | Path | PathDefinition Schema (id, mapId, pathType, name, waypoints, movement, encounterModifier, displayStyle) | hoch | Nein | - | [Path.md#schema](../domain/Path.md#schema) | src/core/schemas/path.ts:pathDefinitionSchema [neu], src/core/schemas/path.ts:PathDefinition [neu] |
| 1801 | ‚¨ú | Path | PathType Enum (road, river, ravine, cliff, trail) | hoch | Nein | #1800 | [Path.md#schema](../domain/Path.md#schema) | src/core/schemas/path.ts:pathTypeSchema [neu], src/core/schemas/path.ts:PathType [neu] |
| 1802 | ‚¨ú | Path | PathMovement Schema (defaultModifier, transportModifiers, blocksMovement, requiresTransport) | hoch | Nein | #1800 | [Path.md#pathmovement](../domain/Path.md#pathmovement) | src/core/schemas/path.ts:pathMovementSchema [neu], src/core/schemas/path.ts:PathMovement [neu] |
| 1803 | ‚¨ú | Path | PathEncounterModifier Schema (creaturePool, chanceModifier) | hoch | Nein | #1800 | [Path.md#pathencountermodifier](../domain/Path.md#pathencountermodifier) | src/core/schemas/path.ts:pathEncounterModifierSchema [neu], src/core/schemas/path.ts:PathEncounterModifier [neu] |
| 1804 | ‚¨ú | Path | PathDisplayStyle Schema (color, width, pattern, icon) | hoch | Nein | #1800 | [Path.md#pathdisplaystyle](../domain/Path.md#pathdisplaystyle) | src/core/schemas/path.ts:pathDisplayStyleSchema [neu], src/core/schemas/path.ts:PathDisplayStyle [neu] |
| 1805 | ‚¨ú | Path | TilePathInfo Schema (pathId, connections) | hoch | Nein | #1800 | [Path.md#tilepathinfo](../domain/Path.md#tilepathinfo) | src/core/schemas/path.ts:tilePathInfoSchema [neu], src/core/schemas/path.ts:TilePathInfo [neu] |
| 1806 | ‚¨ú | Path | PathDirectionality Schema (enabled, forwardSpeedModifier, backwardSpeedModifier) Post-MVP | niedrig | Nein | #1800 | [Path.md#pathdirectionality-post-mvp](../domain/Path.md#pathdirectionality-post-mvp) | src/core/schemas/path.ts:pathDirectionalitySchema [neu], src/core/schemas/path.ts:PathDirectionality [neu] |
| 1807 | ‚¨ú | Path | PathEnvironmentModifier Schema (lightingOverride, weatherModifier) Post-MVP | niedrig | Nein | #1800 | [Path.md#pathenvironmentmodifier-post-mvp](../domain/Path.md#pathenvironmentmodifier-post-mvp) | src/core/schemas/path.ts:pathEnvironmentModifierSchema [neu], src/core/schemas/path.ts:PathEnvironmentModifier [neu] |
| 1808 | ‚¨ú | Path | Default-Presets f√ºr 5 PathTypes (road, trail, river, ravine, cliff) | hoch | Nein | #1800, #1801 | [Path.md#default-presets](../domain/Path.md#default-presets) | presets/paths/base-paths.json [neu] |
| 1809 | ‚¨ú | Path | Bidirektionale Tile-Synchronisation: onPathWaypointsChanged Handler | hoch | Nein | #1800, #1805, #1810, #1820 | [Path.md#bidirektionale-tile-synchronisation](../domain/Path.md#bidirektionale-tile-synchronisation) | src/features/path/path-tile-sync.ts:onPathWaypointsChanged() [neu], src/features/path/path-tile-sync.ts:syncTilePaths() [neu] |
| 1810 | ‚¨ú | Path | OverworldTile.paths[] Integration (TilePathInfo Array im Tile Schema) | hoch | Nein | #1805 | [Path.md#beziehung](../domain/Path.md#beziehung) | src/core/schemas/map.ts:overworldTileSchema [√§ndern - paths Feld hinzuf√ºgen] |
| 1811 | ‚¨ú | Path | calculatePathModifier Funktion f√ºr Travel-System | hoch | Nein | #1802, #1810, #1817, #1820 | [Path.md#travel-system](../domain/Path.md#travel-system) | src/features/travel/path-utils.ts:calculatePathModifier() [neu] |
| 1812 | ‚¨ú | Path | PATH_BLOCKED und TRANSPORT_REQUIRED Error-Codes f√ºr Barrieren | hoch | Nein | #1811 | [Path.md#travel-system](../domain/Path.md#travel-system) | src/core/types/common.ts:createError() [bereits vorhanden], Error-Codes als Konstanten dokumentieren |
| 1813 | ‚¨ú | Path | Travel Speed-Formel mit Pfad-Multiplikator erweitern | hoch | Nein | #1811 | [Path.md#travel-system](../domain/Path.md#travel-system) | src/features/travel/travel-service.ts:calculateSegmentTime() [√§ndern - Path-Multiplikator integrieren] |
| 1814 | ‚¨ú | Path | getEligibleCreatures mit Path-Creature-Pool Integration | hoch | Nein | #1803, #1810, #1817, #1820 | [Path.md#encounter-system](../domain/Path.md#encounter-system) | src/features/encounter/encounter-utils.ts:filterEligibleCreatures() [√§ndern - Path-Creatures hinzuf√ºgen] |
| 1815 | ‚¨ú | Path | Path CRUD Events (create/update/delete-requested + created/updated/deleted) | hoch | Nein | #1800 | [Path.md#events](../domain/Path.md#events) | src/core/events/domain-events.ts:EventTypes [√§ndern - PATH_* Events hinzuf√ºgen], src/core/events/domain-events.ts:PathEventPayloads [neu] |
| 1816 | ‚¨ú | Path | path:state-changed Event f√ºr Map-Sync | hoch | Nein | #1815 | [Path.md#events](../domain/Path.md#events) | src/core/events/domain-events.ts:EventTypes.PATH_STATE_CHANGED [neu], src/core/events/domain-events.ts:PathStateChangedPayload [neu] |
| 1817 | ‚¨ú | Path | getPathsOnMap Query-Funktion | hoch | Nein | #1800, #1820, #1821 | [Path.md#queries](../domain/Path.md#queries) | src/features/path/path-queries.ts:getPathsOnMap() [neu] |
| 1818 | ‚¨ú | Path | getPathsAtTile Query-Funktion | hoch | Nein | #1800, #1810, #1820, #1821 | [Path.md#queries](../domain/Path.md#queries) | src/features/path/path-queries.ts:getPathsAtTile() [neu] |
| 1819 | ‚¨ú | Path | getPathBetween Query-Funktion (findet Pfad zwischen zwei Tiles) | hoch | Nein | #1818, #1820, #1821 | [Path.md#queries](../domain/Path.md#queries) | src/features/path/path-queries.ts:getPathBetween() [neu] |
| 1820 | ‚¨ú | Path | Path Feature/Orchestrator mit CRUD-Logik | hoch | Nein | #1800, #1815, #1821 | [Path.md](../domain/Path.md) | src/features/path/orchestrator.ts:createPathOrchestrator() [neu], src/features/path/path-service.ts [neu], src/features/path/path-store.ts [neu], src/features/path/types.ts:PathFeaturePort [neu], src/features/path/index.ts [neu - exports] |
| 1821 | ‚¨ú | Path | Path EntityRegistry Integration: 'path' als Entity-Typ | hoch | Nein | #1800 | [Path.md](../domain/Path.md) | src/core/schemas/common.ts:entityTypeSchema [√§ndern - 'path' hinzuf√ºgen], src/core/types/common.ts:EntityType [√§ndern - 'path' hinzuf√ºgen], src/core/types/common.ts:PathId [neu] |
| 1822 | ‚¨ú | Path | Cartographer Path-Tool: UI zum Zeichnen von Pfaden auf Map | mittel | Nein | #1800, #1820, #1821 | [Path.md](../domain/Path.md) | src/application/cartographer/tools/PathTool.svelte [neu] |
| 1823 | ‚¨ú | Path | Cartographer: Path-Properties Panel f√ºr Pfad-Bearbeitung | mittel | Nein | #1822, #1820, #1821 | [Path.md](../domain/Path.md) | src/application/cartographer/panels/PathPropertiesPanel.svelte [neu] |
| 1900 | ‚¨ú | Map-Navigation | Map-Navigation Event Handler: map:navigate-requested verarbeiten | hoch | Ja | #1511, #1 | [Map-Navigation.md#navigation-events](../domain/Map-Navigation.md#navigation-events) | src/features/map/map-navigation.ts:handleNavigateRequested() [neu], src/features/map/map-service.ts:setupEventHandlers() [√§ndern], src/core/events/domain-events.ts:141 (Event existiert) |
| 1901 | ‚¨ú | Map-Navigation | Map-Navigation: Travel-State Validierung (nur m√∂glich wenn idle/planning) | hoch | Ja | #1900, #1 | [Map-Navigation.md#travel-state-bei-map-wechsel](../domain/Map-Navigation.md#travel-state-bei-map-wechsel) | src/features/map/map-navigation.ts:validateTravelState() [neu], src/features/travel/types.ts:TravelStatus |
| 1902 | ‚¨ú | Map-Navigation | Spawn-Position Logik: spawnPosition, bidirektionaler Link oder defaultSpawnPoint | hoch | Ja | #1900, #1501, #801 | [Map-Navigation.md#spawn-position-bestimmung](../domain/Map-Navigation.md#spawn-position-bestimmung) | src/features/map/map-navigation.ts:determineSpawnPosition() [neu], src/core/schemas/poi.ts:EntrancePOI [neu], src/core/schemas/map.ts:OverworldMap.defaultSpawnPoint |
| 1903 | ‚¨ú | Map-Navigation | Map-Navigation: Mehrere Eing√§nge - GM w√§hlt aus Liste im Navigation-Dialog | mittel | Nein | #1902, #1512, #1509 | [Map-Navigation.md#spawn-position-bestimmung](../domain/Map-Navigation.md#spawn-position-bestimmung) | src/application/session-runner/panels/NavigationDialog.svelte [neu], src/features/map/map-navigation.ts:getEntrancesForMap() [neu] |
| 1904 | ‚¨ú | Map-Navigation | Journal-Entry automatisch erstellen bei Map-Navigation (arrival event) | hoch | Ja | #1900, #2207, #2200 | [Map-Navigation.md#journal-entries-fuer-tracking](../domain/Map-Navigation.md#journal-entries-fuer-tracking) | src/features/map/map-navigation.ts:createArrivalJournalEntry() [neu], src/core/events/domain-events.ts:worldevents:journal-added |
| 1905 | ‚¨ú | Map-Navigation | map:navigated Event publizieren nach erfolgreicher Navigation | hoch | Ja | #1900 | [Map-Navigation.md#navigation-events](../domain/Map-Navigation.md#navigation-events) | src/features/map/map-navigation.ts:publishNavigated() [neu], src/core/events/domain-events.ts:147 (Event existiert) |
| 1906 | ‚¨ú | Map-Navigation | Betreten-Button UI-Validierung: disabled mit Tooltip wenn Travel aktiv | hoch | Ja | #1901, #1512 | [Map-Navigation.md#travel-state-bei-map-wechsel](../domain/Map-Navigation.md#travel-state-bei-map-wechsel) | src/application/session-runner/panels/TileContentPanel.ts [neu], src/application/session-runner/panels/TileContentPanel.svelte [neu] |
| 1907 | ‚¨ú | Map-Navigation | Exit-POI Handling: Party navigiert zu Exit-Tile und verl√§sst Map | hoch | Ja | #1900, #1501 | [Map-Navigation.md#navigation-via-exit-poi](../domain/Map-Navigation.md#navigation-via-exit-poi) | src/features/map/map-navigation.ts:handleNavigateRequested() [√§ndern - Exit-POI support] |
| 1908 | ‚¨ú | Map-Navigation | Bidirektionale Links: Beide EntrancePOIs verweisen aufeinander via linkedMapId + spawnPosition | hoch | Ja | #1501, #1510 | [Map-Navigation.md#bidirektionale-links](../domain/Map-Navigation.md#bidirektionale-links) | src/core/schemas/poi.ts:EntrancePOI.linkedMapId+spawnPosition [neu] |
| 2100 | ‚¨ú | Shop | ShopDefinition Schema (id, name, type, locationId, inventory, priceModifier, sellModifier, description, gmNotes) | mittel | Nein | #1600 | [Shop.md#schema](../domain/Shop.md#schema) | [neu] src/core/schemas/shop.ts |
| 2101 | ‚¨ú | Shop | ShopType Enum (general, blacksmith, alchemist, magic, tavern, stable, custom) | mittel | Nein | #2100 | [Shop.md#schema](../domain/Shop.md#schema) | [neu] src/core/schemas/shop.ts |
| 2102 | ‚¨ú | Shop | ShopInventoryEntry Schema (itemId, price, quantity, available) | mittel | Nein | #2100, #1600 | [Shop.md#shopinventoryentry](../domain/Shop.md#shopinventoryentry) | [neu] src/core/schemas/shop.ts |
| 2103 | üî∂ | Shop | Currency Type (cp, sp, ep, gp, pp) | mittel | Nein | #2102, #1600 | [Shop.md#shopinventoryentry](../domain/Shop.md#shopinventoryentry) | src/core/schemas/item.ts:CurrencyId (existiert als 'copper-piece' etc., nicht als 'cp' etc.) |
| 2104 | ‚úÖ | Shop | Shop EntityRegistry Integration: 'shop' als Entity-Typ | mittel | Nein | - | [Shop.md](../domain/Shop.md) | src/core/schemas/common.ts:entityTypeSchema (Zeile 55) |
| 2105 | ‚¨ú | Shop | Shop CRUD Events (shop:created, shop:updated, shop:deleted) | mittel | Nein | #2100, #2104 | [Shop.md#events](../domain/Shop.md#events) | [neu] src/core/events/domain-events.ts |
| 2106 | ‚¨ú | Shop | Shop Interaction Events (shop:opened, shop:item-purchased, shop:item-sold, shop:closed) | mittel | Nein | #2105 | [Shop.md#events](../domain/Shop.md#events) | [neu] src/core/events/domain-events.ts |
| 2107 | ‚¨ú | Shop | getShop Query-Funktion (l√§dt Shop nach ID) | mittel | Nein | #2100, #2104 | [Shop.md#queries](../domain/Shop.md#queries) | [neu] src/features/shop/shop-queries.ts |
| 2108 | ‚¨ú | Shop | getShopsByLocation Query-Funktion | mittel | Nein | #2100, #2104 | [Shop.md#queries](../domain/Shop.md#queries) | [neu] src/features/shop/shop-queries.ts |
| 2109 | ‚¨ú | Shop | getShopsByType Query-Funktion | mittel | Nein | #2100, #2104 | [Shop.md#queries](../domain/Shop.md#queries) | [neu] src/features/shop/shop-queries.ts |
| 2110 | ‚¨ú | Shop | getShopInventory Query-Funktion mit aufgel√∂sten Items (ResolvedInventoryEntry) | mittel | Nein | #2107, #1600 | [Shop.md#queries](../domain/Shop.md#queries) | [neu] src/features/shop/shop-queries.ts:getShopInventory() |
| 2111 | ‚¨ú | Shop | calculateBuyPrice Funktion (Entry-Preis oder Item-Base-Preis + Shop-Modifikator) | mittel | Nein | #2102, #1600 | [Shop.md#preis-berechnung](../domain/Shop.md#preis-berechnung) | [neu] src/features/shop/shop-pricing.ts:calculateBuyPrice() |
| 2112 | ‚¨ú | Shop | calculateSellPrice Funktion (Item-Base-Preis * sellModifier, default 0.5) | mittel | Nein | #2111, #1600 | [Shop.md#preis-berechnung](../domain/Shop.md#preis-berechnung) | [neu] src/features/shop/shop-pricing.ts:calculateSellPrice() |
| 2113 | ‚¨ú | Shop | Shop Feature/Orchestrator mit CRUD-Logik | mittel | Nein | #2100, #2105, #2107 | [Shop.md](../domain/Shop.md) | [neu] src/features/shop/orchestrator.ts:createShopOrchestrator(), [neu] src/features/shop/shop-service.ts, [neu] src/features/shop/shop-store.ts, [neu] src/features/shop/types.ts, [neu] src/features/shop/index.ts |
| 2114 | ‚¨ú | Shop | Shop-Panel UI im SessionRunner (Inventar durchsuchen, filtern) | mittel | Nein | #2113, #2110, #2106 | [Shop.md#verwendung](../domain/Shop.md#verwendung) | [neu] src/application/session-runner/panels/ShopPanel.svelte |
| 2115 | ‚¨ú | Shop | Kauf-Funktion: Items kaufen, Party-Gold abziehen, shop:item-purchased Event | mittel | Nein | #2114, #2111, #612, #615 | [Shop.md#verwendung](../domain/Shop.md#verwendung) | [neu] src/application/session-runner/panels/ShopPanel.svelte:handleBuyItem(), src/features/shop/shop-service.ts:purchaseItem() [neu] |
| 2116 | ‚¨ú | Shop | Verkauf-Funktion: Items verkaufen, Party-Gold erh√∂hen, shop:item-sold Event | mittel | Nein | #2114, #2112, #613, #614 | [Shop.md#verwendung](../domain/Shop.md#verwendung) | [neu] src/application/session-runner/panels/ShopPanel.svelte:handleSellItem(), src/features/shop/shop-service.ts:sellItem() [neu] |
| 2117 | ‚¨ú | Shop | GM-Verf√ºgbarkeits-Anpassung UI (quantity und available togglen) | niedrig | Nein | #2114, #2113 | [Shop.md#verwendung](../domain/Shop.md#verwendung) | [neu] src/application/session-runner/panels/ShopPanel.svelte:toggleAvailability() |
| 2118 | ‚¨ú | Shop | Library CRUD UI: Shop erstellen, bearbeiten, l√∂schen | mittel | Nein | #2113 | [Shop.md#verwendung](../domain/Shop.md#verwendung) | [neu] src/application/library/views/ShopView.svelte |
| 2119 | ‚¨ú | Shop | Library Shop-Inventar Editor: Items aus Library w√§hlen, Preise festlegen | mittel | Nein | #2118, #1600 | [Shop.md#verwendung](../domain/Shop.md#verwendung) | [neu] src/application/library/views/ShopView.svelte:InventoryEditor |
| 2120 | ‚¨ú | Shop | Location-Zuordnung UI in Library (optional) | niedrig | Nein | #2118, #1516 | [Shop.md#verwendung](../domain/Shop.md#verwendung) | [neu] src/application/library/views/ShopView.svelte:LocationSelector |
| 2121 | ‚¨ú | Shop | Dynamisches Restock-System (restockDays, restockQuantity) Post-MVP | niedrig | Nein | #2102 | [Shop.md#shopinventoryentry](../domain/Shop.md#shopinventoryentry) | [neu] src/core/schemas/shop.ts:ShopInventoryEntry.restockDays, [neu] src/features/shop/restock-service.ts |
| 2122 | ‚¨ú | Shop | NPC-H√§ndler Integration (Character als Shop-Betreiber) Post-MVP | niedrig | Nein | #2100, #2001 | [Shop.md#prioritaet](../domain/Shop.md#prioritaet) | [neu] src/core/schemas/shop.ts:ShopDefinition.npcOwnerId |
| 2200 | ‚úÖ | Journal | JournalEntry Schema implementieren (id, timestamp, category, source, content, relatedEntities) | hoch | Ja | #901 | [Journal.md#schema](../domain/Journal.md#schema) | src/core/schemas/journal.ts:journalEntrySchema, src/core/schemas/index.ts |
| 2201 | ‚úÖ | Journal | JournalCategory Enum (quest, encounter, travel, discovery, worldevent, session, note) | hoch | Ja | #2200 | [Journal.md#schema](../domain/Journal.md#schema) | src/core/schemas/journal.ts:journalCategorySchema |
| 2202 | ‚úÖ | Journal | JournalSource Enum (auto, gm, player) | hoch | Ja | #2200 | [Journal.md#schema](../domain/Journal.md#schema) | src/core/schemas/journal.ts:journalSourceSchema |
| 2203 | ‚úÖ | Journal | JournalEntityRef Schema (entityType, entityId, displayName) | hoch | Ja | #2200 | [Journal.md#schema](../domain/Journal.md#schema) | src/core/schemas/journal.ts:journalEntityRefSchema |
| 2204 | ‚¨ú | Journal | Session Schema (id, name, startTime, endTime, summary, stats) | mittel | Nein | #902 | [Journal.md#session-management](../domain/Journal.md#session-management) | [neu] src/core/schemas/journal.ts:Session, [neu] src/core/schemas/journal.ts:SessionStats |
| 2205 | ‚¨ú | Journal | Auto-Generierung: Quest-Events zu Journal-Eintr√§gen (discovered, activated, completed, failed) | hoch | Ja | #2200, #2201, #2209, #907 | [Journal.md#auto-generierung](../domain/Journal.md#auto-generierung) | [neu] src/features/journal/auto-generator.ts:handleQuestEvents(), src/features/journal/templates.ts:QuestEventTemplate [neu] |
| 2206 | ‚¨ú | Journal | Auto-Generierung: Encounter-Events zu Journal-Eintr√§gen (started, resolved) | hoch | Ja | #2200, #2201, #2209, #907 | [Journal.md#auto-generierung](../domain/Journal.md#auto-generierung) | [neu] src/features/journal/auto-generator.ts:handleEncounterEvents(), src/features/journal/templates.ts:EncounterEventTemplate [neu] |
| 2207 | ‚¨ú | Journal | Auto-Generierung: Travel-Events zu Journal-Eintr√§gen (completed, departed) | mittel | Nein | #2200, #2201, #2209, #907 | [Journal.md#auto-generierung](../domain/Journal.md#auto-generierung) | [neu] src/features/journal/auto-generator.ts:handleTravelEvents(), src/features/journal/templates.ts:TravelEventTemplate [neu] |
| 2208 | ‚¨ú | Journal | Auto-Generierung: WorldEvent-Events zu Journal-Eintr√§gen (weather-changed, faction-poi-claimed) | niedrig | Nein | #2200, #2201, #2209, #907 | [Journal.md#auto-generierung](../domain/Journal.md#auto-generierung) | [neu] src/features/journal/auto-generator.ts:handleWorldEvents(), src/features/journal/templates.ts:WorldEventTemplate [neu] |
| 2209 | ‚¨ú | Journal | Event-zu-Journal Mapping Tabelle implementieren (getJournalTemplate) | hoch | Ja | #2200, #2201 | [Journal.md#event-zu-journal-mapping](../domain/Journal.md#event-zu-journal-mapping) | [neu] src/features/journal/auto-generator.ts:getJournalTemplate(), src/features/journal/templates.ts:JournalTemplate [neu] |
| 2210 | ‚¨ú | Journal | JournalSettings Schema (autoLog-Optionen, encounterDetailLevel) | niedrig | Nein | #2200 | [Journal.md#konfigurations-optionen](../domain/Journal.md#konfigurations-optionen) | [neu] src/core/schemas/journal.ts:JournalSettings, [neu] src/core/schemas/journal.ts:AutoLogSettings |
| 2211 | ‚¨ú | Journal | encounterDetailLevel Konfiguration (minimal, standard, detailed) | niedrig | Nein | #2210 | [Journal.md#konfigurations-optionen](../domain/Journal.md#konfigurations-optionen) | [neu] src/features/journal/auto-generator.ts:formatEncounterDetails() |
| 2212 | ‚¨ú | Journal | Manuelle Notizen: GM Quick-Note Funktion | hoch | Ja | #2200, #2228 | [Journal.md#prioritaet](../domain/Journal.md#prioritaet) | [neu] src/features/journal/orchestrator.ts:createQuickNote() |
| 2213 | ‚¨ú | Journal | Entity-Linking: Clickable References in Journal-Eintr√§gen | hoch | Ja | #2203, #2226 | [Journal.md#prioritaet](../domain/Journal.md#prioritaet) | [neu] src/application/session-runner/panels/JournalPanel.svelte:EntityLink (Component), [neu] src/application/session-runner/panels/JournalPanel.svelte:handleEntityClick() |
| 2214 | ‚¨ú | Journal | Session-Management: Session starten/beenden Workflow | mittel | Nein | #2204, #2228 | [Journal.md#session-workflow](../domain/Journal.md#session-workflow) | [neu] src/features/journal/orchestrator.ts:startSession(), [neu] src/features/journal/orchestrator.ts:endSession() |
| 2215 | ‚¨ú | Journal | Session Stats Tracking (encountersCompleted, questsProgressed, distanceTraveled, inGameTimeElapsed) | mittel | Nein | #2204, #2214 | [Journal.md#session-management](../domain/Journal.md#session-management) | [neu] src/features/journal/orchestrator.ts:updateSessionStats(), src/features/journal/types.ts:SessionState [neu] |
| 2216 | ‚¨ú | Journal | journal:entry-created Event publizieren | hoch | Ja | #2200, #2228 | [Journal.md#events](../domain/Journal.md#events) | [neu] src/core/events/domain-events.ts:JOURNAL_ENTRY_CREATED, [neu] src/core/events/domain-events.ts:JournalEntryCreatedPayload, src/features/journal/orchestrator.ts:publishEntryCreated() [neu] |
| 2217 | ‚¨ú | Journal | journal:entry-updated Event publizieren | hoch | Ja | #2200, #2228 | [Journal.md#events](../domain/Journal.md#events) | [neu] src/core/events/domain-events.ts:JOURNAL_ENTRY_UPDATED, [neu] src/core/events/domain-events.ts:JournalEntryUpdatedPayload, src/features/journal/orchestrator.ts:publishEntryUpdated() [neu] |
| 2218 | ‚¨ú | Journal | journal:entry-deleted Event publizieren | hoch | Ja | #2200, #2228 | [Journal.md#events](../domain/Journal.md#events) | [neu] src/core/events/domain-events.ts:JOURNAL_ENTRY_DELETED, [neu] src/core/events/domain-events.ts:JournalEntryDeletedPayload, src/features/journal/orchestrator.ts:publishEntryDeleted() [neu] |
| 2219 | ‚¨ú | Journal | journal:session-started Event publizieren | mittel | Nein | #2214 | [Journal.md#events](../domain/Journal.md#events) | [neu] src/core/events/domain-events.ts:JOURNAL_SESSION_STARTED, [neu] src/core/events/domain-events.ts:JournalSessionStartedPayload, src/features/journal/orchestrator.ts:publishSessionStarted() [neu] |
| 2220 | ‚¨ú | Journal | journal:session-ended Event publizieren | mittel | Nein | #2214 | [Journal.md#events](../domain/Journal.md#events) | [neu] src/core/events/domain-events.ts:JOURNAL_SESSION_ENDED, [neu] src/core/events/domain-events.ts:JournalSessionEndedPayload, src/features/journal/orchestrator.ts:publishSessionEnded() [neu] |
| 2221 | ‚¨ú | Journal | Query: getEntriesBySession(sessionId) | hoch | Ja | #2200, #2228 | [Journal.md#queries](../domain/Journal.md#queries) | [neu] src/features/journal/queries.ts:getEntriesBySession() |
| 2222 | ‚¨ú | Journal | Query: getEntriesByCategory(category) | hoch | Ja | #2200, #2201, #2228 | [Journal.md#queries](../domain/Journal.md#queries) | [neu] src/features/journal/queries.ts:getEntriesByCategory() |
| 2223 | ‚¨ú | Journal | Query: getEntriesForEntity(entityType, entityId) | hoch | Ja | #2200, #2203, #2228 | [Journal.md#queries](../domain/Journal.md#queries) | [neu] src/features/journal/queries.ts:getEntriesForEntity() |
| 2224 | ‚¨ú | Journal | Query: getEntriesInRange(from, to) - Zeitraum-basierte Abfrage | hoch | Ja | #2200, #901, #2228 | [Journal.md#queries](../domain/Journal.md#queries) | [neu] src/features/journal/queries.ts:getEntriesInRange() |
| 2225 | ‚¨ú | Journal | Query: getPinnedEntries() | mittel | Nein | #2200, #2228 | [Journal.md#queries](../domain/Journal.md#queries) | [neu] src/features/journal/queries.ts:getPinnedEntries() |
| 2226 | ‚¨ú | Journal | Journal-Panel UI im SessionRunner (Quick Note Button, filterbare Liste) | hoch | Ja | #2212, #2213, #2221, #2222, #2223, #2224, #2225, #2228 | [Journal.md#sessionrunner](../domain/Journal.md#sessionrunner) | [neu] src/application/session-runner/panels/JournalPanel.svelte, [neu] src/application/session-runner/panels/JournalPanel.svelte:QuickNoteButton, [neu] src/application/session-runner/panels/JournalPanel.svelte:EntryList |
| 2227 | ‚¨ú | Journal | Timeline-View in Almanac (chronologische Ansicht, Filter nach Kategorie/Tags) | mittel | Nein | #2221, #2222, #2223, #2224, #2225 | [Journal.md#almanac](../domain/Journal.md#almanac) | [neu] src/application/almanac/views/TimelineView.svelte, [neu] src/application/almanac/almanac-viewmodel.ts [√§ndern] |
| 2228 | ‚¨ú | Journal | Journal Feature/Orchestrator mit CRUD-Logik | hoch | Ja | #2200, #2201, #2202, #2203, #2216, #2217, #2218 | [Journal.md](../domain/Journal.md) | [neu] src/features/journal/orchestrator.ts:createJournalOrchestrator(), [neu] src/features/journal/types.ts:JournalFeaturePort, [neu] src/features/journal/storage.ts:JournalStoragePort [neu], [neu] src/features/journal/index.ts |
| 2300 | ‚úÖ | Application/SessionRunner | SessionRunner View Component (Hauptcontainer) | hoch | Ja | - | [SessionRunner.md#uebersicht](../application/SessionRunner.md#uebersicht) | src/application/session-runner/view.ts:SessionRunnerView, view.ts:createSessionRunnerViewFactory() |
| 2301 | ‚úÖ | Application/SessionRunner | SessionRunner ViewModel mit State-Management | hoch | Ja | #2300 | [SessionRunner.md#viewmodel-state](../application/SessionRunner.md#viewmodel-state) | src/application/session-runner/viewmodel.ts:createSessionRunnerViewModel(), viewmodel.ts:SessionRunnerViewModel, types.ts:RenderState |
| 2302 | ‚úÖ | Application/SessionRunner | Header Component (Zeit, Weather, Time-Advance Controls) | hoch | Ja | #2300 | [SessionRunner.md#header](../application/SessionRunner.md#header) | src/application/session-runner/panels/header.ts:createHeaderPanel(), types.ts:HeaderState |
| 2303 | ‚úÖ | Application/SessionRunner | Quick-Controls Sidebar Container | hoch | Ja | #2300 | [SessionRunner.md#quick-controls-sidebar-links](../application/SessionRunner.md#quick-controls-sidebar-links) | src/application/session-runner/panels/sidebar.ts:createSidebarPanel(), types.ts:SidebarState |
| 2304 | ‚úÖ | Application/SessionRunner | Travel Section Component (Status, Speed, Plan/Start/Pause) | hoch | Ja | #2303, #1 | [SessionRunner.md#travel-sektion](../application/SessionRunner.md#travel-sektion) | src/application/session-runner/panels/sidebar.ts:updateTravelSection(), types.ts:TravelSectionState |
| 2305 | ‚úÖ | Application/SessionRunner | Travel Animation Display (Progress Bar, ETA) | hoch | Ja | #2304, #8 | [SessionRunner.md#travel-sektion](../application/SessionRunner.md#travel-sektion) | src/application/session-runner/panels/sidebar.ts:etaDisplay, map-canvas.ts:renderPartyToken(), types.ts:TokenAnimationState, types.ts:ETAInfo |
| 2306 | üî∂ | Application/SessionRunner | Audio Section Component (Track-Name, Play/Pause/Skip/Volume) | hoch | Ja | #2303, #1500 | [SessionRunner.md#audio-sektion](../application/SessionRunner.md#audio-sektion) | src/application/session-runner/panels/sidebar.ts:audioSection [√§ndern] |
| 2307 | üî∂ | Application/SessionRunner | Party Section Component (Party-Size, Health-Summary, Manage-Button) | hoch | Ja | #2303, #1100 | [SessionRunner.md#party-sektion](../application/SessionRunner.md#party-sektion) | src/application/session-runner/panels/sidebar.ts:partySection [√§ndern] |
| 2308 | üî∂ | Application/SessionRunner | Actions Section Component (nur Rest-Button, Encounter/Teleport entfernt) | hoch | Ja | #2303, #955 | [SessionRunner.md#actions-sektion](../application/SessionRunner.md#actions-sektion) | src/application/session-runner/panels/sidebar.ts:actionsSection [√§ndern], sidebar.ts:updateActionsSection() [√§ndern], types.ts:ActionsSectionState [√§ndern] |
| 2309 | ‚úÖ | Application/SessionRunner | Map Panel Component (Hauptansicht mit Hex-Grid und Party-Token) | hoch | Ja | #2300 | [SessionRunner.md#map-panel](../application/SessionRunner.md#map-panel) | src/application/session-runner/panels/map-canvas.ts:createMapCanvas(), map-canvas.ts:renderFrame() |
| 2310 | ‚¨ú | Application/SessionRunner | Map Overlays Controls (Weather, Territory, Factions, Visibility) | hoch | Ja | #2309, #1300, #1400 | [SessionRunner.md#map-panel](../application/SessionRunner.md#map-panel) | src/application/session-runner/panels/map-canvas.ts:renderFrame() [√§ndern], types.ts:RenderState [√§ndern - overlaySettings hinzuf√ºgen] |
| 2311 | ‚úÖ | Application/SessionRunner | Camera Controls (Pan mit MMB, Zoom mit Scroll) | hoch | Ja | #2309 | [SessionRunner.md#map-panel](../application/SessionRunner.md#map-panel) | src/application/session-runner/panels/map-canvas.ts:onMouseMove(), map-canvas.ts:onWheel(), viewmodel.ts:onPan(), viewmodel.ts:onZoom() |
| 2312 | ‚úÖ | Application/SessionRunner | Travel-Modus Interaktionen (Waypoint setzen/verschieben/l√∂schen) | hoch | Ja | #2309, #2 | [SessionRunner.md#map-panel](../application/SessionRunner.md#map-panel) | src/application/session-runner/viewmodel.ts:onTileClick(), viewmodel.ts:addWaypoint(), viewmodel.ts:clearWaypoints(), sidebar.ts:planBtn |
| 2313 | ‚úÖ | Application/SessionRunner | Route-Anzeige im Travel-Modus (Linie zwischen Waypoints) | hoch | Ja | #2312 | [SessionRunner.md#map-panel](../application/SessionRunner.md#map-panel) | src/application/session-runner/panels/map-canvas.ts:renderRoute(), map-canvas.ts:drawRouteLine(), map-canvas.ts:drawWaypointMarkers() |
| 2314 | ‚úÖ | Application/SessionRunner | Tile-Klick Handler (Location-Info in DetailView) | hoch | Ja | #2309 | [SessionRunner.md#map-panel](../application/SessionRunner.md#map-panel) | src/application/session-runner/viewmodel.ts:onTileClick(), types.ts:RenderState.selectedTile |
| 2315 | ‚úÖ | Application/SessionRunner | Event Subscriptions: travel:state-changed | hoch | Ja | #2301 | [SessionRunner.md#event-subscriptions](../application/SessionRunner.md#event-subscriptions) | src/application/session-runner/viewmodel.ts:setupEventHandlers() L443-475 |
| 2316 | ‚úÖ | Application/SessionRunner | Event Subscriptions: travel:position-changed | hoch | Ja | #2301 | [SessionRunner.md#event-subscriptions](../application/SessionRunner.md#event-subscriptions) | src/application/session-runner/viewmodel.ts:setupEventHandlers() L370-408 |
| 2317 | ‚úÖ | Application/SessionRunner | Event Subscriptions: time:state-changed | hoch | Ja | #2301 | [SessionRunner.md#event-subscriptions](../application/SessionRunner.md#event-subscriptions) | src/application/session-runner/viewmodel.ts:setupEventHandlers() L359-368 |
| 2318 | ‚úÖ | Application/SessionRunner | Event Subscriptions: weather:state-changed | hoch | Ja | #2301 | [SessionRunner.md#event-subscriptions](../application/SessionRunner.md#event-subscriptions) | src/application/session-runner/viewmodel.ts:setupEventHandlers() L410-419 |
| 2319 | ‚¨ú | Application/SessionRunner | Event Subscriptions: audio:track-changed | hoch | Ja | #2301, #1500 | [SessionRunner.md#event-subscriptions](../application/SessionRunner.md#event-subscriptions) | src/application/session-runner/viewmodel.ts:setupEventHandlers() [√§ndern - audio subscription hinzuf√ºgen] |
| 2320 | ‚úÖ | Application/SessionRunner | Event Subscriptions: map:loaded | hoch | Ja | #2301 | [SessionRunner.md#event-subscriptions](../application/SessionRunner.md#event-subscriptions) | src/application/session-runner/viewmodel.ts:setupEventHandlers() L316-324 |
| 2321 | ‚úÖ | Application/SessionRunner | Event Subscriptions: party:state-changed | hoch | Ja | #2301 | [SessionRunner.md#event-subscriptions](../application/SessionRunner.md#event-subscriptions) | src/application/session-runner/viewmodel.ts:setupEventHandlers() L347-356 |
| 2322 | üî∂ | Application/SessionRunner | Time-Advance Controls (‚èÆ -1h, ‚ñ∂ Play/Pause, ‚è≠ +1h) | hoch | Ja | #2302 | [SessionRunner.md#header](../application/SessionRunner.md#header) | src/application/session-runner/panels/header.ts:timePrevBtn, header.ts:timeNextBtn [√§ndern - Play/Pause Button hinzuf√ºgen] |
| 2323 | ‚¨ú | Application/SessionRunner | Jump-to-Date Dialog (Klick auf Zeit im Header) | mittel | Nein | #2302, #900 | [SessionRunner.md#header](../application/SessionRunner.md#header) | [neu] src/application/session-runner/dialogs/JumpToDateDialog.ts, header.ts:dateTimeEl [√§ndern - onClick Handler] |
| 2324 | ‚úÖ | Application/SessionRunner | Weather-Status Display im Header (Klick ‚Üí DetailView Weather-Tab) | hoch | Ja | #2302, #1300 | [SessionRunner.md#header](../application/SessionRunner.md#header) | src/application/session-runner/panels/header.ts:weatherEl, header.ts:updateHeader() |
| 2325 | ‚¨ú | Application/SessionRunner | Keyboard Shortcuts: Space (Travel Start/Pause) | mittel | Nein | #2301 | [SessionRunner.md#keyboard-shortcuts](../application/SessionRunner.md#keyboard-shortcuts) | src/application/session-runner/view.ts:onOpen() [√§ndern - Keyboard Listener], viewmodel.ts [√§ndern - handleKeyboard()] |
| 2326 | ‚¨ú | Application/SessionRunner | Keyboard Shortcuts: T (Travel-Sektion fokussieren) | mittel | Nein | #2301 | [SessionRunner.md#keyboard-shortcuts](../application/SessionRunner.md#keyboard-shortcuts) | src/application/session-runner/view.ts:onOpen() [√§ndern - Keyboard Listener], viewmodel.ts [√§ndern - handleKeyboard()] |
| 2327 | ‚¨ú | Application/SessionRunner | Keyboard Shortcuts: E (Encounter generieren) | mittel | Nein | #2301 | [SessionRunner.md#keyboard-shortcuts](../application/SessionRunner.md#keyboard-shortcuts) | src/application/session-runner/view.ts:onOpen() [√§ndern - Keyboard Listener], viewmodel.ts [√§ndern - handleKeyboard()] |
| 2328 | ‚¨ú | Application/SessionRunner | Keyboard Shortcuts: 1-6 (Time-Segment springen) | mittel | Nein | #2301 | [SessionRunner.md#keyboard-shortcuts](../application/SessionRunner.md#keyboard-shortcuts) | src/application/session-runner/view.ts:onOpen() [√§ndern - Keyboard Listener], viewmodel.ts [√§ndern - handleKeyboard()] |
| 2329 | ‚¨ú | Application/SessionRunner | Keyboard Shortcuts: +/- (Zoom In/Out) | mittel | Nein | #2301 | [SessionRunner.md#keyboard-shortcuts](../application/SessionRunner.md#keyboard-shortcuts) | src/application/session-runner/view.ts:onOpen() [√§ndern - Keyboard Listener], viewmodel.ts [√§ndern - handleKeyboard()] |
| 2330 | ‚¨ú | Application/SessionRunner | Keyboard Shortcuts: Arrow Keys (Pan Map) | mittel | Nein | #2301 | [SessionRunner.md#keyboard-shortcuts](../application/SessionRunner.md#keyboard-shortcuts) | src/application/session-runner/view.ts:onOpen() [√§ndern - Keyboard Listener], viewmodel.ts [√§ndern - handleKeyboard()] |
| 2331 | ‚¨ú | Application/SessionRunner | Keyboard Shortcuts: [ / ] (Quick-Controls ein/ausblenden) | mittel | Nein | #2301 | [SessionRunner.md#keyboard-shortcuts](../application/SessionRunner.md#keyboard-shortcuts) | src/application/session-runner/view.ts:onOpen() [√§ndern - Keyboard Listener], viewmodel.ts [√§ndern - handleKeyboard()] |
| 2332 | ‚¨ú | Application/SessionRunner | Collapsed Quick-Controls Modus (Icon-only Sidebar) | mittel | Nein | #2303 | [SessionRunner.md#collapsed-quick-controls](../application/SessionRunner.md#collapsed-quick-controls) | src/application/session-runner/panels/sidebar.ts:createSidebarPanel() [√§ndern - Icon-Modus], types.ts:RenderState.sidebarCollapsed |
| 2333 | ‚¨ú | Application/SessionRunner | Visibility-Toggle im Overlays-Bereich (Sichtweiten-Overlay) | mittel | Nein | #2310, #1000 | [SessionRunner.md#visibility-toggle-post-mvp](../application/SessionRunner.md#visibility-toggle-post-mvp) | src/application/session-runner/panels/map-canvas.ts:renderFrame() [√§ndern - Visibility Layer], types.ts:RenderState [√§ndern - overlaySettings.visibility] |
| 2334 | ‚¨ú | Application/SessionRunner | Animations-Geschwindigkeit Slider (0.5x - 10x) | niedrig | Nein | #2304 | [SessionRunner.md#animations-geschwindigkeit-slider-post-mvp](../application/SessionRunner.md#animations-geschwindigkeit-slider-post-mvp) | src/application/session-runner/panels/sidebar.ts:travelSection [√§ndern - Speed Slider] |
| 2335 | ‚úÖ | Application/SessionRunner | Travel-Plan-Button Toggle (Aktiviert/Deaktiviert Travel-Modus) | hoch | Ja | #2304 | [SessionRunner.md#travel-sektion](../application/SessionRunner.md#travel-sektion) | src/application/session-runner/panels/sidebar.ts:planBtn, viewmodel.ts:toggleTravelMode(), types.ts:RenderState.travelMode |
| 2338 | üî∂ | Application/SessionRunner | Party-Manage-Button (√ñffnet Party-Management Modal/DetailView) | mittel | Nein | #2307 | [SessionRunner.md#party-sektion](../application/SessionRunner.md#party-sektion) | src/application/session-runner/panels/sidebar.ts:partySection [√§ndern - Manage Button], [neu] src/application/session-runner/modals/PartyManagementModal.ts |
| 2339 | ‚¨ú | Application/SessionRunner | Health-Summary Berechnung (All OK, X Wounded, X Critical) | hoch | Ja | #2307, #1100 | [SessionRunner.md#party-sektion](../application/SessionRunner.md#party-sektion) | src/application/session-runner/viewmodel.ts:syncFromFeatures() [√§ndern - Health Summary], types.ts:SidebarState [√§ndern - Party Section mit Health] |
| 2340 | ‚¨ú | Application/SessionRunner | Audio Volume Slider (Klick auf üîä im Audio-Section) | mittel | Nein | #2306, #1500 | [SessionRunner.md#audio-sektion](../application/SessionRunner.md#audio-sektion) | src/application/session-runner/panels/sidebar.ts:audioSection [√§ndern - Volume Control] |
| 2400 | ‚úÖ | Application/DetailView | DetailView View Component (Hauptcontainer mit Tab-Navigation) | hoch | Ja | - | [DetailView.md#uebersicht](../application/DetailView.md#uebersicht) | src/application/detail-view/view.ts |
| 2401 | ‚úÖ | Application/DetailView | DetailView ViewModel mit State-Management | hoch | Ja | #2400 | [DetailView.md#viewmodel-state](../application/DetailView.md#viewmodel-state) | src/application/detail-view/viewmodel.ts |
| 2402 | ‚úÖ | Application/DetailView | Tab-Management (activeTab State, setActiveTab) | hoch | Ja | #2401 | [DetailView.md#uebersicht](../application/DetailView.md#uebersicht) | viewmodel.ts:setActiveTab(), types.ts:DetailViewState.activeTab |
| 2403 | ‚úÖ | Application/DetailView | Idle-State Placeholder (Hinweis wenn kein Tab aktiv) | mittel | Ja | #2400 | [DetailView.md#idle-state-kein-tab-aktiv](../application/DetailView.md#idle-state-kein-tab-aktiv) | view.ts:idleState (lines 113-123) |
| 2404 | ‚úÖ | Application/DetailView | Auto-Open Verhalten f√ºr Encounter-Tab (encounter:generated) | hoch | Ja | #2401 | [DetailView.md#auto-open-verhalten](../application/DetailView.md#auto-open-verhalten) | viewmodel.ts:ENCOUNTER_GENERATED handler (lines 110-125) |
| 2405 | ‚úÖ | Application/DetailView | Auto-Open Verhalten f√ºr Combat-Tab (combat:started) | hoch | Ja | #2401 | [DetailView.md#auto-open-verhalten](../application/DetailView.md#auto-open-verhalten) | viewmodel.ts:COMBAT_STARTED handler (lines 140-150) |
| 2406 | ‚¨ú | Application/DetailView | Auto-Open Verhalten f√ºr Location-Tab (ui:tile-selected, optional) | niedrig | Nein | #2401, #2448 | [DetailView.md#auto-open-verhalten](../application/DetailView.md#auto-open-verhalten) | viewmodel.ts:setupEventHandlers() [√§ndern - UI_TILE_SELECTED handler] |
| 2407 | ‚úÖ | Application/DetailView | Tab-Priorit√§t System (Combat > Encounter > Rest) | mittel | Ja | #2402 | [DetailView.md#auto-open-verhalten](../application/DetailView.md#auto-open-verhalten) | viewmodel.ts:ENCOUNTER_GENERATED handler (line 118 - pr√ºft ob combat aktiv) |
| 2408 | ‚úÖ | Application/DetailView | Encounter-Tab Component (Container) | hoch | Ja | #2400, #2409 | [DetailView.md#encounter-tab](../application/DetailView.md#encounter-tab) | src/application/detail-view/panels/encounter-tab.ts:createEncounterTab() |
| 2409 | ‚úÖ | Application/DetailView | Encounter-Builder State (Name, Activity, Goal, Creatures) | hoch | Ja | #2401 | [DetailView.md#viewmodel-state](../application/DetailView.md#viewmodel-state) | types.ts:EncounterTabState, types.ts:BuilderCreature, viewmodel.ts:setBuilder*(), viewmodel.ts:*CreatureFromBuilder() |
| 2410 | ‚¨ú | Application/DetailView | Encounter-Suche (Autocomplete f√ºr gespeicherte EncounterDefinitions) | mittel | Ja | #2408, #2409 | [DetailView.md#encounter-tab](../application/DetailView.md#encounter-tab) | encounter-tab.ts [√§ndern - Suche-Input + Autocomplete-Logic] |
| 2411 | ‚¨ú | Application/DetailView | Kreatur/NPC-Suche (Autocomplete f√ºr CreatureDefinitions + Named NPCs) | hoch | Ja | #2408, #2409 | [DetailView.md#encounter-tab](../application/DetailView.md#encounter-tab) | encounter-tab.ts [√§ndern - Kreatur-Suche-Input + Autocomplete-Logic] |
| 2412 | ‚¨ú | Application/DetailView | Kreatur/NPC hinzuf√ºgen zum Builder | hoch | Ja | #2409, #2411 | [DetailView.md#encounter-tab](../application/DetailView.md#encounter-tab) | encounter-tab.ts [√§ndern - onAddCreature callback], viewmodel.ts [√§ndern - addCreatureToBuilder()] |
| 2413 | ‚¨ú | Application/DetailView | Kreatur/NPC entfernen aus Builder ([√ó] Button) | mittel | Ja | #2409, #2412 | [DetailView.md#encounter-tab](../application/DetailView.md#encounter-tab) | encounter-tab.ts [√§ndern - Remove-Button], viewmodel.ts [√§ndern - removeCreatureFromBuilder()] |
| 2414 | ‚¨ú | Application/DetailView | Encounter-Wertung Live-Berechnung (Gesamt-XP, Difficulty, Daily-Budget) | hoch | Ja | #2409, #1400 | [DetailView.md#encounter-tab](../application/DetailView.md#encounter-tab) | viewmodel.ts [√§ndern - calculateEncounterRating()], nutzet Encounter-Balancing-Feature #1400 |
| 2415 | ‚úÖ | Application/DetailView | Encounter-Builder bef√ºllen aus encounter:generated Event | hoch | Ja | #2404, #2409 | [DetailView.md#builder-befuellung](../application/DetailView.md#builder-befuellung) | viewmodel.ts:loadEncounterIntoBuilder(), ENCOUNTER_GENERATED handler |
| 2416 | ‚¨ú | Application/DetailView | Encounter-Builder bef√ºllen aus gespeichertem Encounter | mittel | Ja | #2409, #2410 | [DetailView.md#flow-gespeichertes-encounter-laden](../application/DetailView.md#flow-gespeichertes-encounter-laden) | viewmodel.ts [√§ndern - loadEncounterDefinition()], encounter-tab.ts [√§ndern - onLoadEncounter callback] |
| 2417 | ‚¨ú | Application/DetailView | Encounter speichern (üíæ Button) | mittel | Ja | #2409 | [DetailView.md#flow-builder--speichern](../application/DetailView.md#flow-builder--speichern) | encounter-tab.ts [√§ndern - Save-Button], viewmodel.ts [√§ndern - saveEncounterDefinition()], view.ts [√§ndern - onSaveEncounter callback] |
| 2418 | ‚úÖ | Application/DetailView | Combat starten aus Builder (‚öîÔ∏è Button, publiziert combat:start-requested) | hoch | Ja | #2409 | [DetailView.md#flow-builder--combat](../application/DetailView.md#flow-builder--combat) | encounter-tab.ts:onStartEncounter ‚Üí view.ts:EventTypes.ENCOUNTER_START_REQUESTED (lines 236-244) |
| 2419 | ‚úÖ | Application/DetailView | Combat-Tab Component (Container) | hoch | Ja | #2400 | [DetailView.md#combat-tab](../application/DetailView.md#combat-tab) | src/application/detail-view/panels/combat-tab.ts |
| 2420 | ‚úÖ | Application/DetailView | Combat-Tab State (CombatState, PendingEffects, Resolution) | hoch | Ja | #2401 | [DetailView.md#viewmodel-state](../application/DetailView.md#viewmodel-state) | types.ts:CombatTabState, ResolutionState |
| 2421 | ‚úÖ | Application/DetailView | Initiative-Tracker Display (Liste mit Reihenfolge, aktiver Participant markiert) | hoch | Ja | #2419, #2420 | [DetailView.md#combat-tab](../application/DetailView.md#combat-tab) | combat-tab.ts:renderParticipant(), renderInitiativeList() |
| 2422 | ‚úÖ | Application/DetailView | HP-Bar Display pro Participant | hoch | Ja | #2421 | [DetailView.md#combat-tab](../application/DetailView.md#combat-tab) | combat-tab.ts:createHpBar() (lines 265-298) |
| 2423 | ‚úÖ | Application/DetailView | Conditions Display pro Participant (Icons + Labels) | hoch | Ja | #2421 | [DetailView.md#combat-tab](../application/DetailView.md#combat-tab) | combat-tab.ts:conditions rendering (lines 220-246) |
| 2424 | ‚úÖ | Application/DetailView | Damage Button + Dialog | hoch | Ja | #2419 | [DetailView.md#combat-tab](../application/DetailView.md#combat-tab) | combat-tab.ts:damageBtn + view.ts:onApplyDamage callback (lines 288-295) |
| 2425 | ‚úÖ | Application/DetailView | Heal Button + Dialog | hoch | Ja | #2419 | [DetailView.md#combat-tab](../application/DetailView.md#combat-tab) | combat-tab.ts:healBtn + view.ts:onApplyHealing callback (lines 297-305) |
| 2426 | ‚úÖ | Application/DetailView | Condition Button + Dropdown | hoch | Ja | #2419 | [DetailView.md#combat-tab](../application/DetailView.md#combat-tab) | combat-tab.ts:conditionBtn + view.ts:onAddCondition/onRemoveCondition callbacks (lines 306-323) |
| 2427 | ‚¨ú | Application/DetailView | Add Effect Button + Dialog (Custom Start/End-of-Turn Effects) | mittel | Nein | #2419, #2420 | [DetailView.md#combat-tab](../application/DetailView.md#combat-tab) | combat-tab.ts [√§ndern - Effect-Button + Dialog], view.ts [√§ndern - onAddEffect callback] |
| 2428 | ‚úÖ | Application/DetailView | Next Turn Button (combat:next-turn-requested) | hoch | Ja | #2419 | [DetailView.md#combat-tab](../application/DetailView.md#combat-tab) | combat-tab.ts:nextTurnBtn + view.ts:onNextTurn callback (lines 274-277) |
| 2429 | ‚úÖ | Application/DetailView | End Combat Button (combat:end-requested) | hoch | Ja | #2419 | [DetailView.md#flow-combat-beenden](../application/DetailView.md#flow-combat-beenden) | combat-tab.ts:endBtn + view.ts:onEndCombat callback (lines 279-287) |
| 2429a | ‚úÖ | Application/DetailView | Update Initiative Button (combat:update-initiative-requested) | mittel | Ja | #2419 | - | combat-tab.ts:initBtn + view.ts:onUpdateInitiative callback (lines 324-332) |
| 2430 | ‚¨ú | Application/DetailView | Start-of-Turn Effect Display (Save-Prompt f√ºr Effekte wie Tasha's Caustic Brew) | mittel | Nein | #2428, #2420, #2427 | [DetailView.md#combat-tab](../application/DetailView.md#combat-tab) | combat-tab.ts [√§ndern - Turn-Wechsel-Dialog mit Pending-Effects], viewmodel.ts [√§ndern - getPendingEffects()] |
| 2431 | ‚¨ú | Application/DetailView | Post-Combat Resolution State-Management | hoch | Ja | #2420 | [DetailView.md#post-combat-resolution](../application/DetailView.md#post-combat-resolution) | types.ts:CombatTabState [√§ndern - Resolution-Felder hinzuf√ºgen], viewmodel.ts [√§ndern - Resolution-State-Management] |
| 2432 | ‚¨ú | Application/DetailView | Post-Combat Phase 1: XP-Summary Display (Basis-XP, GM-Anpassung, Verteilung) | hoch | Ja | #2419, #2431 | [DetailView.md#phase-1-xp-summary-automatisch-gm-anpassbar](../application/DetailView.md#phase-1-xp-summary-automatisch-gm-anpassbar) | combat-tab.ts [neu - renderResolutionPanel:XpPhase] |
| 2433 | ‚¨ú | Application/DetailView | Post-Combat Phase 1: GM-Anpassung Controls ([-] [%] [+] Schnellauswahl) | mittel | Ja | #2432 | [DetailView.md#phase-1-xp-summary-automatisch-gm-anpassbar](../application/DetailView.md#phase-1-xp-summary-automatisch-gm-anpassbar) | combat-tab.ts:XpPhase [√§ndern - GM-Modifier-Controls] |
| 2434 | ‚¨ú | Application/DetailView | Post-Combat Phase 2: Quest-Zuweisung Display (Quest-Suche, Aktive Quests Radio-Liste) | hoch | Ja | #2432 | [DetailView.md#phase-2-quest-zuweisung-im-selben-panel-wie-xp](../application/DetailView.md#phase-2-quest-zuweisung-im-selben-panel-wie-xp) | combat-tab.ts [neu - renderResolutionPanel:QuestPhase] |
| 2435 | ‚¨ú | Application/DetailView | Post-Combat Phase 2: Quest-Pool XP Zuweisung (Quest ausw√§hlen, XP zuweisen) | hoch | Ja | #2434 | [DetailView.md#phase-2-quest-zuweisung-im-selben-panel-wie-xp](../application/DetailView.md#phase-2-quest-zuweisung-im-selben-panel-wie-xp) | viewmodel.ts [√§ndern - assignXpToQuest()], view.ts [√§ndern - onAssignQuestXp callback] |
| 2436 | ‚¨ú | Application/DetailView | Post-Combat Phase 3: Loot-Verteilung Display (Items + Gold) | hoch | Ja | #2434 | [DetailView.md#phase-3-loot-verteilung](../application/DetailView.md#phase-3-loot-verteilung) | combat-tab.ts [neu - renderResolutionPanel:LootPhase] |
| 2437 | ‚¨ú | Application/DetailView | Post-Combat Phase 3: Item-Verteilung (Dropdown pro Item ‚Üí Character) | hoch | Ja | #2436 | [DetailView.md#phase-3-loot-verteilung](../application/DetailView.md#phase-3-loot-verteilung) | combat-tab.ts:LootPhase [√§ndern - Item-Dropdown-Controls] |
| 2438 | ‚¨ú | Application/DetailView | Post-Combat Phase 3: Gold-Verteilung (Gleichm√§√üig verteilen + manuell anpassen) | mittel | Ja | #2436 | [DetailView.md#phase-3-loot-verteilung](../application/DetailView.md#phase-3-loot-verteilung) | combat-tab.ts:LootPhase [√§ndern - Gold-Distribution-Controls] |
| 2439 | ‚¨ú | Application/DetailView | Post-Combat Resolution: √úberspringen-Button pro Phase | mittel | Ja | #2431, #2432, #2434, #2436 | [DetailView.md#ueberspringen-verhalten](../application/DetailView.md#ueberspringen-verhalten) | combat-tab.ts:renderResolutionPanel [√§ndern - Skip-Button], viewmodel.ts [√§ndern - skipPhase()] |
| 2440 | ‚¨ú | Application/DetailView | Post-Combat Resolution: Weiter-Button (Phase-Transition) | hoch | Ja | #2431, #2432 | [DetailView.md#phase-1-xp-summary-automatisch-gm-anpassbar](../application/DetailView.md#phase-1-xp-summary-automatisch-gm-anpassbar) | combat-tab.ts:renderResolutionPanel [√§ndern - Next-Button], viewmodel.ts [√§ndern - nextPhase()] |
| 2441 | ‚¨ú | Application/DetailView | Post-Combat Resolution: Events publizieren (encounter:resolved, quest:xp-accumulated, loot:distributed) | hoch | Ja | #2431, #2435, #2437, #2438 | [DetailView.md#post-combat-resolution](../application/DetailView.md#post-combat-resolution) | viewmodel.ts [√§ndern - Resolution-Event-Publishing], view.ts [√§ndern - Event-Callbacks] |
| 2442 | ‚¨ú | Application/DetailView | Shop-Tab Component (Container) | mittel | Ja | #2400 | [DetailView.md#shop-tab](../application/DetailView.md#shop-tab) | [neu] src/application/detail-view/panels/shop-tab.ts |
| 2443 | ‚¨ú | Application/DetailView | Shop-Tab State (activeShop, searchQuery, filter, mode) | mittel | Ja | #2401 | [DetailView.md#viewmodel-state](../application/DetailView.md#viewmodel-state) | types.ts:ShopTabState [neu], viewmodel.ts [√§ndern - Shop-State-Management] |
| 2444 | ‚¨ú | Application/DetailView | Shop-Tab Buy-Mode (Item-Liste, Search, Filter, Buy-Button) | mittel | Ja | #2442, #2443 | [DetailView.md#shop-tab](../application/DetailView.md#shop-tab) | shop-tab.ts [√§ndern - Buy-Mode-Rendering] |
| 2445 | ‚¨ú | Application/DetailView | Shop-Tab Sell-Mode (Party-Inventory, Sell-Button) | mittel | Ja | #2442, #2443 | [DetailView.md#verkaufs-modus](../application/DetailView.md#verkaufs-modus) | shop-tab.ts [√§ndern - Sell-Mode-Rendering] |
| 2446 | ‚¨ú | Application/DetailView | Shop-Tab Mode Toggle (Buy/Sell wechseln) | niedrig | Nein | #2442, #2443 | [DetailView.md#shop-tab](../application/DetailView.md#shop-tab) | shop-tab.ts [√§ndern - Mode-Toggle-Button], viewmodel.ts [√§ndern - toggleShopMode()] |
| 2447 | ‚¨ú | Application/DetailView | Shop-Tab Load More / Pagination | niedrig | Nein | #2444 | [DetailView.md#shop-tab](../application/DetailView.md#shop-tab) | shop-tab.ts [√§ndern - Pagination-Controls] |
| 2448 | ‚¨ú | Application/DetailView | Location-Tab Component (Container) | mittel | Ja | #2400 | [DetailView.md#location-tab](../application/DetailView.md#location-tab) | [neu] src/application/detail-view/panels/location-tab.ts |
| 2449 | ‚¨ú | Application/DetailView | Location-Tab State (selectedTile, tileData) | mittel | Ja | #2401 | [DetailView.md#viewmodel-state](../application/DetailView.md#viewmodel-state) | types.ts:LocationTabState [neu], viewmodel.ts [√§ndern - Location-State-Management] |
| 2450 | ‚¨ú | Application/DetailView | Location-Tab Terrain Display (Type, Elevation, Movement Cost) | mittel | Ja | #2448, #2449 | [DetailView.md#location-tab](../application/DetailView.md#location-tab) | location-tab.ts [√§ndern - Terrain-Rendering] |
| 2451 | ‚¨ú | Application/DetailView | Location-Tab Weather Display (aktuelles Wetter f√ºr Tile) | mittel | Ja | #2448, #2449 | [DetailView.md#location-tab](../application/DetailView.md#location-tab) | location-tab.ts [√§ndern - Weather-Rendering] |
| 2452 | ‚¨ú | Application/DetailView | Location-Tab POI-Liste (POIs auf Tile mit Details-Link) | mittel | Ja | #2448, #2449 | [DetailView.md#location-tab](../application/DetailView.md#location-tab) | location-tab.ts [√§ndern - POI-List-Rendering] |
| 2453 | ‚¨ú | Application/DetailView | Location-Tab Fraktions-Pr√§senz (Factions mit %-Werten) | niedrig | Nein | #2448, #2449 | [DetailView.md#location-tab](../application/DetailView.md#location-tab) | location-tab.ts [√§ndern - Faction-Rendering] |
| 2454 | ‚¨ú | Application/DetailView | Location-Tab Bekannte NPCs (NPCs auf Tile) | niedrig | Nein | #2448, #2449 | [DetailView.md#location-tab](../application/DetailView.md#location-tab) | location-tab.ts [√§ndern - NPC-List-Rendering] |
| 2455 | ‚¨ú | Application/DetailView | Quest-Tab Component (Container) | niedrig | Nein | #2400 | [DetailView.md#quest-tab](../application/DetailView.md#quest-tab) | [neu] src/application/detail-view/panels/quest-tab.ts |
| 2456 | ‚¨ú | Application/DetailView | Quest-Tab State (selectedQuest) | niedrig | Nein | #2401 | [DetailView.md#viewmodel-state](../application/DetailView.md#viewmodel-state) | types.ts:QuestTabState [neu], viewmodel.ts [√§ndern - Quest-State-Management] |
| 2457 | ‚¨ú | Application/DetailView | Quest-Tab Details Display (Status, Progress, Description, Objectives) | niedrig | Nein | #2455, #2456 | [DetailView.md#quest-tab](../application/DetailView.md#quest-tab) | quest-tab.ts [√§ndern - Quest-Details-Rendering] |
| 2458 | ‚¨ú | Application/DetailView | Quest-Tab Encounters Display (Liste mit XP-Info, Start-Button) | niedrig | Nein | #2455, #2456 | [DetailView.md#quest-tab](../application/DetailView.md#quest-tab) | quest-tab.ts [√§ndern - Encounter-List-Rendering] |
| 2459 | ‚¨ú | Application/DetailView | Quest-Tab Rewards Display (Gold, Quest-XP Pool, Reputation) | niedrig | Nein | #2455, #2456 | [DetailView.md#quest-tab](../application/DetailView.md#quest-tab) | quest-tab.ts [√§ndern - Rewards-Rendering] |
| 2460 | ‚¨ú | Application/DetailView | Quest-Tab Complete/Abandon Buttons | niedrig | Nein | #2455 | [DetailView.md#quest-tab](../application/DetailView.md#quest-tab) | quest-tab.ts [√§ndern - Action-Buttons], viewmodel.ts [√§ndern - completeQuest()/abandonQuest()], view.ts [√§ndern - Quest-Callbacks] |
| 2461 | ‚¨ú | Application/DetailView | Journal-Tab Component (Container) | niedrig | Nein | #2400 | [DetailView.md#journal-tab](../application/DetailView.md#journal-tab) | [neu] src/application/detail-view/panels/journal-tab.ts |
| 2462 | ‚¨ú | Application/DetailView | Journal-Tab State (filter, entries) | niedrig | Nein | #2401 | [DetailView.md#viewmodel-state](../application/DetailView.md#viewmodel-state) | types.ts:JournalTabState [neu], viewmodel.ts [√§ndern - Journal-State-Management] |
| 2463 | ‚¨ú | Application/DetailView | Journal-Tab Filter Controls (Type-Filter, Date-Filter) | niedrig | Nein | #2461, #2462 | [DetailView.md#journal-tab](../application/DetailView.md#journal-tab) | journal-tab.ts [√§ndern - Filter-Controls] |
| 2464 | ‚¨ú | Application/DetailView | Journal-Tab Entry Display (Chronologisch gruppiert nach Tag) | niedrig | Nein | #2461, #2462 | [DetailView.md#journal-tab](../application/DetailView.md#journal-tab) | journal-tab.ts [√§ndern - Entry-Rendering] |
| 2465 | ‚¨ú | Application/DetailView | Journal-Tab Quick Note Button | niedrig | Nein | #2461 | [DetailView.md#journal-tab](../application/DetailView.md#journal-tab) | journal-tab.ts [√§ndern - Quick-Note-Button], viewmodel.ts [√§ndern - addQuickNote()], view.ts [√§ndern - onAddQuickNote callback] |
| 2466 | ‚¨ú | Application/DetailView | Journal-Tab Export Button | niedrig | Nein | #2461 | [DetailView.md#journal-tab](../application/DetailView.md#journal-tab) | journal-tab.ts [√§ndern - Export-Button], viewmodel.ts [√§ndern - exportJournal()] |
| 2467 | ‚¨ú | Application/DetailView | Keyboard-Shortcuts (1-6 f√ºr Tab-Wechsel, Escape f√ºr Close) | niedrig | Nein | #2402 | [DetailView.md#keyboard-shortcuts](../application/DetailView.md#keyboard-shortcuts) | view.ts [√§ndern - onKeyDown handler mit Tab-Switch-Logic] |
| 2468 | ‚¨ú | Application/DetailView | Keyboard-Shortcuts Combat-spezifisch (N=Next Turn, D=Damage, H=Heal) | niedrig | Nein | #2419 | [DetailView.md#keyboard-shortcuts](../application/DetailView.md#keyboard-shortcuts) | view.ts [√§ndern - onKeyDown handler mit Combat-Shortcuts], combat-tab.ts [√§ndern - keyboard event passthrough] |
| 2469 | ‚úÖ | Application/DetailView | Event-Subscriptions Setup (encounter:generated, combat:started, etc.) | hoch | Ja | #2401 | [DetailView.md#event-subscriptions](../application/DetailView.md#event-subscriptions) | viewmodel.ts:setupEventHandlers() (lines 109-173) |
| 2470 | ‚¨ú | Application/DetailView | Generate-Button im Encounter-Tab (üé≤, publiziert encounter:generate-requested) | hoch | Ja | #2408, #215 | [DetailView.md#encounter-tab](../application/DetailView.md#encounter-tab) | encounter-tab.ts [√§ndern - Generate-Button + Handler] |
| 2500 | ‚¨ú | Application/Cartographer | Cartographer View Component (Hauptcontainer mit Tool-Sidebar + Canvas + Layer-Panel) | hoch | Ja | - | [Cartographer.md#layout-wireframe](../application/Cartographer.md#layout-wireframe) | [neu] src/application/cartographer/view.ts |
| 2501 | ‚¨ú | Application/Cartographer | Cartographer ViewModel mit State-Management | hoch | Ja | #2500 | [Cartographer.md#state-management](../application/Cartographer.md#state-management) | [neu] src/application/cartographer/viewmodel.ts |
| 2502 | ‚¨ú | Application/Cartographer | Tool-Wechsel State (activeTool, toolOptions) | hoch | Ja | #2501 | [Cartographer.md#state-management](../application/Cartographer.md#state-management) | viewmodel.ts:setActiveTool() |
| 2503 | ‚¨ú | Application/Cartographer | Map-Typ Erkennung (Overland vs Dungeon ‚Üí passende Tool-Palette) | hoch | Ja | #2501 | [Cartographer.md#uebersicht](../application/Cartographer.md#uebersicht) | viewmodel.ts:mapType switch |
| 2504 | ‚¨ú | Application/Cartographer | Camera State (Pan, Zoom) | hoch | Ja | #2501 | [Cartographer.md#state-management](../application/Cartographer.md#state-management) | viewmodel.ts:camera |
| 2505 | ‚¨ú | Application/Cartographer | Selection State (selectedTiles, hoveredTile) | hoch | Ja | #2501 | [Cartographer.md#state-management](../application/Cartographer.md#state-management) | viewmodel.ts:selectedTiles |
| 2506 | ‚¨ú | Application/Cartographer | Undo/Redo Stack Implementation | hoch | Ja | #2501 | [Cartographer.md#state-management](../application/Cartographer.md#state-management) | viewmodel.ts:undoStack/redoStack |
| 2507 | ‚¨ú | Application/Cartographer | Terrain-Brush Tool Component (Overland) | hoch | Ja | #2500, #2502 | [Cartographer.md#terrain-brush-overland](../application/Cartographer.md#terrain-brush-overland) | [neu] src/application/cartographer/tools/TerrainBrush.svelte |
| 2508 | ‚¨ú | Application/Cartographer | Terrain-Brush Options Panel (Terrain-Auswahl Grid, Brush Size, Shape) | hoch | Ja | #2507 | [Cartographer.md#terrain-brush-overland](../application/Cartographer.md#terrain-brush-overland) | [neu] src/application/cartographer/panels/TerrainBrushPanel.svelte |
| 2509 | ‚¨ú | Application/Cartographer | Terrain-Brush Interaktionen (Click+Drag Paint, Right-Click Picker, Shift-Line) | hoch | Ja | #2507 | [Cartographer.md#terrain-brush-overland](../application/Cartographer.md#terrain-brush-overland) | TerrainBrush.svelte:handleMouseDown/Drag |
| 2510 | ‚¨ú | Application/Cartographer | Terrain-Brush Auto-Elevation Option | mittel | Nein | #2507 | [Cartographer.md#terrain-brush-overland](../application/Cartographer.md#terrain-brush-overland) | TerrainBrushPanel.svelte:autoElevation toggle |
| 2511 | ‚¨ú | Application/Cartographer | Elevation-Brush Tool Component (Overland) | hoch | Ja | #2500, #2502 | [Cartographer.md#elevation-brush-overland](../application/Cartographer.md#elevation-brush-overland) | [neu] src/application/cartographer/tools/ElevationBrush.svelte |
| 2512 | ‚¨ú | Application/Cartographer | Elevation-Brush Paint Mode (Direktes Setzen von H√∂henwerten mit Presets) | hoch | Ja | #2511 | [Cartographer.md#elevation-brush-overland](../application/Cartographer.md#elevation-brush-overland) | ElevationBrush.svelte:paintMode |
| 2513 | ‚¨ú | Application/Cartographer | Elevation-Brush Gradient Mode (Start/End H√∂he, Falloff Linear/Smooth) | mittel | Nein | #2511 | [Cartographer.md#elevation-brush-overland](../application/Cartographer.md#elevation-brush-overland) | ElevationBrush.svelte:gradientMode |
| 2514 | ‚¨ú | Application/Cartographer | Elevation-Brush Smooth Mode (Iterations, Preserve Peaks) | mittel | Nein | #2511 | [Cartographer.md#elevation-brush-overland](../application/Cartographer.md#elevation-brush-overland) | ElevationBrush.svelte:smoothMode |
| 2515 | ‚¨ú | Application/Cartographer | Elevation-Brush Strength Slider | mittel | Ja | #2511 | [Cartographer.md#elevation-brush-overland](../application/Cartographer.md#elevation-brush-overland) | ElevationBrush.svelte:strength |
| 2516 | ‚¨ú | Application/Cartographer | Climate-Brush Tool Component (Overland) | niedrig | Nein | #2500, #2502 | [Cartographer.md#climate-brush-overland](../application/Cartographer.md#climate-brush-overland) | [neu] src/application/cartographer/tools/ClimateBrush.svelte |
| 2517 | ‚¨ú | Application/Cartographer | Climate-Brush Layer Selection (Temp/Precip/Wind) | niedrig | Nein | #2516 | [Cartographer.md#climate-brush-overland](../application/Cartographer.md#climate-brush-overland) | ClimateBrush.svelte:activeLayer |
| 2518 | ‚¨ú | Application/Cartographer | Climate-Brush Temperature Override (Additive/Absolute Mode) | niedrig | Nein | #2516 | [Cartographer.md#climate-brush-overland](../application/Cartographer.md#climate-brush-overland) | ClimateBrush.svelte:tempOverride |
| 2519 | ‚¨ú | Application/Cartographer | Climate-Brush Precipitation Override | niedrig | Nein | #2516 | [Cartographer.md#climate-brush-overland](../application/Cartographer.md#climate-brush-overland) | ClimateBrush.svelte:precipOverride |
| 2520 | ‚¨ú | Application/Cartographer | Climate-Brush Wind Override (Direction + Strength) | niedrig | Nein | #2516 | [Cartographer.md#climate-brush-overland](../application/Cartographer.md#climate-brush-overland) | ClimateBrush.svelte:windOverride |
| 2521 | ‚¨ú | Application/Cartographer | Climate-Brush Falloff Control | niedrig | Nein | #2516 | [Cartographer.md#climate-brush-overland](../application/Cartographer.md#climate-brush-overland) | ClimateBrush.svelte:falloff |
| 2522 | ‚¨ú | Application/Cartographer | Feature-Brush Tool Component (Overland) | hoch | Ja | #2500, #2502 | [Cartographer.md#feature-brush-overland](../application/Cartographer.md#feature-brush-overland) | [neu] src/application/cartographer/tools/FeatureBrush.svelte |
| 2523 | ‚¨ú | Application/Cartographer | Feature-Brush Category Selection (Natural/Ruins/Roads) | hoch | Ja | #2522 | [Cartographer.md#feature-brush-overland](../application/Cartographer.md#feature-brush-overland) | FeatureBrush.svelte:category |
| 2524 | ‚¨ú | Application/Cartographer | Feature-Brush Natural Features (Forest, Rocks, Spring, Cave, Garden, Shrooms) | hoch | Ja | #2522 | [Cartographer.md#feature-brush-overland](../application/Cartographer.md#feature-brush-overland) | FeatureBrush.svelte:naturalFeatures |
| 2525 | ‚¨ú | Application/Cartographer | Feature-Brush Ruins Features (Ruins, Statue, Shrine) | mittel | Nein | #2522 | [Cartographer.md#feature-brush-overland](../application/Cartographer.md#feature-brush-overland) | FeatureBrush.svelte:ruinsFeatures |
| 2526 | ‚¨ú | Application/Cartographer | Feature-Brush Roads Markers (Paved, Dirt, Trail Icons) | mittel | Nein | #2522 | [Cartographer.md#feature-brush-overland](../application/Cartographer.md#feature-brush-overland) | FeatureBrush.svelte:roadMarkers |
| 2527 | ‚¨ú | Application/Cartographer | Feature-Brush Density Slider | mittel | Ja | #2522 | [Cartographer.md#feature-brush-overland](../application/Cartographer.md#feature-brush-overland) | FeatureBrush.svelte:density |
| 2528 | ‚¨ú | Application/Cartographer | Location-Marker Tool Component (Overland) | hoch | Ja | #2500, #2502 | [Cartographer.md#location-marker-overland](../application/Cartographer.md#location-marker-overland) | [neu] src/application/cartographer/tools/LocationMarker.svelte |
| 2529 | ‚¨ú | Application/Cartographer | Location-Marker Type Selection (Settlement/Dungeon/Landmark/Custom) | hoch | Ja | #2528 | [Cartographer.md#location-marker-overland](../application/Cartographer.md#location-marker-overland) | LocationMarker.svelte:locationType |
| 2530 | ‚¨ú | Application/Cartographer | Location-Marker Settlement Icons (Village, Town, City) | hoch | Ja | #2528 | [Cartographer.md#location-marker-overland](../application/Cartographer.md#location-marker-overland) | LocationMarker.svelte:settlementIcons |
| 2531 | ‚¨ú | Application/Cartographer | Location-Marker Dungeon Icons (Cave, Ruins, Mine) | hoch | Ja | #2528 | [Cartographer.md#location-marker-overland](../application/Cartographer.md#location-marker-overland) | LocationMarker.svelte:dungeonIcons |
| 2532 | ‚¨ú | Application/Cartographer | Location-Marker Landmark Icons (Tree, Peak, Tower) | mittel | Ja | #2528 | [Cartographer.md#location-marker-overland](../application/Cartographer.md#location-marker-overland) | LocationMarker.svelte:landmarkIcons |
| 2533 | ‚¨ú | Application/Cartographer | Location-Marker On-Place Behavior (Open Editor vs Link Existing) | hoch | Ja | #2528 | [Cartographer.md#location-marker-overland](../application/Cartographer.md#location-marker-overland) | LocationMarker.svelte:onPlace |
| 2534 | ‚¨ú | Application/Cartographer | Inspector Tool Component (Alle Map-Typen) | hoch | Ja | #2500, #2502 | [Cartographer.md#inspector-alle-map-typen](../application/Cartographer.md#inspector-alle-map-typen) | [neu] src/application/cartographer/tools/Inspector.svelte |
| 2535 | ‚¨ú | Application/Cartographer | Inspector Terrain Display (Type, Movement Cost, Change Button) | hoch | Ja | #2534 | [Cartographer.md#inspector-alle-map-typen](../application/Cartographer.md#inspector-alle-map-typen) | Inspector.svelte:terrainDisplay |
| 2536 | ‚¨ú | Application/Cartographer | Inspector Elevation Display (Height, Slope, Edit Button) | hoch | Ja | #2534 | [Cartographer.md#inspector-alle-map-typen](../application/Cartographer.md#inspector-alle-map-typen) | Inspector.svelte:elevationDisplay |
| 2537 | ‚¨ú | Application/Cartographer | Inspector Climate Display (Base Temp, Override, Precipitation, Edit Button) | mittel | Nein | #2534 | [Cartographer.md#inspector-alle-map-typen](../application/Cartographer.md#inspector-alle-map-typen) | Inspector.svelte:climateDisplay |
| 2538 | ‚¨ú | Application/Cartographer | Inspector Features Display (Liste mit Add/Remove Buttons) | hoch | Ja | #2534 | [Cartographer.md#inspector-alle-map-typen](../application/Cartographer.md#inspector-alle-map-typen) | Inspector.svelte:featuresDisplay |
| 2539 | ‚¨ú | Application/Cartographer | Inspector Locations Display (POIs auf Tile mit Details-Link) | hoch | Ja | #2534 | [Cartographer.md#inspector-alle-map-typen](../application/Cartographer.md#inspector-alle-map-typen) | Inspector.svelte:locationsDisplay |
| 2540 | ‚¨ú | Application/Cartographer | Inspector Factions Display (Fraktions-Pr√§senz mit %-Werten) | niedrig | Nein | #2534 | [Cartographer.md#inspector-alle-map-typen](../application/Cartographer.md#inspector-alle-map-typen) | Inspector.svelte:factionsDisplay |
| 2541 | ‚¨ú | Application/Cartographer | Wall-Tool Component (Dungeon) | hoch | Ja | #2500, #2502, #2503 | [Cartographer.md#wall-tool-dungeon](../application/Cartographer.md#wall-tool-dungeon) | [neu] src/application/cartographer/tools/WallTool.svelte |
| 2542 | ‚¨ú | Application/Cartographer | Wall-Tool Type Selection (Stone, Wood, Bars, Force, Illusion) | hoch | Ja | #2541 | [Cartographer.md#wall-tool-dungeon](../application/Cartographer.md#wall-tool-dungeon) | WallTool.svelte:wallType |
| 2543 | ‚¨ú | Application/Cartographer | Wall-Tool Draw Mode (Line, Rectangle, Free) | hoch | Ja | #2541 | [Cartographer.md#wall-tool-dungeon](../application/Cartographer.md#wall-tool-dungeon) | WallTool.svelte:drawMode |
| 2544 | ‚¨ú | Application/Cartographer | Wall-Tool Properties (HP, AC, Blocks Vision/Movement) | hoch | Ja | #2541 | [Cartographer.md#wall-tool-dungeon](../application/Cartographer.md#wall-tool-dungeon) | WallTool.svelte:wallProperties |
| 2545 | ‚¨ú | Application/Cartographer | Wall-Tool Erase Mode | hoch | Ja | #2541 | [Cartographer.md#wall-tool-dungeon](../application/Cartographer.md#wall-tool-dungeon) | WallTool.svelte:eraseMode |
| 2546 | ‚¨ú | Application/Cartographer | Door-Tool Component (Dungeon) | hoch | Ja | #2500, #2502, #2503 | [Cartographer.md#door-tool-dungeon](../application/Cartographer.md#door-tool-dungeon) | [neu] src/application/cartographer/tools/DoorTool.svelte |
| 2547 | ‚¨ú | Application/Cartographer | Door-Tool Type Selection (Simple, Double, Portcullis, Secret, Trapdoor) | hoch | Ja | #2546 | [Cartographer.md#door-tool-dungeon](../application/Cartographer.md#door-tool-dungeon) | DoorTool.svelte:doorType |
| 2548 | ‚¨ú | Application/Cartographer | Door-Tool State Selection (Closed, Open, Locked, Stuck, Barred) | hoch | Ja | #2546 | [Cartographer.md#door-tool-dungeon](../application/Cartographer.md#door-tool-dungeon) | DoorTool.svelte:doorState |
| 2549 | ‚¨ú | Application/Cartographer | Door-Tool Lock Properties (DC, Key, Locked Toggle) | hoch | Ja | #2546 | [Cartographer.md#door-tool-dungeon](../application/Cartographer.md#door-tool-dungeon) | DoorTool.svelte:lockProperties |
| 2550 | ‚¨ú | Application/Cartographer | Door-Tool HP/AC Properties | mittel | Ja | #2546 | [Cartographer.md#door-tool-dungeon](../application/Cartographer.md#door-tool-dungeon) | DoorTool.svelte:doorProperties |
| 2551 | ‚¨ú | Application/Cartographer | Trap-Tool Component (Dungeon) | niedrig | Nein | #2500, #2502, #2503 | [Cartographer.md#trap-tool-dungeon](../application/Cartographer.md#trap-tool-dungeon) | [neu] src/application/cartographer/tools/TrapTool.svelte |
| 2552 | ‚¨ú | Application/Cartographer | Trap-Tool Type Selection (Pit, Poison, Magic, Arrow, Fire, Mechanical) | niedrig | Nein | #2551 | [Cartographer.md#trap-tool-dungeon](../application/Cartographer.md#trap-tool-dungeon) | TrapTool.svelte:trapType |
| 2553 | ‚¨ú | Application/Cartographer | Trap-Tool Detection Properties (Perception DC, Investigation DC) | niedrig | Nein | #2551 | [Cartographer.md#trap-tool-dungeon](../application/Cartographer.md#trap-tool-dungeon) | TrapTool.svelte:detectionDC |
| 2554 | ‚¨ú | Application/Cartographer | Trap-Tool Disarm Properties (DC, Tool Requirement) | niedrig | Nein | #2551 | [Cartographer.md#trap-tool-dungeon](../application/Cartographer.md#trap-tool-dungeon) | TrapTool.svelte:disarmProperties |
| 2555 | ‚¨ú | Application/Cartographer | Trap-Tool Effect Properties (Damage, Save, Half-on-Save) | niedrig | Nein | #2551 | [Cartographer.md#trap-tool-dungeon](../application/Cartographer.md#trap-tool-dungeon) | TrapTool.svelte:effectProperties |
| 2556 | ‚¨ú | Application/Cartographer | Trap-Tool Trigger Selection (Pressure Plate, Tripwire, Proximity, Manual) | niedrig | Nein | #2551 | [Cartographer.md#trap-tool-dungeon](../application/Cartographer.md#trap-tool-dungeon) | TrapTool.svelte:trapTrigger |
| 2557 | ‚¨ú | Application/Cartographer | Trap-Tool Visibility Toggle (Hidden, Visible, GM Only) | niedrig | Nein | #2551 | [Cartographer.md#trap-tool-dungeon](../application/Cartographer.md#trap-tool-dungeon) | TrapTool.svelte:visibility |
| 2558 | ‚¨ú | Application/Cartographer | Token-Placer Tool Component (Dungeon) | hoch | Ja | #2500, #2502, #2503 | [Cartographer.md#token-placer-dungeon](../application/Cartographer.md#token-placer-dungeon) | [neu] src/application/cartographer/tools/TokenPlacer.svelte |
| 2559 | ‚¨ú | Application/Cartographer | Token-Placer Type Selection (Creature, Object, Light) | hoch | Ja | #2558 | [Cartographer.md#token-placer-dungeon](../application/Cartographer.md#token-placer-dungeon) | TokenPlacer.svelte:tokenType |
| 2560 | ‚¨ú | Application/Cartographer | Token-Placer Creature Search (mit Recent List und Library Browse) | hoch | Ja | #2558 | [Cartographer.md#token-placer-dungeon](../application/Cartographer.md#token-placer-dungeon) | TokenPlacer.svelte:creatureSearch |
| 2561 | ‚¨ú | Application/Cartographer | Token-Placer Size Selection (T/S/M/L/H/G) | hoch | Ja | #2558 | [Cartographer.md#token-placer-dungeon](../application/Cartographer.md#token-placer-dungeon) | TokenPlacer.svelte:sizeSelection |
| 2562 | ‚¨ú | Application/Cartographer | Token-Placer Object Icons (Chest, Chair, Bed, Books, Potions, Shelf) | mittel | Nein | #2558 | [Cartographer.md#token-placer-dungeon](../application/Cartographer.md#token-placer-dungeon) | TokenPlacer.svelte:objectIcons |
| 2563 | ‚¨ú | Application/Cartographer | Token-Placer Light Source (Source, Radius, Color, Flicker) | mittel | Nein | #2558 | [Cartographer.md#token-placer-dungeon](../application/Cartographer.md#token-placer-dungeon) | TokenPlacer.svelte:lightSource |
| 2564 | ‚¨ú | Application/Cartographer | Layer-Control Panel Component | hoch | Ja | #2500 | [Cartographer.md#layer-control](../application/Cartographer.md#layer-control) | [neu] src/application/cartographer/panels/LayerControl.svelte |
| 2565 | ‚¨ú | Application/Cartographer | Layer-Control Overland Layers (Terrain, Elevation, Climate, Faction, Features, Locations, Grid) | hoch | Ja | #2564 | [Cartographer.md#layer-control](../application/Cartographer.md#layer-control) | LayerControl.svelte:overlandLayers |
| 2566 | ‚¨ú | Application/Cartographer | Layer-Control Dungeon Layers (Walls, Doors, Traps, Tokens, Light Sources, Grid) | hoch | Ja | #2564 | [Cartographer.md#layer-control](../application/Cartographer.md#layer-control) | LayerControl.svelte:dungeonLayers |
| 2567 | ‚¨ú | Application/Cartographer | Layer-Control Visibility Toggle (Eye Icon) | hoch | Ja | #2564 | [Cartographer.md#layer-control](../application/Cartographer.md#layer-control) | LayerControl.svelte:visibilityToggle |
| 2568 | ‚¨ú | Application/Cartographer | Layer-Control Lock Toggle (Lock Icon) | mittel | Ja | #2564 | [Cartographer.md#layer-control](../application/Cartographer.md#layer-control) | LayerControl.svelte:lockToggle |
| 2569 | ‚¨ú | Application/Cartographer | Layer-Control Opacity Slider | mittel | Nein | #2564 | [Cartographer.md#layer-control](../application/Cartographer.md#layer-control) | LayerControl.svelte:opacitySlider |
| 2570 | ‚¨ú | Application/Cartographer | Layer-Control Show All / Hide All Buttons | niedrig | Nein | #2564 | [Cartographer.md#layer-control](../application/Cartographer.md#layer-control) | LayerControl.svelte:showHideAll |
| 2571 | ‚¨ú | Application/Cartographer | Keyboard-Shortcuts Number Keys (1-6 f√ºr Tool-Wechsel) | mittel | Nein | #2502 | [Cartographer.md#keyboard-shortcuts](../application/Cartographer.md#keyboard-shortcuts) | viewmodel.ts:handleKeyPress |
| 2572 | ‚¨ú | Application/Cartographer | Keyboard-Shortcuts Brush Size ([ / ] f√ºr -/+) | mittel | Nein | #2502 | [Cartographer.md#keyboard-shortcuts](../application/Cartographer.md#keyboard-shortcuts) | viewmodel.ts:handleKeyPress |
| 2573 | ‚¨ú | Application/Cartographer | Keyboard-Shortcuts Tool Letters (B=Terrain, E=Elevation, C=Climate, F=Feature, L=Location, I=Inspector) | mittel | Nein | #2502 | [Cartographer.md#keyboard-shortcuts](../application/Cartographer.md#keyboard-shortcuts) | viewmodel.ts:handleKeyPress |
| 2574 | ‚¨ú | Application/Cartographer | Keyboard-Shortcuts Undo/Redo (Ctrl+Z, Ctrl+Y) | hoch | Ja | #2506 | [Cartographer.md#keyboard-shortcuts](../application/Cartographer.md#keyboard-shortcuts) | viewmodel.ts:handleKeyPress |
| 2575 | ‚¨ú | Application/Cartographer | Keyboard-Shortcuts Save (Ctrl+S) | hoch | Ja | #2500 | [Cartographer.md#keyboard-shortcuts](../application/Cartographer.md#keyboard-shortcuts) | viewmodel.ts:handleKeyPress |
| 2576 | ‚¨ú | Application/Cartographer | Keyboard-Shortcuts Pan (Space Hold) | mittel | Ja | #2504 | [Cartographer.md#keyboard-shortcuts](../application/Cartographer.md#keyboard-shortcuts) | viewmodel.ts:handleKeyPress |
| 2577 | ‚¨ú | Application/Cartographer | Keyboard-Shortcuts Zoom (Scroll) | hoch | Ja | #2504 | [Cartographer.md#keyboard-shortcuts](../application/Cartographer.md#keyboard-shortcuts) | view.ts:handleScroll |
| 2578 | ‚¨ú | Application/Cartographer | Map Canvas Rendering Component (Hex/Grid View) | hoch | Ja | #2500 | [Cartographer.md#layout-wireframe](../application/Cartographer.md#layout-wireframe) | [neu] src/application/cartographer/canvas/MapCanvas.svelte |
| 2579 | ‚¨ú | Application/Cartographer | Tool Options Panel Container (Kontextabh√§ngig je nach activeTool) | hoch | Ja | #2500, #2502 | [Cartographer.md#layout-wireframe](../application/Cartographer.md#layout-wireframe) | [neu] src/application/cartographer/panels/ToolOptionsPanel.svelte |
| 2580 | ‚¨ú | Application/Cartographer | Sidebar Collapse/Expand Toggle | mittel | Nein | #2501 | [Cartographer.md#state-management](../application/Cartographer.md#state-management) | viewmodel.ts:sidebarCollapsed |
| 2581 | ‚¨ú | Application/Cartographer | Inspector Open/Close Toggle | mittel | Nein | #2501 | [Cartographer.md#state-management](../application/Cartographer.md#state-management) | viewmodel.ts:inspectorOpen |
| 2599 | ‚¨ú | Application/Library | LibraryView Container (Obsidian ItemView) | hoch | Ja | #2621, #2706 | [Application.md#view-factory-pattern](Application.md#view-factory-pattern) | [neu] src/application/library/view.ts:LibraryView, [neu] src/application/library/index.ts:createLibraryViewFactory() |
| 2600 | ‚¨ú | Application/Library | Tab-Navigation Component mit Entity-Type Tabs | hoch | Ja | #2801, #2599 | [Library.md#tab-navigation](../application/Library.md#tab-navigation) | [neu] src/application/library/TabNavigation.svelte, [neu] src/application/library/types.ts:LibraryState |
| 2601 | ‚¨ú | Application/Library | Entity-Tab Icons und Badges (Count Display) | hoch | Ja | #2600, #2800 | [Library.md#entity-tabs](../application/Library.md#entity-tabs) | [√§ndern] src/application/library/TabNavigation.svelte:renderTabs(), [nutzt] src/core/types/entity-registry.port.ts:EntityRegistryPort.count() |
| 2602 | ‚¨ú | Application/Library | Tab Overflow-Menu fuer viele Entity-Typen | mittel | Nein | #2600 | [Library.md#tab-navigation](../application/Library.md#tab-navigation) | [√§ndern] src/application/library/TabNavigation.svelte:renderOverflowMenu() |
| 2603 | ‚¨ú | Application/Library | Browse-View Component (List-Ansicht) | hoch | Ja | #2599, #2600, #2621 | [Library.md#browse-view](../application/Library.md#browse-view) | [neu] src/application/library/BrowseView.svelte, [neu] src/application/library/components/EntityList.svelte |
| 2604 | ‚¨ú | Application/Library | Search-Bar mit Echtzeit-Filterung | hoch | Ja | #2603, #2621 | [Library.md#filter-controls](../application/Library.md#filter-controls) | [√§ndern] src/application/library/BrowseView.svelte:renderSearchBar(), [√§ndern] src/application/library/viewmodel.ts:filterEntities() |
| 2605 | ‚¨ú | Application/Library | Quick Filters (Entity-spezifisch: CR, Type, Habitat, Rarity, etc.) | hoch | Ja | #2603, #2621 | [Library.md#filter-controls](../application/Library.md#filter-controls) | [√§ndern] src/application/library/BrowseView.svelte:renderQuickFilters(), [√§ndern] src/application/library/viewmodel.ts:applyFilters() |
| 2606 | ‚¨ú | Application/Library | Sort Controls (Name, CR, Type, Custom Fields) | hoch | Ja | #2603, #2621 | [Library.md#filter-controls](../application/Library.md#filter-controls) | [√§ndern] src/application/library/BrowseView.svelte:renderSortControls(), [√§ndern] src/application/library/viewmodel.ts:sortEntities() |
| 2607 | ‚¨ú | Application/Library | Entity-Card Component (Creature) | hoch | Ja | #2603, #1200 | [Library.md#entity-cards](../application/Library.md#entity-cards) | [neu] src/application/library/cards/CreatureCard.svelte, [nutzt] src/core/schemas/creature.ts:CreatureDefinition |
| 2608 | ‚¨ú | Application/Library | Entity-Card Component (Item) | hoch | Ja | #2603, #1600 | [Library.md#entity-cards](../application/Library.md#entity-cards) | [neu] src/application/library/cards/ItemCard.svelte, [nutzt] src/core/schemas/item.ts:Item |
| 2609 | ‚¨ú | Application/Library | Entity-Card Component (Spell) | hoch | Ja | #2603 | [Library.md#entity-cards](../application/Library.md#entity-cards) | [neu] src/application/library/cards/SpellCard.svelte, [neu] src/core/schemas/spell.ts:Spell (Post-MVP) |
| 2610 | ‚¨ú | Application/Library | Entity-Card Component (Location) | hoch | Ja | #2603, #1500 | [Library.md#entity-cards](../application/Library.md#entity-cards) | [neu] src/application/library/cards/LocationCard.svelte, [nutzt] src/core/schemas/poi.ts:POI |
| 2611 | ‚¨ú | Application/Library | Entity-Card Component (Generisch fuer andere Entity-Typen) | mittel | Ja | #2603 | [Library.md#entity-cards](../application/Library.md#entity-cards) | [neu] src/application/library/cards/GenericCard.svelte |
| 2612 | ‚¨ú | Application/Library | Card-Actions (Edit, Duplicate, Delete Buttons) | hoch | Ja | #2607, #2608, #2609, #2610, #2611, #2621 | [Library.md#entity-cards](../application/Library.md#entity-cards) | [√§ndern] src/application/library/cards/*.svelte:renderActions(), [nutzt] src/application/library/viewmodel.ts:editEntity(), deleteEntity(), duplicateEntity() |
| 2613 | ‚¨ú | Application/Library | Create/Edit Modal Component (Generisch) | hoch | Ja | #2621 | [Library.md#create-edit-modal](../application/Library.md#create-edit-modal) | [neu] src/application/library/EntityModal.svelte, [neu] src/application/library/components/ModalHeader.svelte |
| 2614 | ‚¨ú | Application/Library | Modal Tab-Navigation (Basic Info, Stats, Abilities, etc.) | hoch | Ja | #2613 | [Library.md#modal-navigation](../application/Library.md#modal-navigation) | [√§ndern] src/application/library/EntityModal.svelte:renderTabs(), [neu] src/application/library/types.ts:ModalSection |
| 2615 | ‚¨ú | Application/Library | Modal Section-States (Unbesucht, Valid, Invalid, Aktiv) | mittel | Ja | #2614, #2617 | [Library.md#modal-navigation](../application/Library.md#modal-navigation) | [√§ndern] src/application/library/EntityModal.svelte:updateSectionState(), [√§ndern] src/application/library/viewmodel.ts:validateSection() |
| 2616 | ‚¨ú | Application/Library | Modal Form Generation aus create-spec.ts | hoch | Ja | #2613 | [Library.md#create-edit-modal](../application/Library.md#create-edit-modal) | [√§ndern] src/application/library/EntityModal.svelte:renderForm(), [neu] src/application/library/form-generator.ts:generateFormFields() |
| 2617 | ‚¨ú | Application/Library | Modal Validation (Required Fields, Type Checks) | hoch | Ja | #2616, #2803 | [Library.md#create-edit-modal](../application/Library.md#create-edit-modal) | [√§ndern] src/application/library/EntityModal.svelte:validateForm(), [nutzt] Zod-Schemas via EntityRegistry |
| 2618 | ‚¨ú | Application/Library | Modal Save Actions (Save, Save & New) | hoch | Ja | #2613, #2621, #2802 | [Library.md#create-edit-modal](../application/Library.md#create-edit-modal) | [√§ndern] src/application/library/EntityModal.svelte:handleSave(), [nutzt] src/application/library/viewmodel.ts:saveEntity() |
| 2619 | ‚¨ú | Application/Library | Delete Confirmation Dialog | hoch | Ja | #2612, #2810 | [Library.md#prioritaet](../application/Library.md#prioritaet) | [neu] src/application/library/DeleteConfirmDialog.svelte, [nutzt] EntityRegistry.delete() mit Referenz-Pr√ºfung |
| 2620 | ‚¨ú | Application/Library | Keyboard-Shortcuts (Ctrl+N, Ctrl+F, Enter, Delete, etc.) | mittel | Nein | #2603, #2621 | [Library.md#keyboard-shortcuts](../application/Library.md#keyboard-shortcuts) | [√§ndern] src/application/library/viewmodel.ts:handleKeyPress(), [√§ndern] src/application/library/view.ts:registerDomEvent() |
| 2621 | ‚¨ú | Application/Library | LibraryViewModel State Management | hoch | Ja | #2800, #2801, #2802 | [Library.md#state-management](../application/Library.md#state-management) | [neu] src/application/library/viewmodel.ts, [neu] src/application/library/types.ts:LibraryState, [nutzt] EntityRegistryPort |
| 2622 | ‚¨ú | Application/Library | EntityRegistry Integration (getConfig, createSpec, browseConfig) | hoch | Ja | #2621, #2800, #2801 | [Library.md#state-management](../application/Library.md#state-management) | [√§ndern] src/application/library/viewmodel.ts:loadEntities(), [nutzt] EntityRegistryPort.getAll(), query() |
| 2623 | ‚¨ú | Application/Library | Grid-View Component (Alternative Ansicht) | niedrig | Nein | #2603 | [Library.md#grid-view-optional](../application/Library.md#grid-view-optional) | [neu] src/application/library/GridView.svelte |
| 2624 | ‚¨ú | Application/Library | Tree-View Component (Locations Hierarchie) | mittel | Nein | #2603, #1500 | [Library.md#tree-view-locations](../application/Library.md#tree-view-locations) | [neu] src/application/library/TreeView.svelte, [nutzt] POI.parentId f√ºr Hierarchie |
| 2625 | ‚¨ú | Application/Library | Bulk-Actions (Multi-Select und Batch-Delete) | niedrig | Nein | #2603, #2621 | [Library.md#prioritaet](../application/Library.md#prioritaet) | [√§ndern] src/application/library/BrowseView.svelte:renderBulkActions(), [√§ndern] src/application/library/viewmodel.ts:deleteMultiple() |
| 2626 | ‚¨ú | Application/Library | Import/Export Funktionalitaet | niedrig | Nein | #2621, #2802 | [Library.md#prioritaet](../application/Library.md#prioritaet) | [√§ndern] src/application/library/viewmodel.ts:exportEntities(), importEntities(), [nutzt] EntityRegistry save/delete |
| 2700 | ‚úÖ | Core | Result<T, E> Type und API (ok, err, isOk, isErr, unwrap, unwrapOr, map, mapErr) | hoch | Ja | - | [Core.md#resultoption-types](Core.md#resultoption-types) | src/core/types/result.ts:ok(), err(), isOk(), isErr(), unwrap(), unwrapOr(), map(), mapErr(), flatMap() |
| 2701 | ‚úÖ | Core | Option<T> Type und API (some, none, isSome, isNone, getOrElse, fromNullable) | hoch | Ja | - | [Core.md#resultoption-types](Core.md#resultoption-types) | src/core/types/option.ts:some(), none(), isSome(), isNone(), getOrElse(), fromNullable(), unwrap(), map(), flatMap(), filter() |
| 2702 | ‚úÖ | Core | Branded Types: EntityId<T>, Timestamp, TimeSegment | hoch | Ja | - | [Core.md#branded-types](Core.md#branded-types) | src/core/types/common.ts:EntityId, Timestamp, TimeSegment, AppError |
| 2703 | ‚úÖ | Core | Entity Type Union (creature, character, npc, faction, item, etc.) | hoch | Ja | - | [Core.md#entitytype-union](Core.md#entitytype-union) | src/core/types/common.ts:EntityType (18 types: creature, character, npc, faction, item, map, location, poi, maplink, terrain, quest, encounter, shop, calendar, journal, worldevent, track, party) |
| 2704 | ‚úÖ | Core | BaseEntity und TrackedEntity Interfaces | hoch | Ja | #2702 | [Core.md#base-interfaces](Core.md#base-interfaces) | src/core/types/common.ts:BaseEntity, TrackedEntity |
| 2705 | ‚úÖ | Core | Helper Functions (createEntityId, toEntityId, now, toTimestamp, entityIdSchema) | hoch | Ja | #2702 | [Core.md#helpers](Core.md#helpers) | src/core/types/common.ts:createEntityId(), toEntityId(), now(), toTimestamp(), createError(); src/core/schemas/common.ts:entityIdSchema(), timestampSchema, entityTypeSchema, timeSegmentSchema, appErrorSchema |
| 2706 | ‚úÖ | Core | DomainEvent Interface mit correlationId | hoch | Ja | #2702 | [Core.md#event-struktur](Core.md#event-struktur) | src/core/events/domain-events.ts:DomainEvent, createEvent(), newCorrelationId() |
| 2707 | ‚úÖ | Core | hex-math Utils (hexDistance, coordToKey, hexNeighbors, hexesInRadius) | hoch | Ja | - | [Core.md#allgemeine-module](Core.md#allgemeine-module) | src/core/utils/hex-math.ts:hexDistance(), coordToKey(), hexNeighbors(), hexesInRadius(), hexRing(), hexAdjacent(), axialToPixel(), pixelToAxial() |
| 2708 | ‚úÖ | Core | time-math Utils (addDuration, getTimeOfDay, getCurrentSeason, getMoonPhase) | hoch | Ja | #2702 | [Core.md#allgemeine-module](Core.md#allgemeine-module) | src/core/utils/time-math.ts:getTimeSegment(), getTimeOfDay(), addDuration(), diffInHours(), getCurrentSeason(), getMoonPhase() |
| 2709 | ‚úÖ | Core | creature-utils (parseCR, calculateXP, getEncounterMultiplier, isValidCRRange) | hoch | Ja | - | [Core.md#entity-spezifische-utils](Core.md#entity-spezifische-utils) | src/core/utils/creature-utils.ts:parseCR(), calculateXP(), getEncounterMultiplier(), isValidCRRange(), calculateEffectiveXP() |
| 2710 | ‚¨ú | Core | item-utils (calculateStackWeight, canStack, getItemCategory) | hoch | Ja | - | [Core.md#entity-spezifische-utils](Core.md#entity-spezifische-utils) | [neu] src/core/utils/item-utils.ts:calculateStackWeight(), canStack(), getItemCategory() |
| 2711 | ‚¨ú | Core | npc-utils (calculateReactionModifier, getDisposition) | hoch | Ja | - | [Core.md#entity-spezifische-utils](Core.md#entity-spezifische-utils) | [neu] src/core/utils/npc-utils.ts:calculateReactionModifier(), getDisposition() |
| 2712 | ‚¨ú | Core | faction-utils (calculateRelationChange, getStandingLabel) | hoch | Ja | - | [Core.md#entity-spezifische-utils](Core.md#entity-spezifische-utils) | [neu] src/core/utils/faction-utils.ts:calculateRelationChange(), getStandingLabel() |
| 2713 | ‚¨ú | Core | terrain-utils (getMovementCost, getNativeCreatures, matchEncounterTerrain) | mittel | Ja | - | [Core.md#entity-spezifische-utils](Core.md#entity-spezifische-utils) | [neu] src/core/utils/terrain-utils.ts:getMovementCost(), getNativeCreatures(), matchEncounterTerrain() |
| 2714 | ‚¨ú | Core | shop-utils (calculateBuyPrice, calculateSellPrice, getInventoryValue, quickBuy, quickSell) | mittel | Nein | - | [Core.md#entity-spezifische-utils](Core.md#entity-spezifische-utils) | [neu] src/core/utils/shop-utils.ts:calculateBuyPrice(), calculateSellPrice(), getInventoryValue(), quickBuy(), quickSell() |
| 2715 | ‚¨ú | Core | spell-utils (validateSpellSlot, getComponentsRequired, calculateSpellDC) | niedrig | Nein | - | [Core.md#post-mvp](Core.md#post-mvp) | [neu] src/core/utils/spell-utils.ts:validateSpellSlot(), getComponentsRequired(), calculateSpellDC() |
| 2716 | ‚úÖ | Core | inventory-utils (addItemToCharacter, removeItemFromCharacter, sumInventoryWeight, countRations, consumeRations) | hoch | Ja | - | [Core.md#entity-spezifische-utils](Core.md#entity-spezifische-utils) | src/core/utils/inventory-utils.ts:addItemToCharacter(), removeItemFromCharacter(), addGoldToCharacter(), removeGoldFromCharacter(), transferItem(), sumInventoryWeight(), countRations(), consumeRations() |
| 2717 | ‚úÖ | Core | loot-utils (distributeCurrencyEvenly, distributeToCharacter, quickAssign, trackMagicItemReceived) | hoch | Ja | - | [Core.md#entity-spezifische-utils](Core.md#entity-spezifische-utils) | src/core/utils/loot-utils.ts:distributeCurrencyEvenly(), distributeToCharacter(), quickAssign(), trackMagicItemReceived(), getMagicItemTracking(), getTotalMagicItemsReceived() |
| 2718 | üî∂ | Core | encounter-utils (resolveCreatureSlots, calculateEncounterXP, checkTriggers) | hoch | Ja | - | [Core.md#entity-spezifische-utils](Core.md#entity-spezifische-utils) | src/features/encounter/encounter-utils.ts:filterEligibleCreatures(), calculateCreatureWeight(), deriveEncounterType(), validateVariety() [√§ndern - extrahiere nach src/core/utils/encounter-utils.ts]; [neu] src/core/utils/encounter-utils.ts:resolveCreatureSlots(), checkTriggers() |
| 2719 | ‚úÖ | Core/EventBus | EventBus Interface mit publish(), subscribe(), subscribeAll(), clear() | hoch | Ja | - | [EventBus.md#eventbus-interface](EventBus.md#eventbus-interface) | src/core/events/event-bus.ts:EventBus, publish(), subscribe(), subscribeAll(), subscriberCount(), clear(), clearSticky(), request() |
| 2720 | ‚úÖ | Core/EventBus | Request/Response API: request() Methode mit correlationId-Matching | hoch | Ja | #2719 | [EventBus.md#requestresponse-f√ºr-workflows](EventBus.md#requestresponse-f√ºr-workflows) | src/core/events/event-bus.ts:request() (Zeilen ~100-140) |
| 2721 | ‚úÖ | Core/EventBus | TimeoutError Klasse f√ºr request() Timeouts | hoch | Ja | #2720 | [EventBus.md#timeout-verhalten](EventBus.md#timeout-verhalten) | src/core/events/timeout-error.ts:TimeoutError |
| 2722 | ‚úÖ | Core/EventBus | Sticky Events: publish({sticky}), subscribe({replay}), clearSticky() | hoch | Ja | #2719 | [EventBus.md#sticky-events](EventBus.md#sticky-events) | src/core/events/event-bus.ts:PublishOptions, SubscribeOptions, stickyEvents Map, clearSticky() |
| 2723 | ‚úÖ | Core/EventBus | EventTypes Konstanten-Objekt (Single Source of Truth f√ºr Event-Namen) | hoch | Ja | #2706 | [EventBus.md#event-type-constants](EventBus.md#event-type-constants) | src/core/events/domain-events.ts:EventTypes (time:*, party:*, travel:*, encounter:*, combat:*, environment:*, loot:*, quest:*) |
| 2724 | ‚úÖ | Core/EventBus | Event Payload Interfaces f√ºr alle Event-Typen | hoch | Ja | #2723 | [EventBus.md#type-safe-events](EventBus.md#type-safe-events) | src/core/events/domain-events.ts:TimeAdvanceRequestedPayload, TravelStartRequestedPayload, EncounterGeneratedPayload, CombatStartedPayload, etc. |
| 2725 | ‚úÖ | Core/EventBus | EventPayloadMap f√ºr type-safe Event-Handling | hoch | Ja | #2723, #2724 | [EventBus.md#type-safe-events](EventBus.md#type-safe-events) | src/core/events/domain-events.ts:EventPayloadMap |
| 2726 | ‚úÖ | Core/EventBus | Event Factory Functions: createEvent(), newCorrelationId() | hoch | Ja | #2706, #2723 | [EventBus.md#events-publizieren](EventBus.md#events-publizieren) | src/core/events/domain-events.ts:createEvent(), newCorrelationId() |
| 2800 | ‚¨ú | Core/EntityRegistry | EntityRegistryPort Interface (get, getAll, query, save, delete, exists, count) | hoch | Ja | #2703 | [EntityRegistry.md#port-interface](EntityRegistry.md#port-interface) | [neu] src/core/types/entity-registry.port.ts:EntityRegistryPort, Entity<T>, EntityTypeMap |
| 2801 | üî∂ | Core/EntityRegistry | EntityTypeMap mit allen 14 MVP Entity-Typen (creature, character, npc, faction, item, map, poi, terrain, quest, encounter, shop, calendar, journal, worldevent, track) | hoch | Ja | #2703, #2800 | [EntityRegistry.md#entity-type-mapping](EntityRegistry.md#entity-type-mapping) | src/core/types/common.ts:EntityType (18 Typen inkl. location, maplink, party), src/core/schemas/common.ts:entityTypeSchema - Mismatch: Spec sagt 14 MVP-Typen, Code hat 18 |
| 2802 | ‚¨ú | Core/EntityRegistry | VaultEntityRegistryAdapter Implementation (JSON-File-basiert mit Vault/{plugin}/data/{entityType}/{id}.json) | hoch | Ja | #2800, #2801 | [EntityRegistry.md#storage](EntityRegistry.md#storage) | [neu] src/infrastructure/vault/entity-registry.adapter.ts:createVaultEntityRegistryAdapter(), EntityCache, loadEntityType(), saveEntity(), deleteEntity() - Referenz: src/infrastructure/vault/terrain-registry.ts (√§hnliches Pattern) |
| 2803 | ‚¨ú | Core/EntityRegistry | Zod-Validierung bei save() mit getSchemaForType() | hoch | Ja | #2802 | [EntityRegistry.md#validierung](EntityRegistry.md#validierung) | src/infrastructure/vault/entity-registry.adapter.ts:save() [√§ndern], [neu] src/core/schemas/index.ts:getSchemaForType() - nutzt existierende Schemas aus src/core/schemas/ |
| 2804 | ‚¨ú | Core/EntityRegistry | Predicate-basierte query() Methode (Lineare Suche f√ºr MVP) | hoch | Ja | #2802 | [EntityRegistry.md#querying](EntityRegistry.md#querying) | src/infrastructure/vault/entity-registry.adapter.ts:query() [√§ndern] |
| 2805 | ‚¨ú | Core/EntityRegistry | Unbounded In-Memory Cache mit Map pro EntityType | hoch | Ja | #2802 | [EntityRegistry.md#caching-strategy](EntityRegistry.md#caching-strategy) | src/infrastructure/vault/entity-registry.adapter.ts:EntityCache [neu - private interface], ensureCacheLoaded() [neu] |
| 2806 | ‚¨ú | Core/EntityRegistry | Lazy Loading: Cache-Population bei erstem Zugriff auf Entity-Typ | hoch | Ja | #2805 | [EntityRegistry.md#lifecycle](EntityRegistry.md#lifecycle) | src/infrastructure/vault/entity-registry.adapter.ts:get() [√§ndern], getAll() [√§ndern] - beide rufen ensureCacheLoaded() auf |
| 2807 | ‚¨ú | Core/EntityRegistry | File-Watcher Invalidierung bei modify/delete Events | hoch | Ja | #2805 | [EntityRegistry.md#invalidierung-via-file-watcher](EntityRegistry.md#invalidierung-via-file-watcher) | src/infrastructure/vault/entity-registry.adapter.ts:registerFileWatcher() [neu], invalidateFromPath() [neu] - Obsidian vault.on('modify'/'delete') Events |
| 2808 | ‚¨ú | Core/EntityRegistry | Pessimistisches Speichern (sofort bei save(), erst Vault dann Cache) | hoch | Ja | #2802, #2805 | [EntityRegistry.md#persistence-timing](EntityRegistry.md#persistence-timing) | src/infrastructure/vault/entity-registry.adapter.ts:save() [√§ndern] - 1. Vault write, 2. Cache update, 3. Return Result |
| 2809 | ‚¨ú | Core/EntityRegistry | Error Handling: ValidationError, NotFoundError, IOError Klassen | hoch | Ja | #2803 | [EntityRegistry.md#error-handling](EntityRegistry.md#error-handling) | [neu] src/core/types/entity-registry-errors.ts:ValidationError, NotFoundError, IOError (extends Error) |
| 2810 | ‚¨ú | Core/EntityRegistry | Entity-Deletion Cascades: Referenz-Pr√ºfung und Soft-Cascade Bereinigung | mittel | Ja | #2802 | [EntityRegistry.md#entity-deletion-cascades](EntityRegistry.md#entity-deletion-cascades) | src/infrastructure/vault/entity-registry.adapter.ts:delete() [√§ndern], checkReferences() [neu], confirmDeletionDialog() [neu - UI-Integration], cascadeCleanup() [neu] |
| 2811 | ‚¨ú | Core/EntityRegistry | Constructor Injection: Features erhalten EntityRegistryPort via Constructor | hoch | Ja | #2800, #2802 | [EntityRegistry.md#bootstrapping](EntityRegistry.md#bootstrapping) | src/main.ts:onload() [√§ndern - bootstrapFeatures()], Feature-Constructors [√§ndern - entityRegistry-Parameter hinzuf√ºgen] |
| 2815 | üî∂ | Core/EntityRegistry | CreatureDefinition vs Creature vs NPC Hierarchie dokumentieren und implementieren | hoch | Ja | #2801 | [EntityRegistry.md#creature-hierarchie-definition-vs-instanz-vs-npc](EntityRegistry.md#creature-hierarchie-definition-vs-instanz-vs-npc) | src/core/schemas/creature.ts:CreatureDefinition (existiert), [neu] src/core/types/creature.ts:Creature (Runtime-Instanz - nicht in Registry), src/core/schemas/npc.ts:NPC (existiert mit CreatureRef) - Hierarchie ist implementiert aber nicht dokumentiert |
| 2817 | ‚¨ú | Core/EntityRegistry | In-Memory-Indizes f√ºr h√§ufige Queries (Post-MVP Performance-Optimierung) | niedrig | Nein | #2804 | [EntityRegistry.md#prioritaet](EntityRegistry.md#prioritaet) | [neu] src/infrastructure/vault/entity-registry.adapter.ts:buildIndices(), IndexConfig, queryWithIndex() |
| 2818 | ‚¨ú | Core/EntityRegistry | Schema-Migration System f√ºr automatische Updates (Post-MVP) | niedrig | Nein | #2803 | [EntityRegistry.md#keine-backwards-migration](EntityRegistry.md#keine-backwards-migration) | [neu] src/infrastructure/vault/schema-migration.ts:MigrationRunner, Migration interface, migrationRegistry |
| 2900 | ‚¨ú | Features/Economy | EconomyFeaturePort Interface mit getState() (Post-MVP) | niedrig | Nein | - | [Features.md#economy-feature-post-mvp](Features.md#economy-feature-post-mvp) | [neu] src/features/economy/types.ts:EconomyFeaturePort, EconomyConfig |
| 2901 | ‚¨ú | Features/Economy | EconomyState: transactionLog, shopStock, restockTimers (Post-MVP) | niedrig | Nein | #2900 | [Features.md#economy-feature-post-mvp](Features.md#economy-feature-post-mvp) | [neu] src/features/economy/types.ts:EconomyState, Transaction, StockEntry |
| 2902 | ‚¨ú | Features/Economy | economy:transaction-completed Event (Post-MVP) | niedrig | Nein | #2900 | [Features.md#economy-feature-post-mvp](Features.md#economy-feature-post-mvp) | [neu] src/core/events/domain-events.ts:EconomyTransactionCompletedPayload |
| 2903 | ‚¨ú | Features/Economy | economy:transaction-failed Event mit Compensation Pattern (Post-MVP) | niedrig | Nein | #2900 | [Features.md#economy-feature-post-mvp](Features.md#economy-feature-post-mvp) | [neu] src/core/events/domain-events.ts:EconomyTransactionFailedPayload mit correlationId |
| 2904 | ‚¨ú | Features/Economy | EconomyOrchestrator: Automatische Transaktionen + Stock-Verwaltung (Post-MVP) | niedrig | Nein | #2901, #2902, #2903 | [Features.md#economy-feature-post-mvp](Features.md#economy-feature-post-mvp) | [neu] src/features/economy/orchestrator.ts:createEconomyOrchestrator(), processTransaction(), updateStock() |
| 2905 | ‚¨ú | Features/Factions | FactionsFeaturePort Interface mit getState() | hoch | Ja | #1400 | [Features.md#factions-feature](Features.md#factions-feature) | [neu] src/features/factions/types.ts:FactionsFeaturePort, FactionsConfig |
| 2906 | ‚¨ú | Features/Factions | FactionsState: relations, reputation, plannedActions | hoch | Ja | #2905, #1403 | [Features.md#factions-feature](Features.md#factions-feature) | [neu] src/features/factions/types.ts:FactionsState, FactionRelation, FactionAction |
| 2907 | ‚¨ú | Features/Factions | faction:relation-changed Event | hoch | Ja | #2905 | [Features.md#factions-feature](Features.md#factions-feature) | [neu] src/core/events/domain-events.ts:FactionRelationChangedPayload |
| 2908 | ‚¨ú | Features/Factions | faction:action-triggered Event | hoch | Ja | #2905 | [Features.md#factions-feature](Features.md#factions-feature) | [neu] src/core/events/domain-events.ts:FactionActionTriggeredPayload |
| 2909 | ‚¨ú | Features/Factions | FactionsOrchestrator: Relation-Tracking + Reputation-System | hoch | Ja | #2906, #2907, #2908, #1401 | [Features.md#factions-feature](Features.md#factions-feature) | [neu] src/features/factions/orchestrator.ts:createFactionsOrchestrator(), updateRelation(), calculateReputation() |
| 2910 | ‚¨ú | Architecture | Compensation Pattern: travel:failed Event bei Fehler publizieren | hoch | Ja | - | [Features.md#compensation-pattern](Features.md#compensation-pattern) | src/features/travel/travel-service.ts:startTravel() [√§ndern - publish travel:failed bei Fehler] |
| 2911 | ‚¨ú | Architecture | Compensation Pattern: encounter:failed Event bei Fehler publizieren | hoch | Ja | - | [Features.md#compensation-pattern](Features.md#compensation-pattern) | src/features/encounter/encounter-service.ts:generateEncounter() [√§ndern - publish encounter:failed bei Fehler] |
| 2912 | ‚¨ú | Architecture | Compensation Pattern: combat:failed Event bei Fehler publizieren | mittel | Ja | - | [Features.md#compensation-pattern](Features.md#compensation-pattern) | src/features/combat/combat-service.ts:startCombat() [√§ndern - publish combat:failed bei Fehler] |
| 2913 | ‚¨ú | Architecture | Compensation Pattern: map:load-failed Event bei Fehler publizieren | hoch | Ja | - | [Features.md#compensation-pattern](Features.md#compensation-pattern) | src/features/map/map-service.ts:loadMap() [√§ndern - publish map:load-failed bei Fehler] |
| 2914 | ‚¨ú | Architecture | Compensation Pattern: entity:save-failed Event bei Fehler publizieren | hoch | Ja | - | [Features.md#compensation-pattern](Features.md#compensation-pattern) | src/infrastructure/vault/entity-adapter.ts:save() [√§ndern - publish entity:save-failed bei Fehler], delete() [√§ndern] |
| 2915 | ‚¨ú | Architecture | Compensation Pattern: Alle *-failed Events m√ºssen correlationId √ºbernehmen | hoch | Ja | #2910-#2914 | [Features.md#compensation-pattern](Features.md#compensation-pattern) | src/core/events/domain-events.ts [√§ndern - add correlationId to all *-failed payloads], alle Feature-Services [√§ndern - correlationId propagieren] |
| 2916 | ‚úÖ | Application | NotificationService Interface (show() Methode mit Notification-Typ) | hoch | Ja | - | [Error-Handling.md#notification-service](Error-Handling.md#notification-service) | src/application/shared/notification-service.ts:NotificationService (existiert - interface und implementation kombiniert) |
| 2917a | ‚úÖ | Application | Notification Type: type, title, message, duration + show() Methode | hoch | Ja | #2916 | [Error-Handling.md#notification-service](Error-Handling.md#notification-service) | src/application/shared/notification-service.ts:Notification, NotificationType, NotificationAction, show() |
| 2917b | ‚¨ú | Application | NotificationAction[] Support (Custom Modal f√ºr interaktive Actions) | mittel | Nein | #2917a | [Error-Handling.md#notification-service](Error-Handling.md#notification-service) | src/application/shared/notification-service.ts:show() [√§ndern] |
| 2918 | ‚úÖ | Application | NotificationService Obsidian Implementation (nutzt Notice API) | hoch | Ja | #2916, #2917a | [Error-Handling.md#notification-service](Error-Handling.md#notification-service) | src/application/shared/notification-service.ts:createNotificationService() (existiert - nutzt Obsidian Notice) |
| 2919 | üî∂ | Application | Error-Formatter Utilities: formatMapError, formatTravelError, etc. f√ºr User-Nachrichten | hoch | Ja | #2917a | [Error-Handling.md#user-feedback](Error-Handling.md#user-feedback) | src/application/shared/notification-service.ts:formatErrorForUser(), ERROR_MESSAGES (existiert - generic formatter, fehlt aber: feature-spezifische formatMapError, formatTravelError) |
| 2920 | ‚¨ú | Architecture | Structured Logging: LogEntry Type, Logger Interface (debug, info, warn, error) | niedrig | Nein | - | [Error-Handling.md#structured-logging](Error-Handling.md#structured-logging) | [neu] src/core/utils/logger.ts:LogEntry, Logger interface, LogLevel enum |
| 2921 | ‚¨ú | Architecture | Structured Logging: Console/File Logger Implementierung | niedrig | Nein | #2920 | [Error-Handling.md#logging](Error-Handling.md#logging) | [neu] src/infrastructure/console-logger.ts:createConsoleLogger(), createFileLogger() |
| 2922 | üî∂ | Infrastructure | Vault-Struktur Verzeichnisse: SaltMarcher/data/, maps/, parties/, audio/ | hoch | Ja | - | [Infrastructure.md#vault-struktur](Infrastructure.md#vault-struktur) | Vault-Verzeichnisse (existieren teilweise - siehe vault-*-adapter.ts, fehlt aber: audio/, vollst√§ndige data/* Unterverzeichnisse) |
| 2923 | ‚úÖ | Infrastructure | Shared Vault-Utilities: JSON parse/serialize Helpers | hoch | Ja | - | [Infrastructure.md#verzeichnis-struktur](Infrastructure.md#verzeichnis-struktur) | src/infrastructure/vault/shared.ts:VaultIO, createVaultIO(), readJson(), writeJson(), listJsonFiles(), ensureDir() |
| 2924 | ‚úÖ | Infrastructure | VaultMapAdapter Implementation (MapStoragePort) | hoch | Ja | #2923 | [Infrastructure.md#adapter-pattern](Infrastructure.md#adapter-pattern) | src/infrastructure/vault/vault-map-adapter.ts:createVaultMapAdapter(), loadMap(), saveMap(), listMaps() |
| 2925 | ‚úÖ | Infrastructure | VaultTimeAdapter Implementation (TimeStoragePort) | hoch | Ja | #2923 | [Infrastructure.md#adapter-pattern](Infrastructure.md#adapter-pattern) | src/infrastructure/vault/vault-time-adapter.ts:createVaultTimeAdapter(), loadState(), saveState() |
| 2926 | ‚úÖ | Infrastructure | VaultPartyAdapter Implementation (PartyStoragePort) | hoch | Ja | #2923 | [Infrastructure.md#adapter-pattern](Infrastructure.md#adapter-pattern) | src/infrastructure/vault/vault-party-adapter.ts:createVaultPartyAdapter(), loadParty(), saveParty() |
| 2927 | ‚¨ú | Infrastructure | PresetPort Interface: get(), list(), search() f√ºr Plugin-Bundled Data | hoch | Ja | - | [Infrastructure.md#presetport-plugin-bundled-data](Infrastructure.md#presetport-plugin-bundled-data) | [neu] src/infrastructure/vault/preset-adapter.ts:PresetPort interface, BundledPresets type |
| 2928 | ‚¨ú | Infrastructure | Preset Index: Re-Exports aller bundled Presets (creatures, terrains, items) | hoch | Ja | - | [Infrastructure.md#build-prozess](Infrastructure.md#build-prozess) | [neu] presets/index.ts:bundledPresets export |
| 2929 | ‚¨ú | Infrastructure | PresetAdapter Implementation: Phase 1 nur Plugin-Bundled (readonly) | hoch | Ja | #2927, #2928 | [Infrastructure.md#phase-1-nur-plugin-bundled](Infrastructure.md#phase-1-nur-plugin-bundled) | [neu] src/infrastructure/vault/preset-adapter.ts:createPresetAdapter(), get(), list(), search() |
| 2930 | ‚¨ú | Infrastructure | File-Watcher Registration f√ºr EntityRegistry (SaltMarcher/data/{entityType}/*.json) | mittel | Nein | #2802 | [Infrastructure.md#file-watcher-integration](Infrastructure.md#file-watcher-integration) | src/main.ts:onload() [√§ndern - registerEvent() f√ºr vault.on('modify'/'delete')] |
| 2931 | ‚¨ú | Infrastructure | File-Watcher Registration f√ºr Map-Tiles (SaltMarcher/maps/{mapId}/tiles.json) | mittel | Nein | #2924 | [Infrastructure.md#file-watcher-integration](Infrastructure.md#file-watcher-integration) | src/main.ts:onload() [√§ndern - registerEvent() f√ºr vault.on('modify')] |
| 2932 | ‚¨ú | Infrastructure | ResumableStateEnvelope Schema: version, savedAt, featureName, data | mittel | Ja | - | [Infrastructure.md#resumable-state-schema](Infrastructure.md#resumable-state-schema) | [neu] src/core/schemas/resumable-state.ts:ResumableStateEnvelopeSchema, ResumableStateEnvelope<T> type |
| 2933 | ‚¨ú | Infrastructure | ResumableFeature Interface: serialize(), restore(), resumeEnabled | mittel | Ja | #2932 | [Infrastructure.md#resumable-state-optional](Infrastructure.md#resumable-state-optional) | [neu] src/features/types.ts:ResumableFeature interface |
| 2934 | ‚¨ú | Infrastructure | Resumable State Version-Mismatch Handling: Console-Warning und State verwerfen | mittel | Ja | #2932, #2933 | [Infrastructure.md#migration-strategie-mvp](Infrastructure.md#migration-strategie-mvp) | src/main.ts:onload() [√§ndern - in restore() Version pr√ºfen und bei Mismatch Warning + fresh start], src/features/travel/travel-service.ts:restore() [√§ndern] |
| 2935 | ‚¨ú | Infrastructure | Travel ResumableState: routeInProgress, currentTileIndex, partyId | mittel | Ja | #2933 | [Infrastructure.md#resumable-state-schema](Infrastructure.md#resumable-state-schema) | src/features/travel/types.ts:TravelResumableState [neu], TravelService:serialize(), restore() [√§ndern] |
| 2936 | ‚¨ú | Infrastructure | MockVault Utility f√ºr Integration-Tests (createMockVault mit file map) | mittel | Nein | - | [Infrastructure.md#testing](Infrastructure.md#testing) | [neu] devkit/testing/mock-vault.ts:createMockVault(), MockVault class mit file map |
| 2937 | ‚¨ú | Infrastructure | Test Fixtures: devkit/testing/fixtures/ Verzeichnis mit Beispiel-Daten | mittel | Nein | - | [Infrastructure.md#test-utilities](Infrastructure.md#test-utilities) | [neu] devkit/testing/fixtures/maps/, creatures/, items/ mit JSON fixtures |
| 2938 | ‚¨ú | Infrastructure | VaultMapAdapter Integration-Tests mit MockVault | mittel | Nein | #2924, #2936 | [Infrastructure.md#pattern-integration-tests-mit-mockvault](Infrastructure.md#pattern-integration-tests-mit-mockvault) | [neu] src/infrastructure/vault/vault-map-adapter.test.ts:describe('VaultMapAdapter') |
| 2939 | üî∂ | Infrastructure | Pessimistic Save-First Strategie: Alle Adapter speichern erst, dann State √§ndern | hoch | Ja | #2923 | [Infrastructure.md#persistent-state](Infrastructure.md#persistent-state) | src/infrastructure/vault/vault-map-adapter.ts, vault-time-adapter.ts, vault-party-adapter.ts [√§ndern - save() vor state update], src/features/*/stores [√§ndern - await save before state mutation] (teilweise implementiert, muss systematisch gepr√ºft werden) |
| 2940 | üî∂ | Infrastructure | Error-Handling in Adapters: MAP_NOT_FOUND, PARSE_FAILED, SAVE_FAILED | hoch | Ja | #2923 | [Infrastructure.md#fehlerbehandlung](Infrastructure.md#fehlerbehandlung) | src/infrastructure/vault/vault-map-adapter.ts, vault-time-adapter.ts, vault-party-adapter.ts [√§ndern - consistent error codes in Result returns] (teilweise implementiert via shared.ts:VaultIO, muss systematisch gepr√ºft werden) |
| 2941 | ‚¨ú | Infrastructure | HybridPresetPort Interface f√ºr Phase 2: getSource(), exportToVault() (Post-MVP) | niedrig | Nein | #2929 | [Infrastructure.md#phase-2-hybrid-sp√§ter](Infrastructure.md#phase-2-hybrid-sp√§ter) | [neu] src/infrastructure/vault/preset-adapter.ts:HybridPresetPort interface [erweitern], getSource(), exportToVault() |

---

## üêõ Bugs

| b# | Beschreibung | Prio | Deps |
|---:|--------------|:----:|------|
| b1 | Encounter-Button in SessionRunner Actions-Sektion entfernen (verschoben nach DetailView #2470) | mittel | #955 |
| b2 | Teleport-Button in SessionRunner Actions-Sektion entfernen (obsolet) | niedrig | #955 |
| b3 | Uhr im SessionRunner nur bei Stunden-/Segment-Ende aktualisiert | mittel | #2302, #2317, #909 |
| b4 | Random Encounter setzt Party auf letztes Hex zur√ºck, Segment-Progress verloren | hoch | #12, #13, #11, #216 |
| b5 | Mehrere Kreaturen gleicher Art werden im Encounter-Panel einzeln aufgelistet statt gruppiert mit Anzahl | mittel | #2408, #245 |
| b6 | "Start combat" Button l√§dt Encounter nicht in Combat-View und √∂ffnet sie nicht | hoch | #2418, #2405, #321, #225 |

---

## Verwandte Dokumentation

| Thema | Dokument |
|-------|----------|
| Core-Types | [Core.md](Core.md) |
| Events | [Events-Catalog.md](Events-Catalog.md) |
| Layer-Struktur | [Project-Structure.md](Project-Structure.md) |
| Error-Handling | [Error-Handling.md](Error-Handling.md) |
| Conventions | [Conventions.md](Conventions.md) |
| Testing | [Testing.md](Testing.md) |
